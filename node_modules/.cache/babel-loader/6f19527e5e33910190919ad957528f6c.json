{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hashToNumberKey = exports.numberToHashKey = exports.bodyKey = exports.headerKey = exports.tdKey = exports.bufBE8 = exports.headBlockKey = exports.headHeaderKey = exports.headsKey = void 0; // Geth compatible DB keys\n\nvar headsKey = 'heads';\nexports.headsKey = headsKey;\n/**\n * Current canonical head for light sync\n */\n\nvar headHeaderKey = 'LastHeader';\nexports.headHeaderKey = headHeaderKey;\n/**\n * Current canonical head for full sync\n */\n\nvar headBlockKey = 'LastBlock';\nexports.headBlockKey = headBlockKey;\n/**\n * headerPrefix + number + hash -> header\n */\n\nvar headerPrefix = Buffer.from('h');\n/**\n * headerPrefix + number + hash + tdSuffix -> td\n */\n\nvar tdSuffix = Buffer.from('t');\n/**\n * headerPrefix + number + numSuffix -> hash\n */\n\nvar numSuffix = Buffer.from('n');\n/**\n * blockHashPrefix + hash -> number\n */\n\nvar blockHashPrefix = Buffer.from('H');\n/**\n * bodyPrefix + number + hash -> block body\n */\n\nvar bodyPrefix = Buffer.from('b'); // Utility functions\n\n/**\n * Convert BN to big endian Buffer\n */\n\nvar bufBE8 = function (n) {\n  return n.toArrayLike(Buffer, 'be', 8);\n};\n\nexports.bufBE8 = bufBE8;\n\nvar tdKey = function (n, hash) {\n  return Buffer.concat([headerPrefix, bufBE8(n), hash, tdSuffix]);\n};\n\nexports.tdKey = tdKey;\n\nvar headerKey = function (n, hash) {\n  return Buffer.concat([headerPrefix, bufBE8(n), hash]);\n};\n\nexports.headerKey = headerKey;\n\nvar bodyKey = function (n, hash) {\n  return Buffer.concat([bodyPrefix, bufBE8(n), hash]);\n};\n\nexports.bodyKey = bodyKey;\n\nvar numberToHashKey = function (n) {\n  return Buffer.concat([headerPrefix, bufBE8(n), numSuffix]);\n};\n\nexports.numberToHashKey = numberToHashKey;\n\nvar hashToNumberKey = function (hash) {\n  return Buffer.concat([blockHashPrefix, hash]);\n};\n\nexports.hashToNumberKey = hashToNumberKey;","map":{"version":3,"mappings":";;;;;qMAEA;;AAEA,IAAMA,QAAQ,GAAG,OAAjB;AA8CEC;AA7CF;;;;AAGA,IAAMC,aAAa,GAAG,YAAtB;AA2CED;AA1CF;;;;AAGA,IAAME,YAAY,GAAG,WAArB;AAwCEF;AAvCF;;;;AAGA,IAAMG,YAAY,GAAGC,MAAM,CAACC,IAAP,CAAY,GAAZ,CAArB;AACA;;;;AAGA,IAAMC,QAAQ,GAAGF,MAAM,CAACC,IAAP,CAAY,GAAZ,CAAjB;AACA;;;;AAGA,IAAME,SAAS,GAAGH,MAAM,CAACC,IAAP,CAAY,GAAZ,CAAlB;AACA;;;;AAGA,IAAMG,eAAe,GAAGJ,MAAM,CAACC,IAAP,CAAY,GAAZ,CAAxB;AACA;;;;AAGA,IAAMI,UAAU,GAAGL,MAAM,CAACC,IAAP,CAAY,GAAZ,CAAnB,C,CAEA;;AAEA;;;;AAGA,IAAMK,MAAM,GAAG,UAACC,CAAD,EAAM;EAAK,QAAC,CAACC,WAAF,CAAcR,MAAd,EAAsB,IAAtB,EAA4B,CAA5B;AAA8B,CAAxD;;AAcEJ;;AAbF,IAAMa,KAAK,GAAG,UAACF,CAAD,EAAQG,IAAR,EAAoB;EAAK,aAAM,CAACC,MAAP,CAAc,CAACZ,YAAD,EAAeO,MAAM,CAACC,CAAD,CAArB,EAA0BG,IAA1B,EAAgCR,QAAhC,CAAd;AAAwD,CAA/F;;AAcEN;;AAbF,IAAMgB,SAAS,GAAG,UAACL,CAAD,EAAQG,IAAR,EAAoB;EAAK,aAAM,CAACC,MAAP,CAAc,CAACZ,YAAD,EAAeO,MAAM,CAACC,CAAD,CAArB,EAA0BG,IAA1B,CAAd;AAA8C,CAAzF;;AAcEd;;AAbF,IAAMiB,OAAO,GAAG,UAACN,CAAD,EAAQG,IAAR,EAAoB;EAAK,aAAM,CAACC,MAAP,CAAc,CAACN,UAAD,EAAaC,MAAM,CAACC,CAAD,CAAnB,EAAwBG,IAAxB,CAAd;AAA4C,CAArF;;AAcEd;;AAbF,IAAMkB,eAAe,GAAG,UAACP,CAAD,EAAM;EAAK,aAAM,CAACI,MAAP,CAAc,CAACZ,YAAD,EAAeO,MAAM,CAACC,CAAD,CAArB,EAA0BJ,SAA1B,CAAd;AAAmD,CAAtF;;AAcEP;;AAbF,IAAMmB,eAAe,GAAG,UAACL,IAAD,EAAa;EAAK,aAAM,CAACC,MAAP,CAAc,CAACP,eAAD,EAAkBM,IAAlB,CAAd;AAAsC,CAAhF;;AAcEd","names":["headsKey","exports","headHeaderKey","headBlockKey","headerPrefix","Buffer","from","tdSuffix","numSuffix","blockHashPrefix","bodyPrefix","bufBE8","n","toArrayLike","tdKey","hash","concat","headerKey","bodyKey","numberToHashKey","hashToNumberKey"],"sources":["../src/util.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}