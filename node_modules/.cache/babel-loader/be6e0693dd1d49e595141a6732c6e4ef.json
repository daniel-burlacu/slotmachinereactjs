{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createBuildCommand = exports.compileDockerVyper = void 0;\n\nconst compilerInput_1 = require(\"./compilerInput\");\n\nconst executeCommand_1 = require(\"./executeCommand\");\n\nconst CONTAINER_PATH = '/project';\n\nfunction compileDockerVyper(config) {\n  return async function compile(sources) {\n    const command = createBuildCommand(config);\n    const input = compilerInput_1.getCompilerInput(sources, config.compilerOptions, 'Vyper');\n    const output = await executeCommand_1.executeCommand(command, input);\n    return JSON.parse(output);\n  };\n}\n\nexports.compileDockerVyper = compileDockerVyper;\n\nfunction createBuildCommand(config) {\n  const tag = config.compilerVersion || 'stable';\n  const volumes = `-v ${process.cwd()}:${CONTAINER_PATH}`;\n  return `docker run ${volumes} -i -a stdin -a stdout ` + `-w ${CONTAINER_PATH} --entrypoint vyper-json vyperlang/vyper:${tag}`;\n}\n\nexports.createBuildCommand = createBuildCommand;","map":{"version":3,"names":["Object","defineProperty","exports","value","createBuildCommand","compileDockerVyper","compilerInput_1","require","executeCommand_1","CONTAINER_PATH","config","compile","sources","command","input","getCompilerInput","compilerOptions","output","executeCommand","JSON","parse","tag","compilerVersion","volumes","process","cwd"],"sources":["F:/Games/slotmachinereact/node_modules/@ethereum-waffle/compiler/dist/cjs/compileDockerVyper.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBuildCommand = exports.compileDockerVyper = void 0;\nconst compilerInput_1 = require(\"./compilerInput\");\nconst executeCommand_1 = require(\"./executeCommand\");\nconst CONTAINER_PATH = '/project';\nfunction compileDockerVyper(config) {\n    return async function compile(sources) {\n        const command = createBuildCommand(config);\n        const input = compilerInput_1.getCompilerInput(sources, config.compilerOptions, 'Vyper');\n        const output = await executeCommand_1.executeCommand(command, input);\n        return JSON.parse(output);\n    };\n}\nexports.compileDockerVyper = compileDockerVyper;\nfunction createBuildCommand(config) {\n    const tag = config.compilerVersion || 'stable';\n    const volumes = `-v ${process.cwd()}:${CONTAINER_PATH}`;\n    return `docker run ${volumes} -i -a stdin -a stdout ` +\n        `-w ${CONTAINER_PATH} --entrypoint vyper-json vyperlang/vyper:${tag}`;\n}\nexports.createBuildCommand = createBuildCommand;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6BF,OAAO,CAACG,kBAAR,GAA6B,KAAK,CAA/D;;AACA,MAAMC,eAAe,GAAGC,OAAO,CAAC,iBAAD,CAA/B;;AACA,MAAMC,gBAAgB,GAAGD,OAAO,CAAC,kBAAD,CAAhC;;AACA,MAAME,cAAc,GAAG,UAAvB;;AACA,SAASJ,kBAAT,CAA4BK,MAA5B,EAAoC;EAChC,OAAO,eAAeC,OAAf,CAAuBC,OAAvB,EAAgC;IACnC,MAAMC,OAAO,GAAGT,kBAAkB,CAACM,MAAD,CAAlC;IACA,MAAMI,KAAK,GAAGR,eAAe,CAACS,gBAAhB,CAAiCH,OAAjC,EAA0CF,MAAM,CAACM,eAAjD,EAAkE,OAAlE,CAAd;IACA,MAAMC,MAAM,GAAG,MAAMT,gBAAgB,CAACU,cAAjB,CAAgCL,OAAhC,EAAyCC,KAAzC,CAArB;IACA,OAAOK,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAP;EACH,CALD;AAMH;;AACDf,OAAO,CAACG,kBAAR,GAA6BA,kBAA7B;;AACA,SAASD,kBAAT,CAA4BM,MAA5B,EAAoC;EAChC,MAAMW,GAAG,GAAGX,MAAM,CAACY,eAAP,IAA0B,QAAtC;EACA,MAAMC,OAAO,GAAI,MAAKC,OAAO,CAACC,GAAR,EAAc,IAAGhB,cAAe,EAAtD;EACA,OAAQ,cAAac,OAAQ,yBAAtB,GACF,MAAKd,cAAe,4CAA2CY,GAAI,EADxE;AAEH;;AACDnB,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B"},"metadata":{},"sourceType":"script"}