{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(\"Ganache\", [], t) : \"object\" == typeof exports ? exports.Ganache = t() : e.Ganache = t();\n}(global, function () {\n  return function (e) {\n    var t = {};\n\n    function __webpack_require__(n) {\n      if (t[n]) return t[n].exports;\n      var r = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(r.exports, r, r.exports, __webpack_require__), r.l = !0, r.exports;\n    }\n\n    return __webpack_require__.m = e, __webpack_require__.c = t, __webpack_require__.d = function (e, t, n) {\n      __webpack_require__.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, __webpack_require__.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, __webpack_require__.t = function (e, t) {\n      if (1 & t && (e = __webpack_require__(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (__webpack_require__.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) __webpack_require__.d(n, r, function (t) {\n        return e[t];\n      }.bind(null, r));\n      return n;\n    }, __webpack_require__.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return __webpack_require__.d(t, \"a\", t), t;\n    }, __webpack_require__.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, __webpack_require__.p = \"\", __webpack_require__(__webpack_require__.s = 36);\n  }([function (e, t, n) {\n    const r = n(1);\n    e.exports = {\n      buffer: function (e) {\n        let t;\n        return \"string\" == typeof e ? (t = 0 === e.indexOf(\"0x\") ? e.slice(2) : e, t = t.length % 2 == 1 ? \"0\" + t : t, t = Buffer.from(t, \"hex\")) : t = Buffer.isBuffer(e) ? e : Buffer.from(e), t;\n      },\n      hex: function (e) {\n        if (\"string\" == typeof e) {\n          if (0 === e.indexOf(\"0x\")) return e.trim();\n          e = new r.BN(e);\n        }\n\n        if (\"boolean\" == typeof e && (e = e ? 1 : 0), \"number\" == typeof e) e = r.intToHex(e);else {\n          if (null == e) return \"0x\";\n          \"object\" == typeof e && (e = e.toString(\"hex\"));\n        }\n        return r.addHexPrefix(e);\n      },\n      _rpcQuantityHexString: function (e) {\n        return e = (e = this.hex(e)).replace(/^(?:0x)(?:0+(.+?))?$/, \"0x$1\");\n      },\n      rpcQuantityHexString: function (e) {\n        return \"0x\" === (e = this._rpcQuantityHexString(e)) && (e = \"0x0\"), e;\n      },\n      rpcQuantityBuffer: function (e) {\n        return \"0x0\" === (e = this._rpcQuantityHexString(e)) && (e = \"0x\"), r.rlp.encode(e);\n      },\n      rpcDataHexString: function (e, t) {\n        if (\"number\" == typeof t) e = this.hex(e).replace(\"0x\", \"\"), e = new Array(t - e.length).fill(\"0\").join(\"\") + e;else {\n          if (0 === e.length) return \"0x\";\n          (e = this.hex(e).replace(\"0x\", \"\")).length % 2 != 0 && (e = \"0\" + e);\n        }\n        return \"0x\" + e;\n      },\n      nullableRpcDataHexString: function (e, t) {\n        if (null === e) return null;\n        {\n          const n = this.rpcDataHexString(e, t);\n          return \"0x\" === n ? null : n;\n        }\n      },\n      nullableRpcQuantityHexString: function (e, t) {\n        if (null === e) return null;\n        {\n          const n = this._rpcQuantityHexString(e, t);\n\n          return \"0x\" === n ? null : n;\n        }\n      },\n      hexWithZeroPadding: function (e) {\n        const t = (e = this.hex(e)).replace(\"0x\", \"\");\n        return 1 & t.length ? \"0x0\" + t : e;\n      },\n      number: function (e) {\n        if (\"number\" == typeof e) return e;\n        if (\"string\" == typeof e && 0 !== e.indexOf(\"0x\")) return parseInt(e, 10);\n        var t = r.toBuffer(e);\n        return r.bufferToInt(t);\n      },\n      rpcError: function (e, t, n) {\n        return JSON.stringify({\n          jsonrpc: \"2.0\",\n          id: e,\n          error: {\n            code: t,\n            message: n\n          }\n        });\n      }\n    };\n  }, function (e, t) {\n    e.exports = require(\"ethereumjs-util\");\n  }, function (e, t) {\n    e.exports = require(\"util\");\n  }, function (e, t) {\n    e.exports = require(\"async\");\n  }, function (e, t) {\n    e.exports = require(\"ethereumjs-common\");\n  }, function (e, t) {\n    e.exports = require(\"web3-provider-engine/subproviders/subprovider.js\");\n  }, function (e, t, n) {\n    var r = n(2).inherits,\n        o = n(0),\n        i = n(44);\n\n    function RuntimeError(e, t) {\n      Error.captureStackTrace(this, this.constructor), this.name = this.constructor.name, this.results = {}, this.hashes = [], this.combine(e, t);\n    }\n\n    r(RuntimeError, Error), RuntimeError.prototype.combine = function (e, t) {\n      if (e instanceof RuntimeError) for (var n = e, r = Object.keys(n.results), a = 0; a < r.length; a++) {\n        var s = r[a];\n        this.results[s] = n.results[s], Array.prototype.push.apply(this.hashes, n.hashes);\n      } else {\n        var c = t.results;\n\n        for (a = 0; a < e.length; a++) {\n          var u = e[a],\n              l = c[a];\n\n          if (l.execResult.exceptionError) {\n            var h,\n                p = o.hex(u.hash());\n            this.hashes.push(p);\n            var f = l.execResult.returnValue;\n            if (f && \"08c379a0\" === f.slice(0, 4).toString(\"hex\")) try {\n              h = i.rawDecode([\"string\"], f.slice(4))[0];\n            } catch (e) {}\n            const e = l.execResult.runState;\n            this.results[p] = {\n              error: l.execResult.exceptionError.error || l.execResult.exceptionError,\n              program_counter: e && e.programCounter,\n              return: o.hex(f),\n              reason: h\n            };\n          }\n        }\n      }\n\n      if (1 === this.hashes.length) {\n        var d = this.results[this.hashes[0]],\n            g = \"VM Exception while processing transaction: \" + d.error;\n        d.reason && (g += \" \" + d.reason), this.message = g;\n      } else {\n        for (g = \"Multiple VM Exceptions while processing transactions: \\n\\n\", a = 0; a < this.hashes.length; a++) g += (p = this.hashes[a]) + \": \" + (d = this.results[p]).error, d.reason && (g += \" \" + d.reason), g += \"\\n\";\n\n        this.message = g;\n      }\n    }, RuntimeError.prototype.count = function () {\n      return Object.keys(this.results).length;\n    }, RuntimeError.fromResults = function (e, t) {\n      var n = new RuntimeError(e, t);\n      return 0 === n.count() ? null : n;\n    }, e.exports = RuntimeError;\n  }, function (e, t) {\n    e.exports = require(\"level-sublevel\");\n  }, function (e, t) {\n    e.exports = require(\"lodash\");\n  }, function (e, t) {\n    e.exports = require(\"source-map-support/register\");\n  }, function (e, t) {\n    e.exports = require(\"ethereumjs-account\");\n  }, function (e, t, n) {\n    const r = n(12).Transaction,\n          o = n(12).FakeTransaction,\n          i = n(4).default,\n          a = n(1),\n          s = n(45),\n          c = a.rlp,\n          u = n(0),\n          l = r.prototype.sign,\n          fakeHash = function () {\n      return null != this._hash ? this._hash : o.prototype.hash.apply(this, arguments);\n    },\n          h = Buffer.from([0]);\n\n    function fixProps(e, t) {\n      e._originals = [];\n      [\"nonce\", \"gasPrice\", \"gasLimit\", \"value\"].forEach(t => function (e, t) {\n        let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 32;\n\n        const r = e._fields.indexOf(t),\n              o = Object.getOwnPropertyDescriptor(e, t);\n\n        Object.defineProperty(e, t, {\n          set: i => {\n            o.set.call(e, i), i = a.toBuffer(i), s(n >= i.length, `The field ${t} must not have more ${n} bytes`), e._originals[r] = i;\n          },\n          get: () => e._originals[r]\n        });\n      }(e, t, 32)), e.isFake() && (Object.defineProperty(e, \"from\", {\n        enumerable: !0,\n        configurable: !0,\n        get: e.getSenderAddress.bind(e),\n        set: t => {\n          e._from = t ? a.toBuffer(t) : null;\n        }\n      }), t && t.from && (e.from = t.from), e.hash = fakeHash);\n    }\n\n    e.exports = class e extends r {\n      constructor(t) {\n        let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e.types.none;\n        let r = arguments.length > 2 ? arguments[2] : undefined;\n        t.chainId && !r && (r = i.forCustomChain(\"mainnet\", {\n          name: \"ganache\",\n          networkId: 1,\n          chainId: t.chainId,\n          comment: \"Local test network\",\n          bootstrapNodes: []\n        }, \"muirGlacier\")), super(void 0, {\n          common: r\n        }), this.ganacheTxCommon = r, this.type = n, fixProps(this, t), function (e, t) {\n          if (t) {\n            \"string\" == typeof t && (t = u.buffer(t)), Buffer.isBuffer(t) && (t = c.decode(t));\n            const n = e;\n\n            if (Array.isArray(t)) {\n              if (t.length > e._fields.length) throw new Error(\"wrong number of fields in data\");\n              t.forEach((e, t) => {\n                n[n._fields[t]] = a.toBuffer(e);\n              });\n            } else {\n              if (\"object\" != (void 0 === t ? \"undefined\" : typeof t)) throw new Error(\"invalid data\");\n              {\n                const r = Object.keys(t);\n                e._fields.forEach(function (e) {\n                  if (-1 !== r.indexOf(e)) {\n                    let r = t[e];\n                    \"string\" != typeof r || r.startsWith(\"0x\") || (r = \"0x\" + r), n[e] = r;\n                  }\n\n                  \"gasLimit\" === e ? -1 !== r.indexOf(\"gas\") && (n.gas = t.gas) : \"data\" === e && -1 !== r.indexOf(\"input\") && (n.input = t.input);\n                }), !e._chainId && t && null != t.chainId && (e.raw[n._fields.indexOf(\"v\")] = e._chainId = t.chainId || 0);\n              }\n            }\n          }\n        }(this, t);\n      }\n\n      static get types() {\n        return {\n          none: 0,\n          signed: 1,\n          fake: 2\n        };\n      }\n\n      static fromJSON(t, n, r, o, s) {\n        let c;\n\n        if (t.to) {\n          const e = u.buffer(t.to);\n          c = e.equals(Buffer.from([0])) ? a.setLengthLeft(e, 20) : e;\n        }\n\n        const l = t.data || t.input,\n              h = {\n          nonce: a.toBuffer(u.hex(t.nonce)),\n          from: a.toBuffer(u.hex(t.from)),\n          value: a.toBuffer(u.hex(t.value)),\n          gasLimit: a.toBuffer(u.hex(t.gas || t.gasLimit)),\n          gasPrice: a.toBuffer(u.hex(t.gasPrice)),\n          data: l ? u.buffer(l) : null,\n          to: c,\n          v: a.toBuffer(t.v),\n          r: a.toBuffer(t.r),\n          s: a.toBuffer(t.s)\n        };\n\n        if (!r && h.v.length > 0) {\n          const e = Math.floor((t.v - 35) / 2);\n          r = i.forCustomChain(\"mainnet\", {\n            name: \"ganache\",\n            networkId: o,\n            chainId: e >= 0 ? e : 1,\n            comment: \"Local test network\",\n            bootstrapNodes: []\n          }, s);\n        }\n\n        const p = new e(h, n, r);\n        return p._hash = t.hash ? u.buffer(t.hash) : null, p;\n      }\n\n      encode() {\n        return {\n          hash: u.nullableRpcDataHexString(this.hash()),\n          nonce: u.nullableRpcQuantityHexString(this.nonce) || \"0x\",\n          from: u.rpcDataHexString(this.from),\n          to: u.nullableRpcDataHexString(this.to),\n          value: u.nullableRpcQuantityHexString(this.value),\n          gas: u.nullableRpcQuantityHexString(this.gasLimit),\n          gasPrice: u.nullableRpcQuantityHexString(this.gasPrice),\n          data: this.data ? this.data.toString(\"hex\") : null,\n          v: u.nullableRpcQuantityHexString(this.v),\n          r: u.nullableRpcQuantityHexString(this.r),\n          s: u.nullableRpcQuantityHexString(this.s),\n          _type: this.type,\n          _options: {\n            hardfork: this.ganacheTxCommon.hardfork(),\n            chainId: this.ganacheTxCommon.chainId(),\n            networkId: this.ganacheTxCommon.networkId()\n          }\n        };\n      }\n\n      isFake() {\n        return (this.type & e.types.fake) === e.types.fake;\n      }\n\n      isSigned() {\n        return (this.type & e.types.signed) === e.types.signed;\n      }\n\n      validateNonce(e) {\n        let t;\n        return t = this.isSigned() && 0 === this.nonce.length ? h : this.nonce, t.equals(e);\n      }\n\n      sign() {\n        l.apply(this, arguments), this.type |= e.types.signed;\n      }\n\n      toJsonRpc(e) {\n        const t = this.hash();\n        let n = null;\n\n        for (let r = 0, o = e.transactions, i = o.length; r < i; r++) if (o[r].hash().equals(t)) {\n          n = r;\n          break;\n        }\n\n        return {\n          hash: u.nullableRpcDataHexString(t),\n          nonce: u.rpcQuantityHexString(this.nonce),\n          blockHash: u.nullableRpcDataHexString(e.hash()),\n          blockNumber: u.nullableRpcQuantityHexString(e.header.number),\n          transactionIndex: u.nullableRpcQuantityHexString(n),\n          from: u.rpcDataHexString(this.from),\n          to: u.nullableRpcDataHexString(this.to),\n          value: u.rpcQuantityHexString(this.value),\n          gas: u.rpcQuantityHexString(this.gasLimit),\n          gasPrice: u.rpcQuantityHexString(this.gasPrice),\n          input: u.rpcDataHexString(this.data),\n          v: u.nullableRpcQuantityHexString(this.v),\n          r: u.nullableRpcQuantityHexString(this.r),\n          s: u.nullableRpcQuantityHexString(this.s)\n        };\n      }\n\n    };\n  }, function (e, t) {\n    e.exports = require(\"ethereumjs-tx\");\n  }, function (e, t) {\n    e.exports = require(\"ethereumjs-block\");\n  }, function (e, t, n) {\n    var r = n(0);\n\n    function Log(e) {\n      var t = this;\n      Object.keys(e).forEach(function (n) {\n        t[n] = e[n];\n      });\n    }\n\n    Log.prototype.toJSON = function () {\n      return {\n        logIndex: r.rpcQuantityHexString(this.logIndex),\n        transactionIndex: r.rpcQuantityHexString(this.transactionIndex),\n        transactionHash: r.rpcDataHexString(this.transactionHash),\n        blockHash: r.rpcDataHexString(this.block.hash()),\n        blockNumber: r.rpcQuantityHexString(this.block.header.number),\n        address: r.rpcDataHexString(this.address),\n        data: r.rpcDataHexString(this.data),\n        topics: this.topics,\n        type: \"mined\",\n        removed: this.removed || !1\n      };\n    }, e.exports = Log;\n  }, function (e, t, n) {\n    var r = n(0);\n\n    function Receipt(e, t, n, r, o, i, a, s) {\n      this.tx = e, this.block = t, this.logs = n, this.gasUsed = r, this.cumulativeGasUsed = o, this.contractAddress = i, this.status = a, this.logsBloom = s, this.transactionIndex = 0, this.txHash = e.hash();\n\n      for (var c = 0; c < t.transactions.length; c++) {\n        if (t.transactions[c].hash().equals(this.txHash)) {\n          this.transactionIndex = c;\n          break;\n        }\n      }\n    }\n\n    Receipt.prototype.toJSON = function () {\n      return {\n        transactionHash: r.rpcDataHexString(this.txHash),\n        transactionIndex: r.rpcQuantityHexString(this.transactionIndex),\n        blockHash: r.rpcDataHexString(this.block.hash()),\n        blockNumber: r.rpcQuantityHexString(this.block.header.number),\n        from: r.rpcDataHexString(this.tx.from),\n        to: r.nullableRpcDataHexString(this.tx.to),\n        gasUsed: r.rpcQuantityHexString(this.gasUsed),\n        cumulativeGasUsed: r.rpcQuantityHexString(this.cumulativeGasUsed),\n        contractAddress: null != this.contractAddress ? r.rpcDataHexString(this.contractAddress) : null,\n        logs: this.logs.map(function (e) {\n          return e.toJSON();\n        }),\n        status: r.rpcQuantityHexString(this.status),\n        logsBloom: r.rpcDataHexString(this.logsBloom),\n        v: r.rpcQuantityHexString(this.tx.v),\n        r: r.rpcQuantityHexString(this.tx.r),\n        s: r.rpcQuantityHexString(this.tx.s)\n      };\n    }, e.exports = Receipt;\n  }, function (e, t) {\n    class n extends Error {\n      constructor(e, t, n) {\n        super(\"LevelUpArrayAdapter named '\" + e + \"' index out of range: index \" + t + \"; length: \" + n), this.name = `${this.constructor.name}:${e}`, this.type = e;\n      }\n\n    }\n\n    e.exports = {\n      LevelUpOutOfRangeError: n,\n      BlockOutOfRangeError: class extends n {\n        constructor(e, t) {\n          super(\"blocks\", e, t);\n        }\n\n      }\n    };\n  }, function (e, t) {\n    e.exports = require(\"events\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(77).version,\n        o = n(19),\n        i = n(78),\n        a = n(32),\n        s = n(33),\n        c = n(93),\n        u = n(94),\n        l = n(21),\n        Web3 = function () {\n      var e = this;\n      o.packageInit(this, arguments), this.version = r, this.utils = l, this.eth = new i(this), this.shh = new c(this), this.bzz = new u(this);\n      var t = this.setProvider;\n\n      this.setProvider = function (n, r) {\n        return t.apply(e, arguments), e.eth.setRequestManager(e._requestManager), e.shh.setRequestManager(e._requestManager), e.bzz.setProvider(n), !0;\n      };\n    };\n\n    Web3.version = r, Web3.utils = l, Web3.modules = {\n      Eth: i,\n      Net: a,\n      Personal: s,\n      Shh: c,\n      Bzz: u\n    }, o.addProviders(Web3), e.exports = Web3;\n  }, function (e, t) {\n    e.exports = require(\"web3-core\");\n  }, function (e, t) {\n    e.exports = require(\"underscore\");\n  }, function (e, t) {\n    e.exports = require(\"web3-utils\");\n  }, function (e, t, n) {\n    n(9);\n    const r = n(37),\n          o = n(38),\n          i = n(39),\n          a = n(40),\n          s = n(41),\n          c = n(42),\n          u = n(100),\n          l = n(6),\n          h = n(17),\n          p = n(8);\n\n    function Provider(e) {\n      const t = this;\n      h.call(this), this.options = e = t._applyDefaultOptions(e || {});\n      const n = new c(e, this);\n      this.engine = new r({\n        blockTracker: new u({\n          blockchain: n.state.blockchain\n        })\n      });\n      const l = new o();\n      this.engine.manager = n, this.engine.addProvider(new i()), this.engine.addProvider(new a()), this.engine.addProvider(l), this.engine.addProvider(new s()), this.engine.addProvider(n), this.engine.setMaxListeners(100), this.engine.start(), this.manager = n, this.sendAsync = this.send.bind(this), this.send = this.send.bind(this), this.close = this.close.bind(this), this._queueRequest = this._queueRequest.bind(this), this._processRequestQueue = this._processRequestQueue.bind(this), l.on(\"data\", function (e, n) {\n        t.emit(\"data\", e, n);\n      });\n    }\n\n    const f = {\n      _chainId: 1,\n      _chainIdRpc: 1337,\n      vmErrorsOnRPCResponse: !0,\n      verbose: !1,\n      asyncRequestProcessing: !1,\n      logger: {\n        log: function () {}\n      }\n    };\n    Provider.prototype = Object.create(h.prototype), Provider.prototype.constructor = Provider, Provider.prototype._applyDefaultOptions = function (e) {\n      return p.merge({}, f, e);\n    }, Provider.prototype.send = function (e, t) {\n      if (\"function\" != typeof t) throw new Error(\"No callback provided to provider's send function. As of web3 1.0, provider.send is no longer synchronous and must be passed a callback as its final argument.\");\n\n      const n = this,\n            externalize = function (e) {\n        return p.cloneDeep(e);\n      };\n\n      e = Array.isArray(e) ? e.map(externalize) : externalize(e);\n\n      const intermediary = function (r, o) {\n        let i;\n\n        if (o = p.cloneDeep(o), Array.isArray(o)) {\n          i = [];\n\n          for (let t = 0; t < o.length; t++) i.push(n.reportErrorInResponse(e[t], r, o[t]));\n        } else i = n.reportErrorInResponse(e, r, o);\n\n        n.options.verbose && n.options.logger.log(\" <   \" + JSON.stringify(i, null, 2).split(\"\\n\").join(\"\\n <   \")), process.nextTick(() => t(i.error ? r : null, i));\n      };\n\n      n.options.verbose && n.options.logger.log(\"   > \" + JSON.stringify(e, null, 2).split(\"\\n\").join(\"\\n   > \")), n.options.asyncRequestProcessing ? n.engine.sendAsync(e, intermediary) : n._queueRequest(e, intermediary);\n    }, Provider.prototype.close = function (e) {\n      this.manager.state.stopMining(), this.manager.state.blockchain.close(e), this.engine.stop();\n    }, Provider.prototype._queueRequest = function (e, t) {\n      this._requestQueue || (this._requestQueue = []), this._requestQueue.push({\n        payload: e,\n        callback: t\n      }), setImmediate(this._processRequestQueue);\n    }, Provider.prototype._processRequestQueue = function () {\n      const e = this;\n      if (e._requestInProgress) return;\n      e._requestInProgress = !0;\n\n      const t = e._requestQueue.shift();\n\n      t ? e.engine.sendAsync(t.payload, (n, r) => {\n        e._requestQueue.length > 0 && setImmediate(e._processRequestQueue), t.callback(n, r), e._requestInProgress = !1;\n      }) : (e._requestInProgress = !1, e._requestQueue.length > 0 && setImmediate(e._processRequestQueue));\n    }, Provider.prototype.cleanUpErrorObject = function (e, t) {\n      if (!e || !t.error) return t;\n      const n = {\n        error: {\n          data: {}\n        }\n      };\n      return e.message ? (n.error.message = e.message, n.error.data.stack = e.stack, n.error.data.name = e.name, \"code\" in e && (n.error.code = e.code)) : t.error || (n.error = {\n        message: e.toString()\n      }), p.merge(t, n);\n    };\n    const d = new Set([\"eth_sendTransaction\", \"eth_sendRawTransaction\", \"personal_sendTransaction\"]);\n    Provider.prototype._isTransactionRequest = function (e) {\n      return d.has(e.method);\n    }, Provider.prototype.reportErrorInResponse = function (e, t, n) {\n      const r = this;\n      return t ? (r._isTransactionRequest(e) && t instanceof l && (n.result = t.hashes[0], r.options.vmErrorsOnRPCResponse ? (n.error.data || (n.error.data = {}), n.error.data[t.hashes[0]] = t.results[t.hashes[0]]) : delete n.error), \"eth_call\" === e.method && t instanceof l && (r.options.vmErrorsOnRPCResponse ? (n.error.data || (n.error.data = {}), n.error.data[t.hashes[0]] = t.results[t.hashes[0]]) : (n.result = t.results[t.hashes[0]].return || \"0x\", delete n.error)), r.cleanUpErrorObject(t, n)) : n;\n    }, e.exports = Provider;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n      return typeof e;\n    } : function (e) {\n      return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n    },\n        o = n(48).Buffer,\n        i = n(1),\n        a = n(24),\n        s = n(49),\n        c = n(50),\n        u = n(51),\n        l = n(52);\n\n    function assert(e, t) {\n      if (!e) throw new Error(t || \"Assertion failed\");\n    }\n\n    function runCipherBuffer(e, t) {\n      return o.concat([e.update(t), e.final()]);\n    }\n\n    var Wallet = function (e, t) {\n      if (e && t) throw new Error(\"Cannot supply both a private and a public key to the constructor\");\n      if (e && !i.isValidPrivate(e)) throw new Error(\"Private key does not satisfy the curve requirements (ie. it is invalid)\");\n      if (t && !i.isValidPublic(t)) throw new Error(\"Invalid public key\");\n      this._privKey = e, this._pubKey = t;\n    };\n\n    Object.defineProperty(Wallet.prototype, \"privKey\", {\n      get: function () {\n        return assert(this._privKey, \"This is a public key only wallet\"), this._privKey;\n      }\n    }), Object.defineProperty(Wallet.prototype, \"pubKey\", {\n      get: function () {\n        return this._pubKey || (this._pubKey = i.privateToPublic(this.privKey)), this._pubKey;\n      }\n    }), Wallet.generate = function (e) {\n      if (!e) return new Wallet(s(32));\n\n      for (var t = new i.BN(\"088f924eeceeda7fe92e1f5b0fffffffffffffff\", 16);;) {\n        var n = s(32);\n        if (new i.BN(i.privateToAddress(n)).lte(t)) return new Wallet(n);\n      }\n    }, Wallet.generateVanityAddress = function (e) {\n      for (\"object\" !== (void 0 === e ? \"undefined\" : r(e)) && (e = new RegExp(e));;) {\n        var t = s(32),\n            n = i.privateToAddress(t);\n        if (e.test(n.toString(\"hex\"))) return new Wallet(t);\n      }\n    }, Wallet.prototype.getPrivateKey = function () {\n      return this.privKey;\n    }, Wallet.prototype.getPrivateKeyString = function () {\n      return i.bufferToHex(this.getPrivateKey());\n    }, Wallet.prototype.getPublicKey = function () {\n      return this.pubKey;\n    }, Wallet.prototype.getPublicKeyString = function () {\n      return i.bufferToHex(this.getPublicKey());\n    }, Wallet.prototype.getAddress = function () {\n      return i.publicToAddress(this.pubKey);\n    }, Wallet.prototype.getAddressString = function () {\n      return i.bufferToHex(this.getAddress());\n    }, Wallet.prototype.getChecksumAddressString = function () {\n      return i.toChecksumAddress(this.getAddressString());\n    }, Wallet.prototype.toV3 = function (e, t) {\n      assert(this._privKey, \"This is a public key only wallet\");\n      var n,\n          r = (t = t || {}).salt || s(32),\n          l = t.iv || s(16),\n          h = t.kdf || \"scrypt\",\n          p = {\n        dklen: t.dklen || 32,\n        salt: r.toString(\"hex\")\n      };\n      if (\"pbkdf2\" === h) p.c = t.c || 262144, p.prf = \"hmac-sha256\", n = a.pbkdf2Sync(o.from(e), r, p.c, p.dklen, \"sha256\");else {\n        if (\"scrypt\" !== h) throw new Error(\"Unsupported kdf\");\n        p.n = t.n || 262144, p.r = t.r || 8, p.p = t.p || 1, n = c(o.from(e), r, p.n, p.r, p.p, p.dklen);\n      }\n      var f = a.createCipheriv(t.cipher || \"aes-128-ctr\", n.slice(0, 16), l);\n      if (!f) throw new Error(\"Unsupported cipher\");\n      var d = runCipherBuffer(f, this.privKey),\n          g = i.keccak256(o.concat([n.slice(16, 32), o.from(d, \"hex\")]));\n      return {\n        version: 3,\n        id: u({\n          random: t.uuid || s(16)\n        }),\n        address: this.getAddress().toString(\"hex\"),\n        crypto: {\n          ciphertext: d.toString(\"hex\"),\n          cipherparams: {\n            iv: l.toString(\"hex\")\n          },\n          cipher: t.cipher || \"aes-128-ctr\",\n          kdf: h,\n          kdfparams: p,\n          mac: g.toString(\"hex\")\n        }\n      };\n    }, Wallet.prototype.getV3Filename = function (e) {\n      return [\"UTC--\", (e ? new Date(e) : new Date()).toJSON().replace(/:/g, \"-\"), \"--\", this.getAddress().toString(\"hex\")].join(\"\");\n    }, Wallet.prototype.toV3String = function (e, t) {\n      return JSON.stringify(this.toV3(e, t));\n    }, Wallet.fromPublicKey = function (e, t) {\n      return t && (e = i.importPublic(e)), new Wallet(null, e);\n    }, Wallet.fromExtendedPublicKey = function (e) {\n      return assert(\"xpub\" === e.slice(0, 4), \"Not an extended public key\"), e = l.decode(e).slice(45), Wallet.fromPublicKey(e, !0);\n    }, Wallet.fromPrivateKey = function (e) {\n      return new Wallet(e);\n    }, Wallet.fromExtendedPrivateKey = function (e) {\n      assert(\"xprv\" === e.slice(0, 4), \"Not an extended private key\");\n      var t = l.decode(e);\n      return assert(0 === t[45], \"Invalid extended private key\"), Wallet.fromPrivateKey(t.slice(46));\n    }, Wallet.fromV1 = function (e, t) {\n      assert(\"string\" == typeof t);\n      var n = \"object\" === (void 0 === e ? \"undefined\" : r(e)) ? e : JSON.parse(e);\n      if (\"1\" !== n.Version) throw new Error(\"Not a V1 wallet\");\n      if (\"scrypt\" !== n.Crypto.KeyHeader.Kdf) throw new Error(\"Unsupported key derivation scheme\");\n      var s = n.Crypto.KeyHeader.KdfParams,\n          u = c(o.from(t), o.from(n.Crypto.Salt, \"hex\"), s.N, s.R, s.P, s.DkLen),\n          l = o.from(n.Crypto.CipherText, \"hex\");\n      if (i.keccak256(o.concat([u.slice(16, 32), l])).toString(\"hex\") !== n.Crypto.MAC) throw new Error(\"Key derivation failed - possibly wrong passphrase\");\n      var h = runCipherBuffer(a.createDecipheriv(\"aes-128-cbc\", i.keccak256(u.slice(0, 16)).slice(0, 16), o.from(n.Crypto.IV, \"hex\")), l);\n      return new Wallet(h);\n    }, Wallet.fromV3 = function (e, t, n) {\n      assert(\"string\" == typeof t);\n      var s,\n          u,\n          l = \"object\" === (void 0 === e ? \"undefined\" : r(e)) ? e : JSON.parse(n ? e.toLowerCase() : e);\n      if (3 !== l.version) throw new Error(\"Not a V3 wallet\");\n      if (\"scrypt\" === l.crypto.kdf) u = l.crypto.kdfparams, s = c(o.from(t), o.from(u.salt, \"hex\"), u.n, u.r, u.p, u.dklen);else {\n        if (\"pbkdf2\" !== l.crypto.kdf) throw new Error(\"Unsupported key derivation scheme\");\n        if (\"hmac-sha256\" !== (u = l.crypto.kdfparams).prf) throw new Error(\"Unsupported parameters to PBKDF2\");\n        s = a.pbkdf2Sync(o.from(t), o.from(u.salt, \"hex\"), u.c, u.dklen, \"sha256\");\n      }\n      var h = o.from(l.crypto.ciphertext, \"hex\");\n      if (i.keccak256(o.concat([s.slice(16, 32), h])).toString(\"hex\") !== l.crypto.mac) throw new Error(\"Key derivation failed - possibly wrong passphrase\");\n      var p = runCipherBuffer(a.createDecipheriv(l.crypto.cipher, s.slice(0, 16), o.from(l.crypto.cipherparams.iv, \"hex\")), h);\n      return new Wallet(p);\n    }, Wallet.fromEthSale = function (e, t) {\n      assert(\"string\" == typeof t);\n      var n = \"object\" === (void 0 === e ? \"undefined\" : r(e)) ? e : JSON.parse(e),\n          s = o.from(n.encseed, \"hex\"),\n          c = a.pbkdf2Sync(t, t, 2e3, 32, \"sha256\").slice(0, 16),\n          u = runCipherBuffer(a.createDecipheriv(\"aes-128-cbc\", c, s.slice(0, 16)), s.slice(16)),\n          l = new Wallet(i.keccak256(u));\n      if (l.getAddress().toString(\"hex\") !== n.ethaddr) throw new Error(\"Decoded key mismatch - possibly wrong passphrase\");\n      return l;\n    }, e.exports = Wallet;\n  }, function (e, t) {\n    e.exports = require(\"crypto\");\n  }, function (e, t, n) {\n    var r = n(0),\n        o = n(10).default,\n        i = n(13),\n        a = n(14),\n        s = n(15),\n        c = n(55).default,\n        u = n(4).default,\n        l = n(6),\n        h = n(26),\n        p = n(1),\n        f = n(3),\n        d = n(56),\n        g = n(57),\n        m = n(17),\n        b = n(70),\n        k = n(8),\n        y = n(2).promisify;\n    const v = p.BN;\n\n    function BlockchainDouble(e) {\n      if (m.apply(this), this.options = e = this._applyDefaultOptions(e || {}), this.logger = e.logger || console, this.data = new g(e), null != e.trie && null != e.db_path) throw new Error(\"Can't initialize a TestRPC with a db and a custom trie.\");\n      this.pending_transactions = [], this.blockGasLimit = e.gasLimit, this.defaultTransactionGasLimit = e.defaultTransactionGasLimit, this.timeAdjustment = 0;\n    }\n\n    const x = {\n      gasLimit: \"0x6691b7\",\n      defaultTransactionGasLimit: \"0x15f90\",\n      time: null,\n      debug: !1,\n      hardfork: \"muirGlacier\",\n      allowUnlimitedContractSize: !1\n    };\n    BlockchainDouble.prototype = Object.create(m.prototype), BlockchainDouble.prototype.constructor = BlockchainDouble, BlockchainDouble.prototype._applyDefaultOptions = function (e) {\n      return k.merge(e, x, Object.assign({}, e));\n    }, BlockchainDouble.prototype.initialize = function (e, t) {\n      var n = this;\n      this.data.initialize(function (r) {\n        if (r) return t(r);\n        n.latestBlock(function (r, o) {\n          if (r) return t(r);\n          var i = n.options,\n              a = null;\n          if (o && (a = o.header.stateRoot), n.stateTrie = n.createStateTrie(n.data.trie_db, a), n.vm = i.vm || n.createVMFromStateTrie(n.stateTrie, !0), i.time && n.setTime(i.time), o) return n.emit(\"block\", o), t();\n          n.createGenesisBlock(function (r, o) {\n            if (r) return t(r);\n            e = e || [], n.vm.stateManager.checkpoint(() => {\n              f.eachSeries(e, function (e, t) {\n                n.vm.stateManager.putAccount(p.toBuffer(e.address), e.account, t);\n              }, function (e) {\n                if (e) return t(e);\n                n.vm.stateManager.commit(() => {\n                  n.putBlock(o, [], [], t);\n                });\n              });\n            });\n          });\n        });\n      });\n    }, BlockchainDouble.prototype.createVMFromStateTrie = function (e, t) {\n      const n = this,\n            o = u.forCustomChain(\"mainnet\", {\n        name: \"ganache\",\n        networkId: n.options.network_id || n.forkVersion,\n        chainId: n.options._chainId,\n        comment: \"Local test network\",\n        bootstrapNodes: []\n      }, n.options.hardfork),\n            i = new c({\n        state: e,\n        common: o,\n        blockchain: {\n          getBlock: function (e, t) {\n            try {\n              e = r.number(e);\n            } catch (e) {}\n\n            n.getBlock(e, t);\n          }\n        },\n        activatePrecompiles: t || !1,\n        allowUnlimitedContractSize: n.options.allowUnlimitedContractSize\n      });\n      return !0 === n.options.debug && i.on(\"step\", function (e) {\n        var t = e.opcode.name,\n            o = e.opcode.in;\n\n        if (o) {\n          var i = e.stack.slice(-o).map(e => r.hex(e)).join(\" \");\n          n.logger.log(`${t} ${i}`);\n        } else n.logger.log(t);\n      }), i;\n    }, BlockchainDouble.prototype.createStateTrie = function (e, t) {\n      return new h(e, t);\n    }, BlockchainDouble.prototype.createGenesisBlock = function (e) {\n      this.createBlock(e);\n    }, BlockchainDouble.prototype.latestBlock = function (e) {\n      this.data.blocks.last(function (t, n) {\n        if (t) return e(t);\n        e(null, n);\n      });\n    }, BlockchainDouble.prototype.getEffectiveBlockNumber = function (e, t) {\n      return \"string\" != typeof e && (e = r.hex(e)), e.indexOf(\"0x\") >= 0 ? t(null, r.number(e)) : \"latest\" === e || \"pending\" === e ? this.getHeight(t) : \"earliest\" === e ? t(null, 0) : void 0;\n    }, BlockchainDouble.prototype.getBlock = function (e, t) {\n      var n = this;\n\n      if (\"string\" != typeof e && (e = r.hex(e)), e.indexOf(\"0x\") >= 0) {\n        var o = e;\n        if (!(o.length > 40)) return this.data.blocks.get(r.number(o), t);\n        this.data.blockHashes.get(r.hex(o), function (e, r) {\n          return e ? t(e) : n.data.blocks.get(r, t);\n        });\n      } else {\n        if (\"latest\" === e || \"pending\" === e) return this.latestBlock(t);\n        if (\"earliest\" === e) return this.data.blocks.first(t);\n        process.nextTick(t, new Error('Invalid `blockNumber`: \"' + e + '\"'));\n      }\n    }, BlockchainDouble.prototype.putBlock = function (e, t, n, o) {\n      var i = this;\n      e.header.stateRoot = this.stateTrie.root, this.data.blocks.length(function (a, s) {\n        if (a) return o(a);\n        var c = [i.data.blocks.push.bind(i.data.blocks, e), i.data.blockLogs.push.bind(i.data.blockLogs, t), i.data.blockHashes.set.bind(i.data.blockHashes, r.hex(e.hash()), s)];\n        e.transactions.forEach(function (e, t) {\n          var o = r.hex(e.hash());\n          c.push(i.data.transactions.set.bind(i.data.transactions, o, e), i.data.transactionReceipts.set.bind(i.data.transactionReceipts, o, n[t]));\n        }), f.parallel(c, (t, n) => {\n          t || i.emit(\"block\", e), o(t, n);\n        });\n      });\n    }, BlockchainDouble.prototype.popBlock = function (e) {\n      var t = this;\n      this.data.blocks.last(function (n, o) {\n        if (n) return e(n);\n        if (null == o) return e(null, null);\n        var i = [],\n            a = r.hex(o.hash());\n        o.transactions.forEach(function (e) {\n          var n = r.hex(e.hash());\n          i.push(t.data.transactions.del.bind(t.data.transactions, n), t.data.transactionReceipts.del.bind(t.data.transactionReceipts, n));\n        }), i.push(t.data.blockLogs.pop.bind(t.data.blockLogs), t.data.blockHashes.del.bind(t.data.blockHashes, a), t.data.blocks.pop.bind(t.data.blocks)), f.series(i, function (n) {\n          if (n) return e(n);\n          t.data.blocks.last(function (n, r) {\n            if (n) return e(n);\n            t.vm.stateManager.setStateRoot(r.header.stateRoot, function (t) {\n              e(t, o);\n            });\n          });\n        });\n      });\n    }, BlockchainDouble.prototype.clearPendingTransactions = function () {\n      this.pending_transactions = [];\n    }, BlockchainDouble.prototype.createBlock = function (e, t, n) {\n      var o = this;\n      \"function\" == typeof e ? (n = e, e = null, t = !1) : \"function\" == typeof t && (n = t, t = !1);\n      var a = new i();\n      !function (t) {\n        if (e) return t(null, e);\n        o.latestBlock(t);\n      }(function (e, i) {\n        if (e) return n(e);\n        if (a.header.gasLimit = o.blockGasLimit, null != i && t) a.header.number = i.header.number, a.header.timestamp = i.header.timestamp, a.header.parentHash = i.header.parentHash;else {\n          var s = null != i ? r.number(i.header.number) : -1;\n          a.header.number = r.hex(s + 1), a.header.timestamp = r.hex(o.currentTime()), null != i && (a.header.parentHash = r.hex(i.hash()));\n        }\n        n(null, a);\n      });\n    }, BlockchainDouble.prototype.getQueuedNonce = function (e, t) {\n      var n = null,\n          i = r.buffer(e);\n      if (this.pending_transactions.forEach(function (e) {\n        if (e.from.equals(i)) {\n          var t = new v(e.nonce);\n          (null === n || t.gt(n)) && (n = t);\n        }\n      }), null != n) return t(null, n.iaddn(1).toArrayLike(Buffer));\n      this.stateTrie.get(i, function (e, n) {\n        if (e) return t(e);\n        var r = new o(n);\n        t(null, 0 === r.nonce.length ? Buffer.from([0]) : r.nonce);\n      });\n    }, BlockchainDouble.prototype.queueTransaction = function (e) {\n      this.pending_transactions.push(e);\n    }, BlockchainDouble.prototype.sortByPriceAndNonce = function () {\n      var e = {};\n      this.pending_transactions.forEach(t => {\n        const n = t.from.toString(\"hex\"),\n              r = e[n];\n        r ? r.push(t) : e[n] = [t];\n      });\n\n      var nonceSort = function (e, t) {\n        return parseInt(r.hex(e.nonce), 16) - parseInt(r.hex(t.nonce), 16);\n      };\n\n      Object.keys(e).forEach(t => {\n        e[t].sort(nonceSort);\n      });\n      var t = new d(function (e, t) {\n        return parseInt(r.hex(t.gasPrice), 16) - parseInt(r.hex(e.gasPrice), 16);\n      });\n      Object.keys(e).forEach(n => {\n        t.push(e[n].shift());\n      });\n      const n = [];\n\n      for (; t.size() > 0;) {\n        const r = t.pop(),\n              o = r.from.toString(\"hex\");\n        e[o].length > 0 && t.push(e[o].shift()), n.push(r);\n      }\n\n      this.pending_transactions = n;\n    }, BlockchainDouble.prototype.getReadyCall = function (e, t, n, r) {\n      const readyCall = (e, n, o) => {\n        if (n) return r(n);\n        this.createBlock(o, t, (t, n) => {\n          if (t) return r(t);\n          n.transactions.push(e), n.header.gasLimit = e.gasLimit;\n          const i = {\n            tx: e,\n            block: n,\n            skipBalance: !0,\n            skipNonce: !0\n          };\n          r(null, o.header.stateRoot, i);\n        });\n      };\n\n      \"latest\" === n ? this.latestBlock(readyCall.bind(null, e)) : this.getBlock(n, readyCall.bind(null, e));\n    }, BlockchainDouble.prototype.readyCall = function (e, t, n, r) {\n      this.getReadyCall(e, t, n, (e, t, n) => {\n        if (e) return void r(e);\n        const o = this.createStateTrie(this.data.trie_db, t, {\n          persist: !1\n        }),\n              i = this.createVMFromStateTrie(o);\n        r(null, i, n);\n      });\n    }, BlockchainDouble.prototype.processCall = function (e, t, n) {\n      this.readyCall(e, !0, t, async (t, r, o) => {\n        if (t) return void n(t);\n        const i = await r.runTx(o).catch(e => ({\n          vmerr: e\n        }));\n        let a = i.vmerr;\n        if (a && a instanceof Error == !1 && (a = new Error(\"VM error: \" + a)), a) return n(a, t);\n        a = l.fromResults([e], {\n          results: [i]\n        }), n(a, i);\n      });\n    }, BlockchainDouble.prototype.estimateGas = function (e, t, n) {\n      this.getReadyCall(e, !1, t, (e, t, r) => {\n        if (e) return void n(e);\n        b(() => {\n          const e = this.createStateTrie(this.data.trie_db, t);\n          return this.createVMFromStateTrie(e);\n        }, r, n);\n      });\n    }, BlockchainDouble.prototype.processBlock = async function (e, t, n, o) {\n      \"function\" == typeof n && (o = n, n = !0);\n      const i = await e.runBlock({\n        block: t,\n        generate: !0,\n        skipBlockValidation: !0\n      }).catch(e => ({\n        vmerr: e\n      }));\n      let c = i.vmerr;\n      if (c && c instanceof Error == !1 && (c = new Error(\"VM error: \" + c)), c) return void o(c);\n      c = l.fromResults(t.transactions, i);\n      var u = [],\n          f = [],\n          d = 0;\n      i.results.forEach(function (e) {\n        d += r.number(e.gasUsed);\n      }), t.header.gasUsed = p.toBuffer(r.hex(d));\n\n      const g = new h(),\n            m = new h(),\n            b = [],\n            putInTrie = (e, t, n) => y(e.put.bind(e))(t, n);\n\n      for (var k = 0; k < i.receipts.length; k++) {\n        var v = i.results[k],\n            x = i.receipts[k],\n            _ = t.transactions[k],\n            w = _.hash(),\n            B = [];\n\n        if (void 0 === v.execResult.exceptionError) for (var S = 0; S < x.logs.length; S++) {\n          for (var T = x.logs[S], A = r.hex(T[0]), C = [], D = 0; D < T[1].length; D++) C.push(r.hex(T[1][D]));\n\n          var F = r.hex(T[2]),\n              E = new a({\n            logIndex: r.hex(S),\n            transactionIndex: r.hex(k),\n            transactionHash: w,\n            block: t,\n            address: A,\n            data: F,\n            topics: C,\n            type: \"mined\"\n          });\n          u.push(E), B.push(E);\n        }\n        const e = new s(_, t, B, v.gasUsed.toArrayLike(Buffer), x.gasUsed, v.createdAddress, x.status, r.hex(x.bitvector));\n        f.push(e);\n        const n = [x.status, x.gasUsed, x.bitvector, x.logs],\n              o = p.rlp.encode(n),\n              c = p.rlp.encode(k);\n        b.push(putInTrie(g, c, _.serialize())), b.push(putInTrie(m, c, o));\n      }\n\n      function done(e) {\n        if (e) return o(e);\n        o(c, t.transactions, i);\n      }\n\n      await Promise.all(b), t.header.transactionsTrie = p.toBuffer(g.root), t.header.receiptTrie = p.toBuffer(m.root), n ? this.putBlock(t, u, f, done) : done();\n    }, BlockchainDouble.prototype.processNextBlock = function (e, t) {\n      var n = this;\n      \"function\" == typeof e && (t = e, e = void 0), n.sortByPriceAndNonce();\n\n      for (var o = [], i = 0, a = r.number(n.blockGasLimit); n.pending_transactions.length > 0;) {\n        var s = n.pending_transactions[0],\n            c = r.number(s.gasLimit);\n        if (!(i + c <= a)) break;\n        i += c, n.pending_transactions.shift(), o.push(s);\n      }\n\n      if (0 === o.length && n.pending_transactions.length > 0) {\n        return t(\"Unexpected error condition: next transaction exceeds block gas limit\");\n      }\n\n      this.createBlock(function (i, a) {\n        if (i) return t(i);\n        e && (n.data.blocks.last(function (t, o) {\n          t || o && r.number(o.header.timestamp) > e && n.logger.log(\"Waring: Setting the block timestamp (\" + e + \") that is earlier than the parent block one.\");\n        }), a.header.timestamp = r.hex(e), n.setTime(new Date(1e3 * e))), Array.prototype.push.apply(a.transactions, o), n.processBlock(n.vm, a, !0, t);\n      });\n    }, BlockchainDouble.prototype.processTransactionTrace = async function (e, t, n) {\n      const o = this,\n            i = r.hex(e);\n      let a,\n          s = \"\",\n          c = null;\n      const u = {\n        currentDepth: -1,\n        stack: []\n      },\n            l = {\n        gas: 0,\n        returnValue: \"\",\n        structLogs: []\n      };\n\n      function stepListener(e, n) {\n        const i = r.number(e.gasLeft),\n              s = r.number(c.gasLimit) - i - l.gas;\n        l.gas += s;\n        let h = null;\n\n        if (!t.disableMemory && (h = Buffer.from(e.memory).toString(\"hex\"), h = h.match(/.{1,64}/g) || [], h.length > 0)) {\n          const e = h[h.length - 1];\n          e.length < 64 && (h[h.length - 1] = e + new Array(64 - e.length + 1).join(\"0\"));\n        }\n\n        let p = null;\n        t.disableStack || (p = e.stack.map(e => r.rpcDataHexString(e, 64).replace(\"0x\", \"\")));\n        let f = {\n          depth: e.depth,\n          error: \"\",\n          gas: i,\n          gasCost: 0,\n          memory: h,\n          op: e.opcode.name,\n          pc: e.pc,\n          stack: p,\n          storage: null\n        };\n        l.structLogs.length && (l.structLogs[l.structLogs.length - 1].gasCost = s), t.disableStorage ? (l.structLogs.push(f), n()) : f = o.processStorageTrace(f, u, e, a, function (e, t) {\n          if (e) return n(e);\n          l.structLogs.push(t), n();\n        });\n      }\n\n      this.getTransactionReceipt(i, function (e, t) {\n        if (e) return n(e);\n        if (!t) return n(new Error(\"Unknown transaction \" + i));\n        const u = t.block;\n        o.getBlock(u.header.parentHash, function (e, t) {\n          if (e) return n(e);\n          var h = o.createStateTrie(o.data.trie_db, t.header.stateRoot, {\n            forkBlockNumber: r.number(t.header.number)\n          });\n          a = o.createVMFromStateTrie(h), o.createBlock(t, !1, function (e, t) {\n            if (e) return n(e);\n            t.header.timestamp = u.header.timestamp;\n\n            for (var h = 0; h < u.transactions.length; h++) {\n              var p = u.transactions[h];\n              if (t.transactions.push(p), r.hex(p.hash()) === i) break;\n            }\n\n            function beforeTxListener(e) {\n              c = e, s = r.hex(e.hash()), s === i && a.on(\"step\", stepListener);\n            }\n\n            function afterTxListener() {\n              s === i && removeListeners();\n            }\n\n            function removeListeners() {\n              a.removeListener(\"step\", stepListener), a.removeListener(\"beforeTx\", beforeTxListener), a.removeListener(\"afterTx\", afterTxListener);\n            }\n\n            a.on(\"beforeTx\", beforeTxListener), a.on(\"afterTx\", afterTxListener), a.stateManager._cache.flush = e => e(), o.processBlock(a, t, !1, function (e) {\n              e && 0 === e.message.indexOf(\"VM Exception\") && (e = null), removeListeners(), n(e, l);\n            });\n          });\n        });\n      });\n    }, BlockchainDouble.prototype.processStorageTrace = function (e, t, n, o, i) {\n      var a,\n          s,\n          c = n.opcode.name;\n\n      switch (t.currentDepth > n.depth && t.stack.pop(), t.currentDepth < n.depth && t.stack.push({}), t.currentDepth = n.depth, c) {\n        case \"SSTORE\":\n          {\n            const o = n.stack,\n                  c = o.length;\n            a = r.rpcDataHexString(o[c - 1], 64).replace(\"0x\", \"\"), s = r.rpcDataHexString(o[c - 2], 64).replace(\"0x\", \"\"), e.storage = Object.assign({}, t.stack[t.currentDepth]), i(null, e), t.stack[t.currentDepth][a] = s;\n          }\n          break;\n\n        case \"SLOAD\":\n          {\n            const c = n.stack;\n            a = r.rpcDataHexString(c[c.length - 1], 64).replace(\"0x\", \"\"), o.stateManager.getContractStorage(n.address, Buffer.from(a, \"hex\"), function (n, o) {\n              if (n) return i(n);\n              s = r.rpcDataHexString(o, 64).replace(\"0x\", \"\"), t.stack[t.currentDepth][a] = s, e.storage = Object.assign({}, t.stack[t.currentDepth]), i(null, e);\n            });\n          }\n          break;\n\n        default:\n          e.storage = Object.assign({}, t.stack[t.currentDepth]), i(null, e);\n      }\n    }, BlockchainDouble.prototype.getAccount = function (e, t, n) {\n      var r = this;\n      this.getBlock(t, function (t, i) {\n        if (t) return n(t);\n        var a = r.stateTrie,\n            s = a.root;\n        r.stateTrie.root = i.header.stateRoot, a.get(p.toBuffer(e), function (e, t) {\n          if (a.root = s, e) return n(e);\n          var r = new o(t);\n          n(null, r);\n        });\n      });\n    }, BlockchainDouble.prototype.getNonce = function (e, t, n) {\n      this.getAccount(e, t, function (e, t) {\n        if (e) return n(e);\n        n(null, t.nonce);\n      });\n    }, BlockchainDouble.prototype.getBalance = function (e, t, n) {\n      this.getAccount(e, t, function (e, t) {\n        if (e) return n(e);\n        n(null, t.balance);\n      });\n    }, BlockchainDouble.prototype.getStorage = function (e, t, n, r) {\n      var i = this;\n      this.getBlock(n, function (n, a) {\n        if (n) return r(n);\n        var s = i.stateTrie,\n            c = s.root;\n        i.stateTrie.root = a.header.stateRoot, s.get(p.toBuffer(e), function (e, n) {\n          if (null != e) return s.root = c, r(e);\n          var i = new o(n);\n          s.root = i.stateRoot, s.get(p.setLengthLeft(p.toBuffer(t), 32), function (e, t) {\n            if (s.root = c, null != e) return r(e);\n            r(null, t);\n          });\n        });\n      });\n    }, BlockchainDouble.prototype.getCode = function (e, t, n) {\n      var r = this;\n      this.getBlock(t, function (t, i) {\n        if (t) return n(t);\n        var a = r.stateTrie,\n            s = a.root;\n        r.stateTrie.root = i.header.stateRoot, a.get(p.toBuffer(e), function (e, t) {\n          if (null != e) return a.root = s, n(e);\n          new o(t).getCode(a, function (e, t) {\n            if (a.root = s, e) return n(e);\n            n(null, t);\n          });\n        });\n      });\n    }, BlockchainDouble.prototype.getTransaction = function (e, t) {\n      e = r.hex(e), this.data.transactions.get(e, function (e, n) {\n        if (e) return e.notFound ? t(null, null) : t(e);\n        t(null, n);\n      });\n    }, BlockchainDouble.prototype.getTransactionReceipt = function (e, t) {\n      e = r.hex(e);\n      const n = this.pending_transactions;\n\n      for (var o = 0; o < n.length; o++) {\n        if (e === r.hex(n[o].hash())) return t(null, {\n          tx: n[o]\n        });\n      }\n\n      this.data.transactionReceipts.get(e, function (e, n) {\n        if (e) return e.notFound ? t(null, null) : t(e);\n        t(e, n);\n      });\n    }, BlockchainDouble.prototype.getBlockLogs = function (e, t) {\n      var n = this;\n      this.getEffectiveBlockNumber(e, function (e, r) {\n        if (e) return t(e);\n        n.data.blockLogs.get(r, t);\n      });\n    }, BlockchainDouble.prototype.getHeight = function (e) {\n      this.data.blocks.length(function (t, n) {\n        if (t) return e(t);\n        e(null, n - 1);\n      });\n    }, BlockchainDouble.prototype.currentTime = function () {\n      return (new Date().getTime() / 1e3 | 0) + this.timeAdjustment;\n    }, BlockchainDouble.prototype.increaseTime = function (e) {\n      return e < 0 && (e = 0), this.timeAdjustment += e, this.timeAdjustment;\n    }, BlockchainDouble.prototype.setTime = function (e) {\n      var t = new Date().getTime() / 1e3 | 0,\n          n = e.getTime() / 1e3 | 0;\n      this.timeAdjustment = n - t;\n    }, BlockchainDouble.prototype.close = function (e) {\n      this.data.close(e);\n    }, e.exports = BlockchainDouble;\n  }, function (e, t) {\n    e.exports = require(\"merkle-patricia-tree\");\n  }, function (e, t) {\n    e.exports = require(\"fs\");\n  }, function (e, t) {\n    e.exports = require(\"tmp\");\n  }, function (e, t, n) {\n    var r = n(11),\n        o = n(4).default,\n        i = n(1);\n    e.exports = {\n      encode: function (e, t) {\n        t(null, e.encode());\n      },\n      decode: function (e, t) {\n        const n = {\n          hash: e.hash,\n          nonce: e.nonce,\n          value: e.value,\n          to: e.to,\n          from: e.from,\n          gasLimit: e.gas || e.gasLimit,\n          gasPrice: e.gasPrice,\n          data: e.data,\n          v: e.v,\n          r: e.r,\n          s: e.s\n        },\n              a = i.bufferToInt(n.v);\n        let s = Math.floor((a - 35) / 2);\n        s < 0 && (s = 0);\n        const c = {\n          name: \"ganache\",\n          chainId: s,\n          networkId: 1,\n          comment: \"Local test network\"\n        };\n        let u = \"muirGlacier\";\n        e._options && (u = e._options.hardfork, c.chainId = e._options.chainId, c.networkId = e._options.networkId);\n        const l = o.forCustomChain(\"mainnet\", c, u),\n              h = void 0 === e._type ? r.types.fake : e._type;\n        t(null, r.fromJSON(n, h, l));\n      }\n    };\n  }, function (e, t) {\n    e.exports = require(\"web3-core-helpers\");\n  }, function (e, t) {\n    e.exports = require(\"web3-core-method\");\n  }, function (e, t) {\n    e.exports = require(\"web3-net\");\n  }, function (e, t) {\n    e.exports = require(\"web3-eth-personal\");\n  }, function (e, t, n) {\n    function TXRejectedError(e) {\n      Error.captureStackTrace(this, this.constructor), this.name = this.constructor.name, this.message = e;\n    }\n\n    (0, n(2).inherits)(TXRejectedError, Error), e.exports = TXRejectedError;\n  }, function (e, t, n) {\n    var r = n(0);\n    e.exports = {\n      toJSON: function (e, t) {\n        return {\n          number: r.rpcQuantityHexString(e.header.number),\n          hash: r.hex(e.hash()),\n          parentHash: r.hex(e.header.parentHash),\n          mixHash: r.hex(e.header.mixHash),\n          nonce: r.rpcDataHexString(r.hex(e.header.nonce), 16),\n          sha3Uncles: r.hex(e.header.uncleHash),\n          logsBloom: r.hex(e.header.bloom),\n          transactionsRoot: r.hex(e.header.transactionsTrie),\n          stateRoot: r.hex(e.header.stateRoot),\n          receiptsRoot: r.hex(e.header.receiptTrie),\n          miner: r.hex(e.header.coinbase),\n          difficulty: r.rpcQuantityHexString(e.header.difficulty),\n          totalDifficulty: r.rpcQuantityHexString(e.header.difficulty),\n          extraData: r.rpcDataHexString(e.header.extraData),\n          size: r.hex(1e3),\n          gasLimit: r.rpcQuantityHexString(e.header.gasLimit),\n          gasUsed: r.rpcQuantityHexString(e.header.gasUsed),\n          timestamp: r.rpcQuantityHexString(e.header.timestamp),\n          transactions: e.transactions.map(function (n) {\n            return t ? n.toJsonRpc(e) : r.hex(n.hash());\n          }),\n          uncles: []\n        };\n      }\n    };\n  }, function (e, t, n) {\n    n(9);\n    const r = n(22),\n          o = n(101);\n    e.exports = {\n      server: function (e) {\n        return o.create(e);\n      },\n      provider: function (e) {\n        return new r(e);\n      },\n      _webpacked: !0\n    };\n  }, function (e, t) {\n    e.exports = require(\"web3-provider-engine\");\n  }, function (e, t) {\n    e.exports = require(\"web3-provider-engine/subproviders/subscriptions\");\n  }, function (e, t, n) {\n    var r = n(5);\n\n    function RequestFunnel() {\n      this.methods = {\n        eth_call: !0,\n        eth_getStorageAt: !0,\n        eth_sendTransaction: !0,\n        eth_sendRawTransaction: !0,\n        eth_newBlockFilter: !0,\n        eth_getFilterChanges: !0,\n        eth_getFilterLogs: !0\n      }, this.queue = [], this.isWorking = !1;\n    }\n\n    (0, n(2).inherits)(RequestFunnel, r), e.exports = RequestFunnel, RequestFunnel.prototype.handleRequest = function (e, t, n) {\n      if (!0 !== e.external || !0 !== this.methods[e.method]) return t();\n      this.queue.push([e, t]), !1 === this.isWorking && this.processNext();\n    }, RequestFunnel.prototype.processNext = function () {\n      var e = this;\n      0 !== this.queue.length ? (this.isWorking = !0, (0, this.queue.shift()[1])(function (t, n, r) {\n        if (t) return r(t);\n        r(), e.processNext();\n      })) : this.isWorking = !1;\n    };\n  }, function (e, t, n) {\n    var r = n(5),\n        o = n(2).inherits,\n        i = n(3),\n        a = n(0);\n\n    function DelayedBlockFilter() {\n      this.watching = {};\n    }\n\n    o(DelayedBlockFilter, r), e.exports = DelayedBlockFilter, DelayedBlockFilter.prototype.handleRequest = function (e, t, n) {\n      return \"eth_newBlockFilter\" === e.method ? this.handleNewBlockFilter(e, t, n) : \"eth_getFilterChanges\" === e.method ? this.handleGetFilterChanges(e, t, n) : void t();\n    }, DelayedBlockFilter.prototype.handleNewBlockFilter = function (e, t, n) {\n      var r = this;\n      t(function (e, t, n) {\n        if (e) return n();\n        r.watching[t] = !0, n();\n      });\n    }, DelayedBlockFilter.prototype.handleGetFilterChanges = function (e, t, n) {\n      var r = this,\n          o = e.params[0];\n      if (!this.watching[o]) return t();\n      t(function (e, t, n) {\n        if (e) return n();\n        var s, c, u;\n        i.series([function (e) {\n          0 !== t.length ? (s = t[0], e()) : r.emitPayload({\n            method: \"eth_blockNumber\"\n          }, function (t, n) {\n            if (t) return e(t);\n            u = a.number(n.result), e();\n          });\n        }, function (e) {\n          if (u) return e();\n          r.emitPayload({\n            method: \"eth_getBlockByHash\",\n            params: [s, !1]\n          }, function (t, n) {\n            if (t) return e(t);\n            u = a.number(n.result.number), e();\n          });\n        }, function (e) {\n          if (0 === (u = a.number(u))) return c = void 0, e();\n          u -= 1, r.emitPayload({\n            method: \"eth_getBlockByNumber\",\n            params: [u, !1]\n          }, function (t, n) {\n            if (t) return e(t);\n            c = n.result.hash, e();\n          });\n        }], function (e) {\n          c && (t[0] = c), delete r.watching[o], n();\n        });\n      });\n    };\n  }, function (e, t, n) {\n    var r = n(5);\n\n    function GethDefaults() {}\n\n    (0, n(2).inherits)(GethDefaults, r), e.exports = GethDefaults, GethDefaults.prototype.handleRequest = function (e, t, n) {\n      if (\"eth_estimateGas\" !== e.method && \"eth_call\" !== e.method) return t();\n      var r = e.params[0];\n      null == r.from ? this.emitPayload({\n        method: \"eth_coinbase\"\n      }, function (e, o) {\n        if (e) return n(e);\n        var i = o.result;\n        r.from = i, t();\n      }) : t();\n    };\n  }, function (e, t, n) {\n    var r = n(1),\n        o = n(2).inherits,\n        i = n(43),\n        a = n(0),\n        s = n(34),\n        c = n(35),\n        u = n(99);\n    const {\n      BlockOutOfRangeError: l\n    } = n(16);\n    var h = n(5);\n    const p = \"0x\" + Number.MAX_SAFE_INTEGER.toString(16),\n          f = [\"v\", \"r\", \"s\"];\n\n    function GethApiDouble(e, t) {\n      var n = this;\n      this.state = e.state || new i(e, t), this.options = e, this.initialized = !1, this.initialization_error = null, this.post_initialization_callbacks = [], this.state.initialize(function (e) {\n        e && (n.initialization_error = e), n.initialized = !0;\n        var t = n.post_initialization_callbacks;\n        n.post_initialization_callbacks = [], t.forEach(function (e) {\n          setImmediate(function () {\n            e(n.initialization_error, n.state);\n          });\n        });\n      });\n    }\n\n    o(GethApiDouble, h), GethApiDouble.prototype.waitForInitialization = function (e) {\n      !1 === this.initialized ? this.post_initialization_callbacks.push(e) : e(this.initialization_error, this.state);\n    }, GethApiDouble.prototype.handleRequest = function (e, t, n) {\n      if (null != this.initialization_error) return n(this.initialization_error);\n\n      if (!1 !== this.initialized) {\n        var r = this[e.method];\n        if (null == r) return n(new Error(\"Method \" + e.method + \" not supported.\"));\n        var o = e.params || [],\n            i = [].concat(o),\n            a = !1;\n\n        if (this.requiresDefaultBlockParameter(e.method) && i.length < r.length - 1 && (i.push(\"latest\"), a = !0), i.push(n), i.length > r.length || void 0 !== r.minLength && i.length < r.minLength || void 0 === r.minLength && i.length < r.length) {\n          var s = `Incorrect number of arguments. Method '${e.method}' requires `;\n          return r.minLength ? s += `between ${r.minLength - 1} and ${r.length - 1} arguments. ` : s += `exactly ${r.length - 1} arguments. `, s += a ? \"Including the implicit block argument, r\" : \"R\", s += `equest specified ${i.length - 1} arguments: ${JSON.stringify(i)}.`, n(new Error(s));\n        }\n\n        r.apply(this, i);\n      } else this.waitForInitialization(this.getDelayedHandler(e, t, n));\n    }, GethApiDouble.prototype.getDelayedHandler = function (e, t, n) {\n      var r = this;\n      return function (o, i) {\n        o && n(o), r.handleRequest(e, t, n);\n      };\n    }, GethApiDouble.prototype.requiresDefaultBlockParameter = function (e) {\n      return !0 === {\n        eth_getBalance: !0,\n        eth_getCode: !0,\n        eth_getTransactionCount: !0,\n        eth_getStorageAt: !0,\n        eth_call: !0,\n        eth_estimateGas: !0\n      }[e];\n    }, GethApiDouble.prototype.eth_accounts = function (e) {\n      e(null, Object.keys(this.state.accounts));\n    }, GethApiDouble.prototype.eth_blockNumber = function (e) {\n      this.state.blockNumber(function (t, n) {\n        if (t) return e(t);\n        e(null, a.hex(n));\n      });\n    }, GethApiDouble.prototype.eth_chainId = function (e) {\n      e(null, a.hex(this.options._chainIdRpc));\n    }, GethApiDouble.prototype.eth_coinbase = function (e) {\n      e(null, this.state.coinbase);\n    }, GethApiDouble.prototype.eth_mining = function (e) {\n      e(null, this.state.is_mining);\n    }, GethApiDouble.prototype.eth_hashrate = function (e) {\n      e(null, \"0x0\");\n    }, GethApiDouble.prototype.eth_gasPrice = function (e) {\n      e(null, r.addHexPrefix(this.state.gasPrice()));\n    }, GethApiDouble.prototype.eth_getBalance = function (e, t, n) {\n      this.state.getBalance(e, t, n);\n    }, GethApiDouble.prototype.eth_getCode = function (e, t, n) {\n      this.state.getCode(e, t, n);\n    }, GethApiDouble.prototype.eth_getBlockByNumber = function (e, t, n) {\n      this.state.blockchain.getBlock(e, function (e, r) {\n        if (e) return e instanceof l ? n(null, null) : n(e);\n        n(null, c.toJSON(r, t));\n      });\n    }, GethApiDouble.prototype.eth_getBlockByHash = function (e, t, n) {\n      this.eth_getBlockByNumber.apply(this, arguments);\n    }, GethApiDouble.prototype.eth_getBlockTransactionCountByNumber = function (e, t) {\n      this.state.blockchain.getBlock(e, function (e, n) {\n        if (e) return e instanceof l ? t(null, null) : t(e);\n        t(null, a.rpcQuantityHexString(n.transactions.length));\n      });\n    }, GethApiDouble.prototype.eth_getBlockTransactionCountByHash = function (e, t) {\n      this.eth_getBlockTransactionCountByNumber.apply(this, arguments);\n    }, GethApiDouble.prototype.eth_getTransactionReceipt = function (e, t) {\n      this.state.getTransactionReceipt(e, function (e, n) {\n        if (e) return t(e);\n        var r = null;\n        n && n.block && (r = n.toJSON(), f.forEach(e => {\n          delete r[e];\n        })), t(null, r);\n      });\n    }, GethApiDouble.prototype.eth_getTransactionByHash = function (e, t) {\n      this.state.getTransactionReceipt(e, function (e, n) {\n        if (e) return t(e);\n        var r = null;\n        n && (n.block || (n.block = {\n          transactions: [],\n          hash: () => null,\n          header: {\n            number: null\n          }\n        }), r = n.tx.toJsonRpc(n.block)), t(null, r);\n      });\n    }, GethApiDouble.prototype.eth_getTransactionByBlockHashAndIndex = function (e, t, n) {\n      t = a.number(t), this.state.getBlock(e, function (e, r) {\n        if (e) return e.notFound ? n(null, null) : n(e);\n        if (t >= r.transactions.length) return n(new Error(\"Transaction at index \" + a.hex(t) + \" does not exist in block.\"));\n        var o = r.transactions[t].toJsonRpc(r);\n        n(null, o);\n      });\n    }, GethApiDouble.prototype.eth_getTransactionByBlockNumberAndIndex = function (e, t, n) {\n      this.eth_getTransactionByBlockHashAndIndex(e, t, n);\n    }, GethApiDouble.prototype.eth_getTransactionCount = function (e, t, n) {\n      this.state.getTransactionCount(e, t, (e, t) => e instanceof l ? n(null, null) : n(e, t));\n    }, GethApiDouble.prototype.eth_sign = function (e, t, n) {\n      var r, o;\n\n      try {\n        r = this.state.sign(e, t);\n      } catch (e) {\n        o = e;\n      }\n\n      n(o, r);\n    }, GethApiDouble.prototype.eth_signTypedData = function (e, t, n) {\n      var r, o;\n\n      try {\n        r = this.state.signTypedData(e, t);\n      } catch (e) {\n        o = e;\n      }\n\n      n(o, r);\n    }, GethApiDouble.prototype.eth_sendTransaction = function (e, t) {\n      this.state.queueTransaction(\"eth_sendTransaction\", e, null, t);\n    }, GethApiDouble.prototype.eth_sendRawTransaction = function (e, t) {\n      let n;\n      if (e && (n = a.buffer(e)), void 0 === n) throw new s(\"rawTx must be a string, JSON-encoded Buffer, or Buffer.\");\n      this.state.queueRawTransaction(n, t);\n    }, GethApiDouble.prototype._setCallGasLimit = function (e) {\n      if (!e.gas && !e.gasLimit) {\n        const t = this.options.callGasLimit;\n        e.gas = null != t ? t : p;\n      }\n    }, GethApiDouble.prototype.eth_call = function (e, t, n) {\n      this._setCallGasLimit(e), this.state.queueTransaction(\"eth_call\", e, t, n);\n    }, GethApiDouble.prototype.eth_estimateGas = function (e, t, n) {\n      this._setCallGasLimit(e), this.state.queueTransaction(\"eth_estimateGas\", e, t, n);\n    }, GethApiDouble.prototype.eth_getStorageAt = function (e, t, n, r) {\n      this.state.queueStorage(e, t, n, r);\n    }, GethApiDouble.prototype.eth_newBlockFilter = function (e) {\n      var t = r.addHexPrefix(r.intToHex(this.state.latestFilterId));\n      this.state.latestFilterId += 1, e(null, t);\n    }, GethApiDouble.prototype.eth_getFilterChanges = function (e, t) {\n      var n = this.state.latestBlock().hash().toString(\"hex\");\n      this.state.mine(), t(null, [n]);\n    }, GethApiDouble.prototype.eth_getLogs = function (e, t) {\n      this.state.getLogs(e, t);\n    }, GethApiDouble.prototype.eth_uninstallFilter = function (e, t) {\n      t(null, !0);\n    }, GethApiDouble.prototype.eth_protocolVersion = function (e) {\n      e(null, \"63\");\n    }, GethApiDouble.prototype.bzz_hive = function (e) {\n      e(null, []);\n    }, GethApiDouble.prototype.bzz_info = function (e) {\n      e(null, []);\n    }, GethApiDouble.prototype.shh_version = function (e) {\n      e(null, \"2\");\n    }, GethApiDouble.prototype.eth_getCompilers = function (e) {\n      e(null, []);\n    }, GethApiDouble.prototype.eth_syncing = function (e) {\n      e(null, !1);\n    }, GethApiDouble.prototype.net_listening = function (e) {\n      e(null, !0);\n    }, GethApiDouble.prototype.net_peerCount = function (e) {\n      e(null, 0);\n    }, GethApiDouble.prototype.web3_clientVersion = function (e) {\n      e(null, \"EthereumJS TestRPC/v\" + u.version + \"/ethereum-js\");\n    }, GethApiDouble.prototype.web3_sha3 = function (e, t) {\n      t(null, a.hex(r.keccak256(e)));\n    }, GethApiDouble.prototype.net_version = function (e) {\n      e(null, this.state.net_version + \"\");\n    }, GethApiDouble.prototype.miner_start = function (e, t) {\n      t || \"function\" != typeof e || (t = e, e = null), this.state.startMining(function (e) {\n        t(e, !0);\n      });\n    }, GethApiDouble.prototype.miner_start.minLength = 1, GethApiDouble.prototype.miner_stop = function (e) {\n      this.state.stopMining(function (t) {\n        e(t, !0);\n      });\n    }, GethApiDouble.prototype.rpc_modules = function (e) {\n      e(null, {\n        eth: \"1.0\",\n        net: \"1.0\",\n        rpc: \"1.0\",\n        web3: \"1.0\",\n        evm: \"1.0\",\n        personal: \"1.0\"\n      });\n    }, GethApiDouble.prototype.personal_listAccounts = function (e) {\n      e(null, Object.keys(this.state.personal_accounts));\n    }, GethApiDouble.prototype.personal_newAccount = function (e, t) {\n      var n = this.state.createAccount({\n        generate: !0\n      });\n      this.state.accounts[n.address.toLowerCase()] = n, this.state.personal_accounts[n.address.toLowerCase()] = !0, this.state.account_passwords[n.address.toLowerCase()] = e, t(null, n.address);\n    }, GethApiDouble.prototype.personal_importRawKey = function (e, t, n) {\n      var r = this.state.createAccount({\n        secretKey: e\n      });\n      this.state.accounts[r.address.toLowerCase()] = r, this.state.personal_accounts[r.address.toLowerCase()] = !0, this.state.account_passwords[r.address.toLowerCase()] = t, n(null, r.address);\n    }, GethApiDouble.prototype.personal_lockAccount = function (e, t) {\n      if (!0 !== this.state.personal_accounts[e.toLowerCase()]) {\n        return t(\"Account not found\");\n      }\n\n      delete this.state.unlocked_accounts[e.toLowerCase()], t(null, !0);\n    }, GethApiDouble.prototype.personal_unlockAccount = function (e, t, n, r) {\n      if (!0 !== this.state.personal_accounts[e.toLowerCase()]) {\n        return r(\"Account not found\");\n      }\n\n      var o = this.state.account_passwords[e.toLowerCase()];\n\n      if (void 0 !== o && o !== t) {\n        return r(\"Invalid password\");\n      }\n\n      this.state.unlocked_accounts[e.toLowerCase()] = !0, r(null, !0);\n    }, GethApiDouble.prototype.personal_sendTransaction = function (e, t, n) {\n      if (null != e.from) {\n        var o = r.addHexPrefix(e.from).toLowerCase(),\n            i = this;\n        i.personal_unlockAccount(o, t, null, function (t) {\n          if (t) return n(t);\n          i.state.queueTransaction(\"eth_sendTransaction\", e, null, function (e, t) {\n            i.state.unlocked_accounts[o.toLowerCase()] = !1, n(e, t);\n          });\n        });\n      } else {\n        n(\"Sender not found\");\n      }\n    }, GethApiDouble.prototype.evm_snapshot = function (e) {\n      this.state.snapshot(e);\n    }, GethApiDouble.prototype.evm_revert = function (e, t) {\n      this.state.revert(e, t);\n    }, GethApiDouble.prototype.evm_increaseTime = function (e, t) {\n      t(null, this.state.blockchain.increaseTime(e));\n    }, GethApiDouble.prototype.evm_setTime = function (e, t) {\n      t(null, this.state.blockchain.setTime(new Date(e)));\n    }, GethApiDouble.prototype.evm_mine = function (e, t) {\n      \"function\" == typeof e && (t = e, e = void 0), this.state.processBlock(e, function (e) {\n        if (e) return t(e);\n        t(e, \"0x0\");\n      });\n    }, GethApiDouble.prototype.evm_mine.minLength = 1, GethApiDouble.prototype.evm_unlockUnknownAccount = function (e, t) {\n      if (e = e.toLowerCase(), !0 !== this.state.unlocked_accounts[e]) return !0 !== this.state.personal_accounts[e] ? (this.state.unlocked_accounts[e] = !0, t(null, !0)) : t(new Error(\"cannot unlock known/personal account\"));\n      t(null, !1);\n    }, GethApiDouble.prototype.evm_lockUnknownAccount = function (e, t) {\n      if (e = e.toLowerCase(), this.state.unlocked_accounts[e]) return this.state.personal_accounts[e] ? t(new Error(\"cannot lock known/personal account\")) : (delete this.state.unlocked_accounts[e], t(null, !0));\n      t(null, !1);\n    }, GethApiDouble.prototype.debug_traceTransaction = function (e, t, n) {\n      \"function\" == typeof t && (n = t, t = []), this.state.queueTransactionTrace(e, t, n);\n    }, GethApiDouble.prototype.eth_getUncleCountByBlockHash = function (e, t) {\n      t(null, \"0x0\");\n    }, GethApiDouble.prototype.eth_getUncleCountByBlockNumber = function (e, t) {\n      t(null, \"0x0\");\n    }, GethApiDouble.prototype.eth_getUncleByBlockHashAndIndex = function (e, t, n) {\n      n(null, {});\n    }, GethApiDouble.prototype.eth_getUncleByBlockNumberAndIndex = function (e, t, n) {\n      n(null, {});\n    }, GethApiDouble.prototype.eth_getWork = function (e, t) {\n      t(null, []);\n    }, GethApiDouble.prototype.eth_submitWork = function (e, t, n, r) {\n      r(null, !1);\n    }, GethApiDouble.prototype.eth_submitHashrate = function (e, t, n) {\n      n(null, !1);\n    }, GethApiDouble.prototype.db_putString = function (e, t, n, r) {\n      r(null, !1);\n    }, GethApiDouble.prototype.db_getString = function (e, t, n) {\n      n(null, \"\");\n    }, GethApiDouble.prototype.db_putHex = function (e, t, n, r) {\n      r(null, !1);\n    }, GethApiDouble.prototype.db_getHex = function (e, t, n) {\n      n(null, \"0x00\");\n    }, GethApiDouble.prototype.shh_post = function (e, t, n, r, o, i, a) {\n      a(null, !1);\n    }, GethApiDouble.prototype.shh_newIdentity = function (e) {\n      e(null, \"0x00\");\n    }, GethApiDouble.prototype.shh_hasIdentity = function (e, t) {\n      t(null, !1);\n    }, GethApiDouble.prototype.shh_newGroup = function (e) {\n      e(null, \"0x00\");\n    }, GethApiDouble.prototype.shh_addToGroup = function (e, t) {\n      t(null, !1);\n    }, GethApiDouble.prototype.shh_newFilter = function (e, t, n) {\n      n(null, !1);\n    }, GethApiDouble.prototype.shh_uninstallFilter = function (e, t) {\n      t(null, !1);\n    }, GethApiDouble.prototype.shh_getFilterChanges = function (e, t) {\n      t(null, []);\n    }, GethApiDouble.prototype.shh_getMessages = function (e, t) {\n      t(null, !1);\n    }, e.exports = GethApiDouble;\n  }, function (e, t, n) {\n    var r = n(10).default,\n        o = n(6),\n        i = n(11),\n        a = n(1),\n        s = n(46),\n        c = n(47),\n        u = n(23),\n        l = n(53),\n        h = n(3),\n        p = n(25),\n        f = n(73),\n        d = n(18),\n        g = n(27),\n        m = n(96),\n        b = n(8);\n\n    const {\n      BlockOutOfRangeError: k\n    } = n(16),\n          y = a.BN,\n          v = n(97),\n          x = n(4).default,\n          _ = Buffer.from([0]);\n\n    var w = n(0),\n        B = n(98),\n        S = n(34);\n\n    function StateManager(e, t) {\n      this.options = e = this._applyDefaultOptions(e || {}), e.fork ? this.blockchain = new f(e) : this.blockchain = new p(e), this.vm = this.blockchain.vm, this.stateTrie = this.blockchain.stateTrie, this.accounts = {}, this.secure = !!e.secure, this.account_passwords = {}, this.personal_accounts = {}, this.total_accounts = e.total_accounts, this.coinbase = null, this.latest_filter_id = 1, this.action_queue = [], this.action_processing = !1, this.snapshots = [], this.logger = e.logger, this.net_version = e.network_id, this.mnemonic = e.mnemonic, this.wallet = l.fromMasterSeed(c.mnemonicToSeed(this.mnemonic)), this.wallet_hdpath = e.hd_path || e.hdPath, this.gasPriceVal = w.rpcQuantityHexString(e.gasPrice), this.is_mining = !0, this.blockTime = e.blockTime, this.is_mining_on_interval = !!e.blockTime, this.mining_interval_timeout = null, this._provider = t;\n    }\n\n    const T = {\n      forkCacheSize: 1073741824,\n      total_accounts: 10,\n      gasPrice: \"0x77359400\",\n      default_balance_ether: 100,\n      unlocked_accounts: [],\n      hdPath: \"m/44'/60'/0'/0/\"\n    };\n    StateManager.prototype._applyDefaultOptions = function (e) {\n      if (e.seed || (e.seed = B.randomAlphaNumericString(10, s())), !e.mnemonic) {\n        const t = B.randomBytes(16, s(e.seed));\n        e.mnemonic = c.entropyToMnemonic(t.toString(\"hex\"));\n      }\n\n      return e.fork || e.network_id || (e.network_id = new Date().getTime()), b.merge(e, T, Object.assign({}, e));\n    }, StateManager.prototype.initialize = function (e) {\n      var t = this,\n          n = [];\n      const r = w.hex(d.utils.toWei(t.options.default_balance_ether.toString(), \"ether\"));\n      if (t.options.accounts) n = t.options.accounts.map(t.createAccount.bind(t));else {\n        if (!t.total_accounts) return e(new Error(\"Cannot initialize chain: either options.accounts or options.total_accounts must be specified\"));\n\n        for (var o = 0; o < t.total_accounts; o++) n.push(t.createAccount({\n          index: o,\n          balance: r\n        }));\n      }\n\n      if (t.coinbase = w.hex(n[0].address), t.accounts = {}, n.forEach(function (e) {\n        t.accounts[e.address] = e, t.personal_accounts[e.address.toLowerCase()] = !0;\n      }), t.unlocked_accounts = t.options.unlocked_accounts.reduce(function (e, t) {\n        if (0 !== (t + \"\").indexOf(\"0x\")) {\n          const e = parseInt(t),\n                r = n[e];\n          if (!r) throw new Error(`Account at index ${e} not found. Max index available is ${n.length - 1}.`);\n          t = r.address.toLowerCase();\n        }\n\n        return e[t.toLowerCase()] = !0, e;\n      }, {}), t.secure || n.forEach(function (e) {\n        t.unlocked_accounts[e.address.toLowerCase()] = e;\n      }), t.options.account_keys_path) {\n        const e = {\n          addresses: {},\n          private_keys: {}\n        };\n        n.forEach(function (t) {\n          e.private_keys[t.address] = t.secretKey.toString(\"hex\"), e.addresses[t.address] = t;\n        });\n        const r = JSON.stringify(e);\n        g.writeFileSync(t.options.account_keys_path, r, \"utf8\");\n      }\n\n      t.blockchain.initialize(n, function (n) {\n        if (n) return e(n);\n        t.net_version || (t.net_version = t.blockchain.forkVersion), t.is_mining_on_interval && t.mineOnInterval(), e();\n      });\n    }, StateManager.prototype._minerCancellationToken = null, StateManager.prototype.mineOnInterval = function () {\n      if (clearTimeout(this.mining_interval_timeout), null !== this._minerCancellationToken && (this._minerCancellationToken.cancelled = !0), !this.is_mining) return void this.logger.log(\"Warning: mineOnInterval called when miner was stopped\");\n      const e = {\n        cancelled: !1\n      };\n      this._minerCancellationToken = e;\n      const t = this.mining_interval_timeout = setTimeout(this._provider.send.bind(this._provider), 1e3 * this.blockTime, {\n        method: \"evm_mine\"\n      }, () => {\n        e.cancelled || this.mineOnInterval.bind(this)();\n      });\n      \"function\" == typeof t.unref && t.unref();\n    }, StateManager.prototype.createAccount = function (e, t) {\n      var n;\n      if (e.generate) n = u.generate().getPrivateKey();else if (e.secretKey) n = a.toBuffer(w.hex(e.secretKey));else {\n        var o = void 0 === e.index ? t : e.index;\n        n = this.wallet.derivePath(this.wallet_hdpath + o).getWallet().getPrivateKey();\n      }\n      var i = a.privateToPublic(n),\n          s = a.publicToAddress(i),\n          c = new r();\n      return c.balance = w.hex(e.balance), {\n        secretKey: n,\n        publicKey: i,\n        address: w.hex(s).toLowerCase(),\n        account: c\n      };\n    }, StateManager.prototype.blockNumber = function (e) {\n      return this.blockchain.getHeight(e);\n    }, StateManager.prototype.gasPrice = function () {\n      return this.gasPriceVal;\n    }, StateManager.prototype.getBalance = function (e, t, n) {\n      this.blockchain.getBalance(e, t, function (e, t) {\n        t && (t = w.rpcQuantityHexString(t)), n(e, t);\n      });\n    }, StateManager.prototype.getTransactionCount = function (e, t, n) {\n      this.blockchain.getNonce(e, t, function (e, t) {\n        t && (t = w.rpcQuantityHexString(t)), n(e, t);\n      });\n    }, StateManager.prototype.getCode = function (e, t, n) {\n      this.blockchain.getCode(e, t, function (e, t) {\n        t && (t = w.hex(t)), n(e, t);\n      });\n    }, StateManager.prototype.queueRawTransaction = function (e, t) {\n      let n;\n\n      if (Buffer.isBuffer(e)) {\n        let t = v.decode(e)[6];\n        void 0 !== t && (t = a.bufferToInt(t), n = Math.floor((t - 35) / 2), n < 0 && (n = 0));\n      }\n\n      const r = n ? x.forCustomChain(\"mainnet\", {\n        name: \"ganache\",\n        networkId: this.options.network_id || this.blockchain.forkVersion,\n        chainId: n,\n        comment: \"Local test network\",\n        bootstrapNodes: []\n      }, this.options.hardfork) : this.blockchain.vm.opts.common,\n            o = new i(e, i.types.signed, r),\n            s = w.hex(o.from).toLowerCase();\n\n      this._queueTransaction(\"eth_sendRawTransaction\", o, s, null, t);\n    }, StateManager.prototype.queueStorage = function (e, t, n, r) {\n      this.action_queue.push({\n        method: \"eth_getStorageAt\",\n        address: a.addHexPrefix(e),\n        position: a.addHexPrefix(t),\n        block: n,\n        callback: r\n      }), this.processNextAction();\n    }, StateManager.prototype.queueTransaction = function (e, t, n, r) {\n      const o = t.from ? w.hex(t.from).toLowerCase() : null;\n      if (null == o) return void r(new S(\"from not found; is required\"));\n      if (t.to && \"string\" != typeof t.to) return r(new S(\"Invalid to address\"));\n      const a = Object.prototype.hasOwnProperty,\n            s = a.call(this.accounts, o);\n\n      if (\"eth_sendTransaction\" === e && !a.call(this.unlocked_accounts, o)) {\n        return r(new S(s ? \"signer account is locked\" : \"sender account not recognized\"));\n      }\n\n      let c,\n          u = i.types.none;\n      s && \"eth_call\" !== e && \"eth_estimateGas\" !== e || (u |= i.types.fake);\n\n      try {\n        c = i.fromJSON(t, u, this.blockchain.vm.opts.common), this._setTransactionDefaults(c, \"eth_sendTransaction\" === e);\n      } catch (e) {\n        return void r(e);\n      }\n\n      this._queueTransaction(e, c, o, n, r);\n    }, StateManager.prototype._setTransactionDefaults = function (e, t) {\n      t && 0 === e.gasLimit.length && (e.gasLimit = a.toBuffer(this.blockchain.defaultTransactionGasLimit)), 0 === e.gasPrice.length && (e.gasPrice = a.toBuffer(this.gasPriceVal)), 0 === e.value.length && (e.value = Buffer.from([0])), (0 === e.to.length || e.to.equals(_)) && (e.to = Buffer.allocUnsafe(0));\n    }, StateManager.prototype._queueTransaction = function (e, t, n, r, o) {\n      if (!(t instanceof i)) throw new S(\"tx must be of type Transaction\");\n      if ((\"eth_sendRawTransaction\" === e || \"eth_sendTransaction\" === e) && w.number(t.gasLimit) > w.number(this.blockchain.blockGasLimit)) return o(new S(\"Exceeds block gas limit\"));\n      this.action_queue.push({\n        method: e,\n        from: n,\n        tx: t,\n        callback: o,\n        blockNumber: r\n      }), this.processNextAction();\n    }, StateManager.prototype.queueTransactionTrace = function (e, t, n) {\n      this.action_queue.push({\n        method: \"debug_traceTransaction\",\n        hash: w.hex(e),\n        params: t,\n        callback: n\n      }), this.processNextAction();\n    }, StateManager.prototype.processNextAction = function (e) {\n      var t = this;\n\n      if (!0 === e || !0 !== this.action_processing && 0 !== this.action_queue.length) {\n        var n = this.action_queue.shift();\n        this.action_processing = !0;\n\n        var intermediary = function (e, r) {\n          n.callback(e, r), t.action_queue.length > 0 ? t.processNextAction(!0) : t.action_processing = !1;\n        };\n\n        if (\"function\" == typeof n.method) {\n          var r = n.method();\n          return intermediary(null, r);\n        }\n\n        \"eth_getStorageAt\" === n.method ? this.blockchain.getStorage(n.address, n.position, n.block, function (e, t) {\n          if (e) return intermediary(e);\n          t && (t = a.rlp.decode(t)), t = w.hex(t || 0), intermediary(null, t);\n        }) : \"debug_traceTransaction\" === n.method ? this.blockchain.processTransactionTrace(n.hash, n.params, intermediary) : \"eth_sendTransaction\" === n.method || \"eth_sendRawTransaction\" === n.method ? this.processTransaction(n.from, n.tx, intermediary) : \"eth_call\" === n.method ? this.processCall(n.from, n.tx, n.blockNumber, intermediary) : \"eth_estimateGas\" === n.method && this.processGasEstimate(n.from, n.tx, n.blockNumber, intermediary);\n      }\n    }, StateManager.prototype.sign = function (e, t) {\n      var n = this.accounts[w.hex(e).toLowerCase()];\n      if (!n) throw new Error(\"cannot sign data; no private key\");\n      var r = n.secretKey,\n          o = w.buffer(t, \"hex\"),\n          i = a.hashPersonalMessage(o),\n          s = a.ecsign(i, Buffer.from(r));\n      const c = s.v - 27,\n            u = (c - 35) / 2;\n      return a.toRpcSig(c, s.r, s.s, u);\n    }, StateManager.prototype.signTypedData = function (e, t) {\n      var n = this.accounts[w.hex(e).toLowerCase()];\n      if (!n) throw new Error(\"cannot sign data; no private key\");\n      if (!t.types) throw new Error(\"cannot sign data; types missing\");\n      if (!t.types.EIP712Domain) throw new Error(\"cannot sign data; EIP712Domain definition missing\");\n      if (!t.domain) throw new Error(\"cannot sign data; domain missing\");\n      if (!t.primaryType) throw new Error(\"cannot sign data; primaryType missing\");\n      if (!t.message) throw new Error(\"cannot sign data; message missing\");\n      return m.signTypedData_v4(n.secretKey, {\n        data: t\n      });\n    }, StateManager.prototype.printTransactionReceipt = function (e, t, n) {\n      var r = this;\n      r.blockchain.getTransactionReceipt(e, function (o, i) {\n        if (o) return n(o);\n        r.blockchain.latestBlock(function (o, a) {\n          if (o) return n(o);\n          i = i.toJSON(), r.logger.log(\"\"), r.logger.log(\"  Transaction: \" + e), null != i.contractAddress && r.logger.log(\"  Contract created: \" + i.contractAddress), r.logger.log(\"  Gas usage: \" + parseInt(i.gasUsed, 16)), r.logger.log(\"  Block Number: \" + parseInt(i.blockNumber, 16)), r.logger.log(\"  Block Time: \" + new Date(1e3 * w.number(a.header.timestamp)).toString()), t && (r.logger.log(\"  Runtime Error: \" + t.error), t.reason && r.logger.log(\"  Revert reason: \" + t.reason)), r.logger.log(\"\"), n(null, e);\n        });\n      });\n    }, StateManager.prototype.processBlock = function (e, t) {\n      var n = this;\n      \"function\" == typeof e && (t = e, e = null), n.blockchain.processNextBlock(e, function (e, r, i) {\n        if (e && e instanceof o == !1) return t(e, r, i);\n        h.eachSeries(r, function (t, r) {\n          var o = w.hex(t.hash()),\n              i = null == e ? {\n            results: {}\n          } : e;\n          n.printTransactionReceipt(o, i.results[o], r);\n        }, t(e, r, i));\n      });\n    }, StateManager.prototype.processBlocks = function (e, t) {\n      var n = this;\n      \"function\" == typeof e && (t = e, e = null);\n      var r = null,\n          i = 0;\n      h.whilst(function () {\n        return null == e ? n.blockchain.pending_transactions.length > 0 : i < e;\n      }, function (e) {\n        n.processBlock(function (t, n, a) {\n          if (i += 1, t) {\n            if (t instanceof o == !1) return e(t);\n            null == r ? r = t : r.combine(t);\n          }\n\n          e();\n        });\n      }, function (e) {\n        t(e || r);\n      });\n    }, StateManager.prototype.processCall = function (e, t, n, r) {\n      var o = this;\n\n      function next(e, t) {\n        if (e) return r(e);\n        o.blockchain.processCall(t, n, function (e, t) {\n          if (e) return e instanceof k ? r(null, null) : r(e);\n          var n = \"0x\";\n          return !t.error && t.execResult.returnValue ? n = w.hex(t.execResult.returnValue) : t.error && o.logger.log(\"Error processing call: \" + t.error), r(null, n);\n        });\n      }\n\n      0 === t.nonce.length ? o.createTransactionWithCorrectNonce(t, e, next) : next(null, t);\n    }, StateManager.prototype.processGasEstimate = function (e, t, n, r) {\n      var o = this;\n\n      function next(e, t) {\n        if (e) return r(e);\n        o.blockchain.estimateGas(t, n, function (e, t) {\n          if (e) return r(e);\n          var n = \"0x\";\n          return t.error ? o.logger.log(\"Error calculating gas estimate: \" + t.error) : n = w.hex(t.gasEstimate), r(null, n);\n        });\n      }\n\n      0 === t.nonce.length ? o.createTransactionWithCorrectNonce(t, e, next) : next(null, t);\n    }, StateManager.prototype.processTransaction = function (e, t, n) {\n      var r = this;\n      r.createTransactionWithCorrectNonce(t, e, function (e, t) {\n        if (e) return n(e);\n        r.blockchain.queueTransaction(t);\n        var o = w.hex(t.hash());\n        if (!1 === r.is_mining || r.is_mining_on_interval) return n(null, o);\n        r.processBlocks(function (e) {\n          if (e) return n(e);\n          n(null, o);\n        });\n      });\n    }, StateManager.prototype.getTransactionReceipt = function (e, t) {\n      this.blockchain.getTransactionReceipt(e, function (e, n) {\n        if (e && e.notFound) return t(null, null);\n        t(e, n);\n      });\n    }, StateManager.prototype.getBlock = function (e, t) {\n      this.blockchain.getBlock(e, t);\n    }, StateManager.prototype.getLogs = function (e, t) {\n      var n = this,\n          r = e.address && (Array.isArray(e.address) ? e.address : [e.address]);\n      r = r && r.map(function (e) {\n        return e.toLowerCase();\n      });\n      var o = e.topics || [];\n      h.parallel({\n        fromBlock: this.blockchain.getEffectiveBlockNumber.bind(this.blockchain, e.fromBlock || \"latest\"),\n        toBlock: this.blockchain.getEffectiveBlockNumber.bind(this.blockchain, e.toBlock || \"latest\"),\n        latestBlock: this.blockchain.getEffectiveBlockNumber.bind(this.blockchain, \"latest\"),\n        block: this.blockchain.getBlock.bind(this.blockchain, e.blockHash || 0)\n      }, function (i, a) {\n        if (i) return t(i);\n        var s = a.fromBlock,\n            c = a.toBlock,\n            u = a.latestBlock,\n            l = a.block;\n        c > u && (c = u), e.blockHash && (s = w.number(l.header.number), c = w.number(l.header.number));\n        var p = [],\n            f = s;\n        h.whilst(function () {\n          return f <= c;\n        }, function (e) {\n          n.blockchain.getBlockLogs(f, function (t, n) {\n            if (t) return e(t);\n            var i = r ? n.filter(function (e) {\n              return r.indexOf(e.address.toLowerCase()) > -1;\n            }) : n;\n            i = i.filter(function (e) {\n              for (var t = !0, n = 0; n < o.length; n++) {\n                var r = o[n],\n                    i = e.topics[n];\n\n                if (null != r) {\n                  var a = Array.isArray(r) ? r.includes(i) : r === i;\n\n                  if (n >= e.topics.length || !a) {\n                    t = !1;\n                    break;\n                  }\n                }\n              }\n\n              return t;\n            }), p.push.apply(p, i), f += 1, e();\n          });\n        }, function (e) {\n          if (e) return t(e);\n          p = p.map(function (e) {\n            return e.toJSON();\n          }), t(e, p);\n        });\n      });\n    }, StateManager.prototype.snapshot = function (e) {\n      var t = this;\n      this.blockchain.getHeight(function (n, r) {\n        if (n) return e(n);\n        t.snapshots.push({\n          blockNumber: r,\n          timeAdjustment: t.blockchain.timeAdjustment\n        }), t.logger.log(\"Saved snapshot #\" + t.snapshots.length), e(null, w.hex(t.snapshots.length));\n      });\n    }, StateManager.prototype.revert = function (e, t) {\n      var n = this;\n\n      if (null != e) {\n        try {\n          e = a.bufferToInt(e);\n        } catch (e) {\n          return void t(e);\n        }\n\n        if (this.logger.log(\"Reverting to snapshot #\" + e), e > this.snapshots.length || e <= 0) return t(null, !1), !1;\n        e -= 1;\n        var r = this.snapshots[e].timeAdjustment;\n        h.whilst(function () {\n          return n.snapshots.length > e;\n        }, function (e) {\n          var t = n.snapshots.pop();\n          h.during(function (e) {\n            n.blockchain.getHeight(function (n, r) {\n              if (n) return e(n);\n              e(null, r > t.blockNumber);\n            });\n          }, function (e) {\n            n.blockchain.popBlock(function (t) {\n              if (t) return e(t);\n              e();\n            });\n          }, e);\n        }, function (e) {\n          if (e) return t(e);\n          n.blockchain.clearPendingTransactions(), n.blockchain.timeAdjustment = r, t(null, !0);\n        });\n      } else t(new Error(\"invalid snapshotId\"));\n    }, StateManager.prototype.hasContractCode = function (e, t) {\n      this.vm.stateManager.getContractCode(e, function (e, n) {\n        null != e ? t(e, !1) : t(null, !0);\n      });\n    }, StateManager.prototype.startMining = function (e) {\n      if (this.is_mining) return process.nextTick(e), void this.logger.log(\"Warning: startMining called when miner was already started\");\n      this.is_mining = !0, this.is_mining_on_interval ? (this.mineOnInterval(), process.nextTick(e)) : this.processBlocks(e);\n    }, StateManager.prototype.stopMining = function (e) {\n      this.is_mining ? (this._minerCancellationToken && (this._minerCancellationToken.cancelled = !0, this._minerCancellationToken = null), this.is_mining = !1, clearTimeout(this.mining_interval_timeout), this.mining_interval_timeout = null) : this.logger.log(\"Warning: stopMining called when miner was already stopped\"), e && process.nextTick(e);\n    }, StateManager.prototype.isUnlocked = function (e) {\n      return null != this.unlocked_accounts[e.toLowerCase()];\n    }, StateManager.prototype.createTransactionWithCorrectNonce = function (e, t, n) {\n      this.blockchain.getQueuedNonce(t, (r, o) => {\n        if (r) return n(r);\n\n        const validateNonce = (e, t) => {\n          if (e.validateNonce(t)) return Promise.resolve(e);\n          {\n            const n = new y(t).toString(10),\n                  r = new y(e.nonce).toString(10);\n            return Promise.reject(new S(`the tx doesn't have the correct nonce. account has nonce of: ${n} tx has nonce of: ${r}`));\n          }\n        },\n              done = e => n(null, e);\n\n        if (e.isSigned()) validateNonce(e, o).then(done).catch(n);else {\n          const sign = e => {\n            if (!e.isFake() && !e.isSigned()) {\n              const n = this.accounts[t];\n              n && e.sign(n.secretKey);\n            }\n\n            return Promise.resolve(e);\n          };\n\n          0 === e.nonce.length ? (e.nonce = o, sign(e).then(done)) : validateNonce(e, o).then(sign).then(done).catch(n);\n        }\n      });\n    }, e.exports = StateManager;\n  }, function (e, t) {\n    e.exports = require(\"ethereumjs-abi\");\n  }, function (e, t) {\n    e.exports = require(\"assert\");\n  }, function (e, t) {\n    e.exports = require(\"seedrandom\");\n  }, function (e, t) {\n    e.exports = require(\"bip39\");\n  }, function (e, t) {\n    e.exports = require(\"safe-buffer\");\n  }, function (e, t) {\n    e.exports = require(\"randombytes\");\n  }, function (e, t) {\n    e.exports = require(\"scryptsy\");\n  }, function (e, t) {\n    e.exports = require(\"uuid/v4\");\n  }, function (e, t) {\n    e.exports = require(\"bs58check\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(54).HDKey,\n        o = n(23);\n\n    function EthereumHDKey() {}\n\n    function fromHDKey(e) {\n      var t = new EthereumHDKey();\n      return t._hdkey = e, t;\n    }\n\n    EthereumHDKey.fromMasterSeed = function (e) {\n      return fromHDKey(r.fromMasterSeed(e));\n    }, EthereumHDKey.fromExtendedKey = function (e) {\n      return fromHDKey(r.fromExtendedKey(e));\n    }, EthereumHDKey.prototype.privateExtendedKey = function () {\n      if (!this._hdkey.privateExtendedKey) throw new Error(\"This is a public key only wallet\");\n      return this._hdkey.privateExtendedKey;\n    }, EthereumHDKey.prototype.publicExtendedKey = function () {\n      return this._hdkey.publicExtendedKey;\n    }, EthereumHDKey.prototype.derivePath = function (e) {\n      return fromHDKey(this._hdkey.derive(e));\n    }, EthereumHDKey.prototype.deriveChild = function (e) {\n      return fromHDKey(this._hdkey.deriveChild(e));\n    }, EthereumHDKey.prototype.getWallet = function () {\n      return this._hdkey._privateKey ? o.fromPrivateKey(this._hdkey._privateKey) : o.fromPublicKey(this._hdkey._publicKey, !0);\n    }, e.exports = EthereumHDKey;\n  }, function (e, t) {\n    e.exports = require(\"ethereum-cryptography/hdkey\");\n  }, function (e, t) {\n    e.exports = require(\"ethereumjs-vm\");\n  }, function (e, t) {\n    e.exports = require(\"heap\");\n  }, function (e, t, n) {\n    var r = n(58),\n        o = n(59),\n        i = n(60),\n        a = n(61),\n        s = n(62),\n        c = n(65),\n        u = n(29),\n        l = n(66),\n        h = n(67),\n        p = n(68),\n        f = n(69),\n        d = n(28);\n\n    function Database(e) {\n      this.options = e, this.directory = null;\n    }\n\n    Database.prototype.initialize = function (e) {\n      var t,\n          n = this;\n\n      function finishInitializing(t, i) {\n        if (t) return e(t);\n        n.db = i, n.blocks = new r(\"blocks\", n.db, l), n.blockLogs = new r(\"blockLogs\", n.db, new p(n)), n.blockHashes = new o(\"blockHashes\", n.db), n.transactions = new o(\"transactions\", n.db, u), n.transactionReceipts = new o(\"transactionReceipts\", n.db, new f(n)), n.trie_db = new o(\"trie_db\", n.db, h, h), e();\n      }\n\n      t = function (t, r) {\n        if (t) return e(t);\n        const o = {\n          valueEncoding: \"json\"\n        };\n\n        if (n.options.db) {\n          const e = n.options.db;\n          i(e, o, finishInitializing);\n        } else {\n          n.directory = r;\n          const e = a(c(r, s).maxSize(100), o);\n          i(e, {}, finishInitializing);\n        }\n      }, n.options.db_path ? t(null, n.options.db_path) : d.dir(t);\n    }, Database.prototype.close = function (e) {\n      e();\n    }, e.exports = Database;\n  }, function (e, t, n) {\n    var r = n(7);\n    const {\n      LevelUpOutOfRangeError: o,\n      BlockOutOfRangeError: i\n    } = n(16);\n\n    function LevelUpArrayAdapter(e, t, n) {\n      this.db = r(t), this.db = this.db.sublevel(e), this.name = e, this.serializer = n || {\n        encode: function (e, t) {\n          t(null, e);\n        },\n        decode: function (e, t) {\n          t(null, e);\n        }\n      };\n    }\n\n    LevelUpArrayAdapter.prototype.length = function (e) {\n      this.db.get(\"length\", function (t, n) {\n        if (t) return t.notFound ? e(null, 0) : e(t);\n        e(null, n);\n      });\n    }, LevelUpArrayAdapter.prototype._get = function (e, t) {\n      var n = this;\n      this.db.get(e, function (e, r) {\n        if (e) return t(e);\n        n.serializer.decode(r, t);\n      });\n    }, LevelUpArrayAdapter.prototype._put = function (e, t, n) {\n      var r = this;\n      this.serializer.encode(t, function (t, o) {\n        if (t) return n(t);\n        r.db.put(e, o, n);\n      });\n    }, LevelUpArrayAdapter.prototype.get = function (e, t) {\n      var n = this;\n      this.length(function (r, a) {\n        if (r) return t(r);\n\n        if (e >= a) {\n          const r = \"blocks\" === n.name ? new i(e, a) : new o(n.name, e, a);\n          return t(r);\n        }\n\n        n._get(e, t);\n      });\n    }, LevelUpArrayAdapter.prototype.push = function (e, t) {\n      var n = this;\n      this.length(function (r, o) {\n        if (r) return t(r);\n\n        n._put(o + \"\", e, function (e) {\n          if (e) return t(e);\n          n.db.put(\"length\", o + 1, t);\n        });\n      });\n    }, LevelUpArrayAdapter.prototype.pop = function (e) {\n      var t = this;\n      this.length(function (n, r) {\n        if (n) return e(n);\n        var o = r - 1;\n\n        t._get(o + \"\", function (n, r) {\n          if (n) return e(n);\n          t.db.del(o + \"\", function (n) {\n            if (n) return e(n);\n            t.db.put(\"length\", o, function (t) {\n              if (t) return e(t);\n              e(null, r);\n            });\n          });\n        });\n      });\n    }, LevelUpArrayAdapter.prototype.last = function (e) {\n      var t = this;\n      this.length(function (n, r) {\n        return n ? e(n) : 0 === r ? e(null, null) : void t._get(r - 1 + \"\", e);\n      });\n    }, LevelUpArrayAdapter.prototype.first = function (e) {\n      this._get(\"0\", e);\n    }, e.exports = LevelUpArrayAdapter;\n  }, function (e, t, n) {\n    var r = n(7),\n        o = n(3);\n\n    function LevelUpObjectAdapter(e, t, n, o, i) {\n      this.db = r(t, i), this.db = this.db.sublevel(e), this.name = e, this.valueserializer = n || {\n        encode: function (e, t) {\n          t(null, e);\n        },\n        decode: function (e, t) {\n          t(null, e);\n        }\n      }, this.keyserializer = o || {\n        encode: function (e, t) {\n          t(null, e);\n        },\n        decode: function (e, t) {\n          t(null, e);\n        }\n      };\n    }\n\n    LevelUpObjectAdapter.prototype.get = function (e, t, n) {\n      var r = this;\n      \"function\" == typeof t && (n = t, t = {}), this.keyserializer.encode(e, function (e, t) {\n        if (e) return n(e);\n        r.db.get(t, function (e, t) {\n          if (e) return n(e);\n          r.valueserializer.decode(t, function (e, t) {\n            if (e) return n(e);\n            n(null, t);\n          });\n        });\n      });\n    }, LevelUpObjectAdapter.prototype.put = function (e, t, n, r) {\n      var o = this;\n      \"function\" == typeof n && (r = n, n = {}), this.keyserializer.encode(e, function (e, n) {\n        if (e) return r(e);\n        o.valueserializer.encode(t, function (e, t) {\n          if (e) return r(e);\n          o.db.put(n, t, r);\n        });\n      });\n    }, LevelUpObjectAdapter.prototype.set = LevelUpObjectAdapter.prototype.put, LevelUpObjectAdapter.prototype.del = function (e, t) {\n      var n = this;\n      this.keyserializer.encode(e, function (e, r) {\n        if (e) return t(e);\n        n.db.del(r, t);\n      });\n    }, LevelUpObjectAdapter.prototype.batch = function (e, t, n) {\n      var r = this;\n      o.each(e, function (e, n) {\n        \"put\" === e.type ? r.put(e.key, e.value, t, n) : \"del\" === e.type ? r.del(e.key, n) : n(new Error(\"Unknown batch type\", e.type));\n      }, function (e) {\n        if (e) return n(e);\n        n();\n      });\n    }, LevelUpObjectAdapter.prototype.isOpen = function () {\n      return !0;\n    }, e.exports = LevelUpObjectAdapter;\n  }, function (e, t) {\n    e.exports = require(\"levelup\");\n  }, function (e, t) {\n    e.exports = require(\"encoding-down\");\n  }, function (e, t, n) {\n    var r = n(2),\n        o = n(63).AbstractLevelDOWN,\n        i = n(3),\n        a = n(27),\n        s = n(64),\n        c = n(28);\n\n    function FileDown(e) {\n      this.location = e;\n      const t = s.join(e, \"_tmp\");\n\n      try {\n        a.mkdirSync(t, {\n          recursive: !0,\n          mode: 1023\n        });\n      } catch (e) {\n        if (\"EEXIST\" !== e.code) throw e;\n      }\n\n      this.tmpOptions = {\n        keep: !0,\n        dir: t\n      }, o.call(this, e);\n    }\n\n    r.inherits(FileDown, o), FileDown.prototype._open = function (e, t) {\n      t(null, this);\n    };\n\n    const u = {\n      next: e => {\n        const t = u.cache[e].shift();\n        t ? t() : delete u.cache[e];\n      },\n      execute: (e, t) => {\n        const n = u.cache[e];\n        n ? n.push(t) : (u.cache[e] = [], t());\n      },\n      cache: {}\n    },\n          l = new Set(),\n          cleanup = e => {\n      try {\n        l.forEach(e => {\n          const [t, n] = e;\n\n          try {\n            a.closeSync(t);\n          } catch (e) {} finally {\n            try {\n              a.unlinkSync(n);\n            } catch (e) {}\n          }\n        }), l.clear();\n      } finally {\n        e && process.exit(0);\n      }\n    };\n\n    process.on(\"SIGINT\", cleanup), process.on(\"exit\", () => cleanup(!1)), FileDown.prototype._put = function (e, t, n, r) {\n      const o = s.join(this.location, e);\n      u.execute(o, () => {\n        c.file(this.tmpOptions, (e, n, i, s) => {\n          if (e) return r(e), void u.next(o);\n          const c = [i, n];\n          l.add(c);\n\n          const cleanupAndCallback = e => {\n            e && s(), l.delete(c), r(e), u.next(o);\n          };\n\n          a.writeFile(i, t, \"utf8\", e => {\n            e ? cleanupAndCallback(e) : a.rename(n, o, e => {\n              e ? cleanupAndCallback(e) : a.close(i, () => cleanupAndCallback());\n            });\n          });\n        });\n      });\n    }, FileDown.prototype._get = function (e, t, n) {\n      const r = s.join(this.location, e);\n      u.execute(r, () => {\n        a.readFile(r, \"utf8\", (e, t) => {\n          e ? n(new Error(\"NotFound\")) : n(null, t), u.next(r);\n        });\n      });\n    }, FileDown.prototype._del = function (e, t, n) {\n      a.unlink(s.join(this.location, e), function (e) {\n        if (e) return e.message.indexOf(\"ENOENT\") >= 0 ? n() : n(e);\n        n();\n      });\n    }, FileDown.prototype._batch = function (e, t, n) {\n      var r = this;\n      i.each(e, function (e, n) {\n        \"put\" === e.type ? r.put(e.key, e.value, t, n) : \"del\" === e.type ? r.del(e.key, t, n) : n(new Error(\"Unknown batch type\", e.type));\n      }, function (e) {\n        if (e) return n(e);\n        n();\n      });\n    }, e.exports = function (e) {\n      return new FileDown(e);\n    };\n  }, function (e, t) {\n    e.exports = require(\"abstract-leveldown\");\n  }, function (e, t) {\n    e.exports = require(\"path\");\n  }, function (e, t) {\n    e.exports = require(\"cachedown\");\n  }, function (e, t, n) {\n    var r = n(29),\n        o = n(3),\n        i = n(13);\n    e.exports = {\n      encode: function (e, t) {\n        var n = e.toJSON(!0);\n        o.map(e.transactions, function (e, t) {\n          r.encode(e, t);\n        }, function (e, r) {\n          if (e) return t(e);\n          n.transactions = r, t(null, n);\n        });\n      },\n      decode: function (e, t) {\n        var n = e.transactions;\n        e.transactions = [];\n        var a = new i(e);\n        o.eachSeries(n, function (e, t) {\n          r.decode(e, function (e, n) {\n            if (e) return t(e);\n            a.transactions.push(n), t();\n          });\n        }, function (e) {\n          if (e) return t(e);\n          t(null, a);\n        });\n      }\n    };\n  }, function (e, t, n) {\n    var r = n(1),\n        o = n(0);\n    e.exports = {\n      encode: function (e, t) {\n        t(null, o.hex(e));\n      },\n      decode: function (e, t) {\n        t(null, r.toBuffer(e));\n      }\n    };\n  }, function (e, t, n) {\n    var r = n(14),\n        o = n(3);\n\n    function BlockLogsSerializer(e) {\n      this.database = e;\n    }\n\n    BlockLogsSerializer.prototype.encode = function (e, t) {\n      t(null, e = e.map(function (e) {\n        return e.toJSON();\n      }));\n    }, BlockLogsSerializer.prototype.decode = function (e, t) {\n      var n = this;\n      if (0 === e.length) return t(null, []);\n      this.database.blockHashes.get(e[0].blockHash, function (i, a) {\n        if (i) return t(i);\n        n.database.blocks.get(a, function (n, i) {\n          if (n) return t(n);\n          o.map(e, function (e, t) {\n            t(null, new r({\n              block: i,\n              logIndex: e.logIndex,\n              transactionIndex: e.transactionIndex,\n              transactionHash: e.transactionHash,\n              address: e.address,\n              data: e.data,\n              topics: e.topics,\n              type: e.type\n            }));\n          }, function (e, n) {\n            if (e) return t(e);\n            t(null, n);\n          });\n        });\n      });\n    }, e.exports = BlockLogsSerializer;\n  }, function (e, t, n) {\n    var r = n(15),\n        o = n(3);\n\n    function ReceiptSerializer(e) {\n      this.database = e;\n    }\n\n    ReceiptSerializer.prototype.encode = function (e, t) {\n      t(null, e.toJSON());\n    }, ReceiptSerializer.prototype.decode = function (e, t) {\n      var n = this,\n          i = e.transactionHash.toLowerCase();\n      this.database.transactions.get(e.transactionHash, function (a, s) {\n        if (a) return t(a);\n        n.database.blockHashes.get(e.blockHash, function (a, c) {\n          if (a) return t(a);\n          o.parallel({\n            block: n.database.blocks.get.bind(n.database.blocks, c),\n            logs: n.database.blockLogs.get.bind(n.database.blockLogs, c)\n          }, function (n, o) {\n            if (n) return t(n);\n            t(null, new r(s, o.block, o.logs.filter(e => e.transactionHash.toLowerCase() === i), e.gasUsed, e.cumulativeGasUsed, e.contractAddress, e.status, e.logsBloom));\n          });\n        });\n      });\n    }, e.exports = ReceiptSerializer;\n  }, function (e, t, n) {\n    const r = n(71),\n          o = n(72);\n\n    e.exports = async (e, t, n) => {\n      const i = e();\n      r(i, t, async (r, i) => {\n        r ? n(r) : await o(e, t, i, n);\n      });\n    };\n  }, function (e, t, n) {\n    const r = n(6),\n          {\n      BN: o\n    } = n(1),\n          bn = function () {\n      let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      return new o(e);\n    },\n          i = bn(2300),\n          check = e => t => e.has(t),\n          a = check(new Set([\"CALL\", \"DELEGATECALL\", \"STATICCALL\", \"CALLCODE\"])),\n          s = check(new Set([\"CALL\", \"CALLCODE\"])),\n          c = check(new Set([\"CREATE\", \"CREATE2\"])),\n          u = check(new Set([\"STOP\", \"RETURN\", \"REVERT\", \"INVALID\", \"SELFDESTRUCT\"]));\n\n    e.exports = async (e, t, n) => {\n      const o = stepTracker();\n      e.on(\"step\", o.collect);\n\n      const Context = (e, t) => {\n        const n = 0 === e;\n        let r = e,\n            a = 0;\n        const c = bn();\n        let u = bn();\n        const l = o.ops[e],\n              h = o.ops[e + 1],\n              p = l.gasLeft.sub(h.gasLeft),\n              f = t || bn();\n        let d = !1;\n\n        function addGas(e) {\n          u.gtn(0) && (e.gte(u) ? u = bn() : u.isub(e)), c.iadd(e);\n        }\n\n        return {\n          start: () => r,\n          stop: () => a,\n          setStart: e => {\n            r = e, d = !0;\n          },\n          setStop: e => {\n            a = e;\n          },\n          getCost: () => ({\n            cost: c,\n            sixtyFloorths: u\n          }),\n          transfer: e => {\n            const t = e.getCost();\n            addGas(t.cost), u.iadd(t.sixtyFloorths);\n          },\n          addSixtyFloorth: e => {\n            u.iadd(e);\n          },\n          addRange: function () {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : bn();\n            addGas(o.ops[n || d ? r : r + 1].gasLeft.sub(o.ops[a].gasLeft).add(e));\n          },\n          finalizeRange: () => {\n            let e;\n\n            if (d && a !== o.ops.length - 1) {\n              e = o.ops[r].gasLeft.sub(o.ops[a - 1].gasLeft), addGas(e);\n              e = o.ops[a - 1].gasLeft.sub(o.ops[a].gasLeft).add(p);\n            } else e = o.ops[r].gasLeft.sub(o.ops[a].gasLeft);\n\n            if (e.isub(f), addGas(e), s(l.opcode.name) && !l.stack[l.stack.length - 3].isZero()) {\n              c.iadd(u);\n              const e = h.gasLeft.sub(o.ops[a - 1].gasLeft);\n              e.gt(i) ? u = c.divn(63) : e.lte(i) && (u = i.sub(e));\n            } else a !== o.ops.length - 1 && (c.iadd(u), u = c.divn(63));\n          }\n        };\n      },\n            l = await e.runTx(t).catch(e => ({\n        vmerr: e\n      })),\n            h = l.vmerr;\n\n      if (h) return n(h);\n\n      if (l.execResult.exceptionError) {\n        return n(r.fromResults([t.tx], {\n          results: [l]\n        }), l);\n      }\n\n      if (o.done()) {\n        const e = l.gasUsed;\n        l.gasEstimate = e;\n      } else {\n        const e = o.ops[0].gasLeft.sub(o.ops[o.ops.length - 1].gasLeft),\n              t = (() => {\n          const e = o.systemOps,\n                t = o.ops,\n                opIndex = t => e[t].index,\n                n = [];\n\n          let r = 0,\n              s = Context(0);\n\n          for (; r < e.length;) {\n            const e = opIndex(r),\n                  l = t[e],\n                  h = l.opcode.name;\n            if (a(h) || c(h)) o.isPrecompile(e) ? (s.setStop(e + 1), s.addRange(), s.setStart(e + 1), s.addSixtyFloorth(i)) : (s.setStop(e), s.addRange(bn(l.opcode.fee)), n.push(s), s = Context(e, bn(l.opcode.fee)));else {\n              if (!u(h)) throw new Error(\"INVALID OPCODE\");\n              {\n                s.setStop(e + 1 < o.ops.length ? e + 1 : e), s.finalizeRange();\n                const t = n.pop();\n                if (!t) break;\n                t.transfer(s), s = t, s.setStart(e + 1);\n              }\n            }\n            r++;\n          }\n\n          const l = s.getCost();\n          return l.cost.add(l.sixtyFloorths);\n        })().sub(e);\n\n        l.gasEstimate = l.gasUsed.add(t);\n      }\n\n      n(h, l);\n    };\n\n    const stepTracker = () => {\n      const e = [],\n            t = [],\n            n = new Set();\n      let r = !1,\n          o = 0;\n      return {\n        collect: i => {\n          r && (i.depth === o && n.add(t.length - 1), r = !1), a(i.opcode.name) ? (i.stack = i.stack.map(e => e.clone()), r = !0, o = i.depth, e.push({\n            index: t.length,\n            depth: i.depth,\n            name: i.opcode.name\n          })) : (c(i.opcode.name) || u(i.opcode.name)) && e.push({\n            index: t.length,\n            depth: i.depth,\n            name: i.opcode.name\n          }), t.push(i);\n        },\n        isPrecompile: e => n.has(e),\n        done: () => !t.length || e.length < 2 || !u(t[t.length - 1].opcode.name),\n        ops: t,\n        systemOps: e\n      };\n    };\n  }, function (e, t, n) {\n    const {\n      BN: r\n    } = n(1);\n\n    e.exports = async function (e, t, n, o) {\n      const i = function () {\n        let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        return new r(parseInt(\"0x\" + e.toString(\"hex\"), 16));\n      }(t.block.header.gasLimit),\n            a = n.execResult.gasRefund,\n            s = a ? n.gasEstimate.add(a) : n.gasEstimate,\n            c = {\n        lo: s,\n        hi: s\n      },\n            isEnoughGas = async n => {\n        const r = e();\n        t.tx.gasLimit = n.toBuffer();\n        const o = await r.runTx(t).catch(e => ({\n          vmerr: e\n        }));\n        return !o.vmerr && !o.execResult.exceptionError;\n      };\n\n      if (!(await isEnoughGas(c.hi))) {\n        do {\n          c.hi = c.hi.muln(64 / 63);\n        } while (!(await isEnoughGas(c.hi)));\n\n        for (; c.lo.addn(1).lt(c.hi);) {\n          const e = c.lo.add(c.hi).divn(2);\n          (await isEnoughGas(e)) ? c.hi = e : c.lo = e;\n        }\n\n        if (c.hi.gte(i) && !(await isEnoughGas(c.hi))) return o(new Error(\"gas required exceeds allowance or always failing transaction\"));\n      }\n\n      n.gasEstimate = c.hi, o(null, n);\n    };\n  }, function (e, t, n) {\n    var r = n(25),\n        o = n(10).default,\n        i = n(13),\n        a = n(14),\n        s = n(15),\n        c = n(1),\n        u = n(74),\n        l = n(18),\n        h = n(0),\n        p = n(11),\n        f = n(3),\n        d = n(95);\n    const g = n(7),\n          m = c.BN;\n    (0, n(2).inherits)(ForkedBlockchain, r);\n    const b = /^https?:/i,\n          k = /^[A-Za-z][A-Za-z0-9+\\-.]*:/,\n          y = /^(?:http|ws)s?:/i,\n          v = /@([0-9]+)$/;\n\n    function cloneWithoutId(e) {\n      return Object.assign({}, e, {\n        id: null\n      });\n    }\n\n    function ForkedBlockchain(e) {\n      if (this.options = e || {}, null == e.fork || \"string\" == typeof e.fork && 0 === e.fork.trim().length) throw new Error(\"ForkedBlockchain must be passed a fork parameter.\");\n\n      if (this.forkVersion = null, \"string\" == typeof e.fork) {\n        const t = v.exec(e.fork);\n        let n;\n\n        if (t && (e.fork = e.fork.slice(0, t.index), e.fork_block_number = parseInt(t[1], 10)), k.test(e.fork)) {\n          if (!y.test(e.fork)) throw new Error(`Invalid scheme for fork url: ${e.fork}. Supported schemes are: http, https, ws, and wss.`);\n          n = b.test(e.fork) ? new l.providers.HttpProvider(e.fork) : new l.providers.WebsocketProvider(e.fork);\n        } else e.fork = \"ws://\" + e.fork, n = new l.providers.WebsocketProvider(e.fork);\n\n        this.fork = n;\n      } else this.fork = e.fork;\n\n      if (this.forkBlockNumber = e.fork_block_number, this.forkCacheSize = parseInt(e.forkCacheSize), !isNaN(this.forkCacheSize) && 0 !== this.forkCacheSize) {\n        const e = this.fork.send,\n              t = new d({\n          max: -1 === this.forkCacheSize ? 0 : this.forkCacheSize,\n          length: (e, t) => Buffer.byteLength(e) + Buffer.byteLength(t, \"utf8\")\n        }),\n              n = new Map();\n\n        this.fork.send = (r, o) => {\n          let i;\n          const a = Array.isArray(r);\n          i = a ? r : [r], Promise.all(i.map(async r => {\n            const o = JSON.stringify(cloneWithoutId(r));\n            let i = n.get(o);\n            i && i.payload !== r && (await i.promise);\n            const a = t.get(o);\n\n            if (a) {\n              const e = JSON.parse(a.toString());\n              return e.id = r.id, Promise.resolve({\n                error: null,\n                result: e\n              });\n            }\n\n            {\n              const a = new Promise(n => {\n                e.call(this.fork, r, (e, r) => {\n                  e || t.set(o, Buffer.from(JSON.stringify(cloneWithoutId(r)))), n({\n                    error: e,\n                    result: r\n                  });\n                });\n              });\n              return i = {\n                payload: r,\n                promise: a\n              }, n.set(o, i), a.catch(() => {}).then(() => {\n                n.delete(o);\n              }), a;\n            }\n          })).then(e => {\n            if (a) {\n              let t = !1;\n              const n = [],\n                    r = [];\n              e.forEach(_ref => {\n                let {\n                  error: e,\n                  result: o\n                } = _ref;\n                e && (t = !0), n.push(e), r.push(o);\n              }), o(t ? n : null, r);\n            } else {\n              const t = e[0];\n              o(t.error, t.result);\n            }\n          });\n        };\n      }\n\n      this.time = e.time, this.storageTrieCache = {}, r.call(this, e), this.createVMFromStateTrie = function () {\n        var e = r.prototype.createVMFromStateTrie.apply(this, arguments);\n        return this.patchVM(e), e;\n      }, this.web3 = new l(this.fork), this._touchedKeys = [];\n    }\n\n    ForkedBlockchain.prototype.initialize = async function (e, t) {\n      try {\n        const n = await new Promise((e, t) => {\n          this.web3.eth.net.getId((n, r) => {\n            n ? this.options.network_id ? e(this.options.network_id) : (Error.captureStackTrace(n), n.message = \"The fork provider errored when checking net_version: \" + n.message, t(n)) : e(r);\n          });\n        });\n        this.forkVersion = n;\n        const o = this.forkBlock = await new Promise((e, t) => {\n          const n = this.forkBlockNumber || \"latest\";\n          this.web3.eth.getBlock(n, (r, o) => {\n            r ? (Error.captureStackTrace(r), r.message = `The fork provider errored when checking for block '${n}': ${r.message}`, t(r)) : e(o);\n          });\n        });\n        !this.time && this.forkBlockNumber && (this.time = this.options.time = new Date(1e3 * h.number(o.timestamp)), this.setTime(this.time)), this.forkBlockNumber = this.options.fork_block_number = o.number, this.forkBlockHash = o.hash;\n        (await Promise.all(e.map(e => new Promise((t, n) => {\n          this.web3.eth.getTransactionCount(e.address, this.forkBlockNumber, (r, o) => {\n            r ? (Error.captureStackTrace(r), r.message = `The fork provider errored when checking the nonce for account ${e.address}: ${r.message}`, n(r)) : t(o);\n          });\n        })))).forEach((t, n) => {\n          e[n].account.nonce = t;\n        }), r.prototype.initialize.call(this, e, t);\n      } catch (e) {\n        t(e);\n      }\n    }, ForkedBlockchain.prototype.patchVM = function (e) {\n      const t = e.stateManager._trie,\n            n = this.getLookupAccount(t);\n      e.stateManager._cache._lookupAccount = n, e.stateManager._lookupStorageTrie = this.getLookupStorageTrie(t, n);\n    }, ForkedBlockchain.prototype.createStateTrie = function (e, t, n) {\n      return (n = Object.assign({\n        fork: this.fork,\n        forkBlockNumber: this.forkBlockNumber,\n        blockchain: this\n      }, n)).forkBlockNumber > this.forkBlockNumber && (n.forkBlockNumber = this.forkBlockNumber), new u(e, t, n);\n    }, ForkedBlockchain.prototype.createGenesisBlock = function (e) {\n      const t = this.forkBlock;\n      this.createBlock(function (n, r) {\n        if (n) return e(n);\n        r.header.number = t.number + 1, r.header.parentHash = t.hash, e(null, r);\n      });\n    }, ForkedBlockchain.prototype.getLookupStorageTrie = function (e, t) {\n      return t = t || this.getLookupAccount(e), (n, r) => {\n        const o = e.copy();\n        o.address = n, t(n, (e, t) => {\n          if (e) return r(e);\n          o.root = t.stateRoot, r(null, o);\n        });\n      };\n    }, ForkedBlockchain.prototype.isFallbackBlock = function (e, t) {\n      var n = this;\n      n.getEffectiveBlockNumber(e, function (e, r) {\n        if (e) return t(e);\n        t(null, r <= h.number(n.forkBlockNumber));\n      });\n    }, ForkedBlockchain.prototype.isBlockHash = function (e) {\n      return \"string\" == typeof e && 0 === e.indexOf(\"0x\") && e.length > 42 || Buffer.isBuffer(e) && e.byteLength > 20;\n    }, ForkedBlockchain.prototype.isFallbackBlockHash = function (e, t) {\n      if (!this.isBlockHash(e)) return t(null, !1);\n      Buffer.isBuffer(e) && (e = h.hex(e)), this.data.blockHashes.get(e, function (e, n) {\n        if (e) return e.notFound ? t(null, !0) : t(e);\n        t(null, !1);\n      });\n    }, ForkedBlockchain.prototype.getFallbackBlock = function (e, t) {\n      var n = this;\n      Buffer.isBuffer(e) && (e = h.rpcDataHexString(e)), \"string\" == typeof e && 66 !== e.length && (e = h.number(e)), n.web3.eth.getBlock(e, !0, function (e, r) {\n        if (e) return t(e);\n        if (null == r) return t(new Error(\"Block not found\"));\n        var o = new i();\n        o.header.parentHash = c.toBuffer(r.parentHash), o.header.uncleHash = c.toBuffer(r.sha3Uncles), o.header.coinbase = c.toBuffer(r.miner), o.header.stateRoot = c.toBuffer(r.stateRoot), o.header.transactionsTrie = c.toBuffer(r.transactionsRoot), o.header.receiptTrie = c.toBuffer(r.receiptsRoot), o.header.bloom = c.toBuffer(r.logsBloom), o.header.difficulty = c.toBuffer(\"0x\" + r.totalDifficulty.toString(16)), o.header.number = c.toBuffer(r.number), o.header.gasLimit = c.toBuffer(r.gasLimit), o.header.gasUsed = c.toBuffer(r.gasUsed), o.header.timestamp = c.toBuffer(r.timestamp), o.header.extraData = c.toBuffer(r.extraData), (r.transactions || []).forEach(function (e, t) {\n          o.transactions.push(p.fromJSON(e, p.types.real, null, n.forkVersion, n.options.hardfork));\n        }), o.hash = function () {\n          return c.toBuffer(r.hash);\n        }, t(null, o);\n      });\n    }, ForkedBlockchain.prototype.getBlock = function (e, t) {\n      let n;\n      const o = this.isBlockHash(e);\n      n = o ? this.isFallbackBlockHash : this.isFallbackBlock, n.call(this, e, (n, i) => {\n        if (n) return t(n);\n        if (i) return this.getFallbackBlock(e, t);\n        const a = r.prototype.getBlock.bind(this);\n        o ? a(e, t) : this.getRelativeBlockNumber(e, (e, n) => {\n          if (e) return t(e);\n          a(n, t);\n        });\n      });\n    }, ForkedBlockchain.prototype.getStorage = function (e, t, n, r) {\n      var o = this;\n      this.getEffectiveBlockNumber(n, (n, i) => {\n        if (n) return r(n);\n        i > o.forkBlockNumber ? o.getBlock(i, function (n, i) {\n          if (n) return r(n);\n          const a = o.stateTrie.root;\n          o.stateTrie.root = i.header.stateRoot, o.getLookupStorageTrie(o.stateTrie)(e, (e, n) => {\n            if (e) return r(e);\n            n.get(c.setLengthLeft(c.toBuffer(t), 32), function (e, t) {\n              if (n.root = a, null != e) return r(e);\n              r(null, t);\n            });\n          });\n        }) : o.web3.eth.getStorageAt(h.rpcDataHexString(e), h.rpcDataHexString(t), i, function (e, t) {\n          if (e) return r(e);\n          t = c.rlp.encode(t), r(null, t);\n        });\n      });\n    }, ForkedBlockchain.prototype.getCode = function (e, t, n) {\n      var o = this;\n      \"function\" == typeof t && (n = t, t = \"latest\"), t || (t = \"latest\"), this.getEffectiveBlockNumber(t, function (i, a) {\n        if (i) return n(i);\n        t = a, o.stateTrie.getTouchedAt(e, (i, a) => {\n          if (i) return n(i);\n          void 0 !== a && a <= t ? r.prototype.getCode.call(o, e, t, n) : (t > h.number(o.forkBlockNumber) && (t = \"latest\"), o.fetchCodeFromFallback(e, t, function (e, t) {\n            t && (t = c.toBuffer(t)), n(e, t);\n          }));\n        });\n      });\n    }, ForkedBlockchain.prototype.getLookupAccount = function (e) {\n      return (t, n) => {\n        e.keyExists(t, (r, i) => {\n          if (r) return n(r);\n          i ? e.get(t, (e, t) => {\n            if (e) return n(e);\n            const r = new o(t);\n            n(null, r);\n          }) : this.fetchAccountFromFallback(t, h.number(e.forkBlockNumber), n);\n        });\n      };\n    }, ForkedBlockchain.prototype.getAccount = function (e, t, n) {\n      var o = this;\n      \"function\" == typeof t && (n = t, t = \"latest\"), this.getEffectiveBlockNumber(t, function (i, a) {\n        if (i) return n(i);\n        t = a, o.stateTrie.keyExists(e, function (i, a) {\n          if (i) return n(i);\n          a && t > h.number(o.forkBlockNumber) ? r.prototype.getAccount.call(o, e, t, function (e, t) {\n            if (e) return n(e);\n            n(null, t);\n          }) : o.fetchAccountFromFallback(e, t, n);\n        });\n      });\n    }, ForkedBlockchain.prototype.getTransaction = function (e, t) {\n      var n = this;\n      r.prototype.getTransaction.call(this, e, function (r, o) {\n        return r ? t(r) : null != o ? t(null, o) : void n.web3.eth.getTransaction(e, function (e, r) {\n          if (e) return t(e);\n          r && (r = p.fromJSON(r, p.types.signed, null, n.forkVersion, n.options.hardfork)), t(null, r);\n        });\n      });\n    }, ForkedBlockchain.prototype.getTransactionReceipt = function (e, t) {\n      var n = this;\n      r.prototype.getTransactionReceipt.call(this, e, function (r, o) {\n        return r ? t(r) : o ? t(null, o) : void n.web3.eth.getTransactionReceipt(e, function (r, o) {\n          return r ? t(r) : o ? void f.parallel({\n            tx: n.getTransaction.bind(n, e),\n            block: n.getBlock.bind(n, o.blockNumber)\n          }, function (e, n) {\n            if (e) return t(e);\n            var r = o.logs.map(function (e) {\n              return e.block = n.block, new a(e);\n            }),\n                i = new s(n.tx, n.block, r, o.gasUsed, o.cumulativeGasUsed, o.contractAddress, o.status, h.hex(o.logsBloom));\n            t(null, i);\n          }) : t();\n        });\n      });\n    }, ForkedBlockchain.prototype.fetchAccountFromFallback = function (e, t, n) {\n      var r = this;\n      e = h.hex(e), f.parallel({\n        code: this.fetchCodeFromFallback.bind(this, e, t),\n        balance: this.fetchBalanceFromFallback.bind(this, e, t),\n        nonce: this.fetchNonceFromFallback.bind(this, e, t)\n      }, function (e, t) {\n        if (e) return n(e);\n        var i = t.code,\n            a = t.balance,\n            s = t.nonce,\n            u = new o({\n          nonce: s,\n          balance: a\n        });\n        u.setCode(r.stateTrie, c.toBuffer(i), function (e) {\n          if (e) return n(e);\n          n(null, u);\n        });\n      });\n    }, ForkedBlockchain.prototype.fetchCodeFromFallback = function (e, t, n) {\n      var r = this;\n      e = h.hex(e), \"function\" == typeof t && (n = t, t = this.forkBlockNumber), this.getSafeFallbackBlockNumber(t, function (t, o) {\n        if (t) return n(t);\n        r.web3.eth.getCode(e, o, function (e, t) {\n          if (e) return n(e);\n          t = \"0x\" + c.toBuffer(t).toString(\"hex\"), n(null, t);\n        });\n      });\n    }, ForkedBlockchain.prototype.fetchBalanceFromFallback = function (e, t, n) {\n      var r = this;\n      e = h.hex(e), \"function\" == typeof t && (n = t, t = this.forkBlockNumber), this.getSafeFallbackBlockNumber(t, function (t, o) {\n        if (t) return n(t);\n        r.web3.eth.getBalance(e, o, function (e, t) {\n          if (e) return n(e);\n          t = \"0x\" + new m(t).toString(16), n(null, t);\n        });\n      });\n    }, ForkedBlockchain.prototype.fetchNonceFromFallback = function (e, t, n) {\n      var r = this;\n      e = h.hex(e), \"function\" == typeof t && (n = t, t = this.forkBlockNumber), this.getSafeFallbackBlockNumber(t, function (t, o) {\n        if (t) return n(t);\n        r.web3.eth.getTransactionCount(e, o, function (e, t) {\n          if (e) return n(e);\n          t = \"0x\" + r.web3.utils.toBN(t).toString(16), n(null, t);\n        });\n      });\n    }, ForkedBlockchain.prototype.getHeight = function (e) {\n      this.latestBlock(function (t, n) {\n        if (t) return e(t);\n        e(null, h.number(n.header.number));\n      });\n    }, ForkedBlockchain.prototype.getRelativeBlockNumber = function (e, t) {\n      var n = this;\n      this.getEffectiveBlockNumber(e, function (e, r) {\n        if (e) return t(e);\n        t(null, r - h.number(n.forkBlockNumber) - 1);\n      });\n    }, ForkedBlockchain.prototype.getSafeFallbackBlockNumber = function (e, t) {\n      var n = h.number(this.forkBlockNumber);\n      if (null == e) return t(null, n);\n      this.getEffectiveBlockNumber(e, function (e, r) {\n        if (e) return t(e);\n        r > n && (r = n), t(null, r);\n      });\n    }, ForkedBlockchain.prototype.getBlockLogs = function (e, t) {\n      var n = this;\n      this.getEffectiveBlockNumber(e, function (o, i) {\n        if (o) return t(o);\n        n.getRelativeBlockNumber(i, function (o, i) {\n          if (o) return t(o);\n          i < 0 ? n.getBlock(e, function (r, o) {\n            if (r) return t(r);\n            n.web3.currentProvider.send({\n              jsonrpc: \"2.0\",\n              method: \"eth_getLogs\",\n              params: [{\n                fromBlock: h.hex(e),\n                toBlock: h.hex(e)\n              }],\n              id: new Date().getTime()\n            }, function (e, n) {\n              if (e) return t(e);\n              var r = n.result.map(function (e) {\n                return e.block = o, new a(e);\n              });\n              t(null, r);\n            });\n          }) : r.prototype.getBlockLogs.call(n, i, t);\n        });\n      });\n    }, ForkedBlockchain.prototype.getQueuedNonce = function (e, t) {\n      var n = null,\n          r = h.buffer(e);\n      if (this.pending_transactions.forEach(function (e) {\n        if (e.from.equals(r)) {\n          var t = new m(e.nonce);\n          (null === n || t.gt(n)) && (n = t);\n        }\n      }), null != n) return t(null, n.iaddn(1).toArrayLike(Buffer));\n      this.getLookupAccount(this.stateTrie)(r, function (e, n) {\n        if (e) return t(e);\n        t(null, 0 === n.nonce.length ? Buffer.from([0]) : n.nonce);\n      });\n    }, ForkedBlockchain.prototype.processCall = function (e, t, n) {\n      const o = this;\n      this.getEffectiveBlockNumber(t, function (i, a) {\n        if (i) return n(i);\n        a > o.forkBlockNumber ? r.prototype.processCall.call(o, e, t, n) : o.web3.eth.call({\n          from: h.rpcDataHexString(e.from),\n          to: h.nullableRpcDataHexString(e.to),\n          data: h.rpcDataHexString(e.data)\n        }, a, function (e, t) {\n          if (e) return n(e);\n          n(null, {\n            execResult: {\n              returnValue: t\n            }\n          });\n        });\n      });\n    }, ForkedBlockchain.prototype.processBlock = async function (e, t, n, o) {\n      this._touchedKeys = [], r.prototype.processBlock.call(this, e, t, n, o);\n    }, ForkedBlockchain.prototype.putBlock = function (e, t, n, o) {\n      const i = this,\n            a = g(i.data.trie_db).sublevel(\"touched\"),\n            s = \"block-\" + h.number(e.header.number);\n      r.prototype.putBlock.call(i, e, t, n, function (e, t) {\n        if (e) return o(e);\n        a.put(s, JSON.stringify(i._touchedKeys), e => {\n          if (e) return o(e);\n          o(null, t);\n        });\n      });\n    }, ForkedBlockchain.prototype.popBlock = function (e) {\n      const t = this,\n            n = g(this.data.trie_db).sublevel(\"touched\");\n      this.data.blocks.last(function (o, i) {\n        if (o) return e(o);\n        if (null == i) return e(null, null);\n        const a = \"block-\" + h.number(i.header.number);\n        n.get(a, function (o, i) {\n          if (o) return e(o);\n          const s = i ? JSON.parse(i) : [];\n          f.eachSeries(s, function (e, t) {\n            n.del(e, t);\n          }, function (o) {\n            if (o) return e(o);\n            n.del(a, function (n) {\n              if (n) return e(n);\n              r.prototype.popBlock.call(t, e);\n            });\n          });\n        });\n      });\n    }, ForkedBlockchain.prototype.close = function (e) {\n      this.fork.disconnect && this.fork.disconnect(), r.prototype.close.call(this, e);\n    }, e.exports = ForkedBlockchain;\n  }, function (e, t, n) {\n    const r = n(7),\n          o = n(26),\n          i = n(75),\n          a = n(76);\n    var s = n(1),\n        c = n(2).inherits,\n        u = n(18),\n        l = n(0);\n\n    function ForkedStorageBaseTrie(e, t, n) {\n      i.call(this, e, t), this._touched = r(this.db).sublevel(\"touched\"), this.options = n, this.address = n.address, this.forkBlockNumber = n.forkBlockNumber, this.blockchain = n.blockchain, this.fork = n.fork, this.web3 = new u(this.fork), this.persist = void 0 === n.persist || n.persist;\n    }\n\n    c(ForkedStorageBaseTrie, i), ForkedStorageBaseTrie.prototype.get = function (e, t) {\n      var n = this;\n      e = s.toBuffer(e), n.keyExists(e, function (r, i) {\n        if (r) return t(r);\n        n.getTouchedAt(e, function (r, a) {\n          if (r) return t(r);\n          i && void 0 !== a ? o.prototype.get.call(n, e, function (e, n) {\n            t(e, n);\n          }) : null == n.address ? n.blockchain.fetchAccountFromFallback(e, n.forkBlockNumber, function (e, n) {\n            if (e) return t(e);\n            t(null, n.serialize());\n          }) : n.web3.eth.getStorageAt(l.rpcDataHexString(n.address), l.rpcDataHexString(e), n.forkBlockNumber, function (e, n) {\n            if (e) return t(e);\n            n = l.rpcQuantityBuffer(n), t(null, n);\n          });\n        });\n      });\n    }, ForkedStorageBaseTrie.prototype.keyExists = function (e, t) {\n      e = s.toBuffer(e), this.findPath(e, (e, n, r, o) => {\n        const i = n && 0 === r.length;\n        t(e, i);\n      });\n    }, ForkedStorageBaseTrie.prototype.touch = function (e, t) {\n      if (!this.persist) return t();\n      const n = this;\n      let r = l.rpcDataHexString(e);\n      this.address && (r = `${l.rpcDataHexString(this.address)};${r}`), r = r.toLowerCase(), this._touched.get(r, (e, o) => {\n        if (e && \"NotFoundError\" !== e.type) return t(e);\n        void 0 === o ? this.blockchain.data.blocks.last((e, o) => {\n          if (e) return t(e);\n          const i = null === o ? n.forkBlockNumber : l.number(o.header.number);\n          this._touched.put(r, i + 1), this.blockchain._touchedKeys.push(r), t();\n        }) : t();\n      });\n    };\n    const h = ForkedStorageBaseTrie.prototype.put;\n\n    function ForkedStorageTrie(e, t, n) {\n      ForkedStorageBaseTrie.call(this, e, t, n), a.call(this, this);\n    }\n\n    ForkedStorageBaseTrie.prototype.put = function (e, t, n) {\n      const r = this;\n      this.touch(e, function (o) {\n        if (o) return n(o);\n        h.call(r, e, t, n);\n      });\n    }, ForkedStorageBaseTrie.prototype.getTouchedAt = function (e, t) {\n      let n = l.rpcDataHexString(e);\n      this.address && (n = `${l.rpcDataHexString(this.address)};${n}`), n = n.toLowerCase(), this._touched.get(n, function (e, n) {\n        if (e && \"NotFoundError\" !== e.type) return t(e);\n        t(null, n);\n      });\n    }, ForkedStorageBaseTrie.prototype.del = function (e, t) {\n      this.put(e, 0, t);\n    }, ForkedStorageBaseTrie.prototype.copy = function () {\n      return new ForkedStorageBaseTrie(this.db, this.root, this.options);\n    }, c(ForkedStorageTrie, ForkedStorageBaseTrie), ForkedStorageTrie.prove = o.prove, ForkedStorageTrie.verifyProof = o.verifyProof, e.exports = ForkedStorageTrie;\n  }, function (e, t) {\n    e.exports = require(\"merkle-patricia-tree/baseTrie\");\n  }, function (e, t) {\n    e.exports = require(\"merkle-patricia-tree/checkpoint-interface\");\n  }, function (e) {\n    e.exports = JSON.parse('{\"name\":\"web3\",\"version\":\"1.2.11\",\"description\":\"Ethereum JavaScript API\",\"repository\":\"https://github.com/ethereum/web3.js\",\"license\":\"LGPL-3.0\",\"engines\":{\"node\":\">=8.0.0\"},\"main\":\"src/index.js\",\"bugs\":{\"url\":\"https://github.com/ethereum/web3.js/issues\"},\"keywords\":[\"Ethereum\",\"JavaScript\",\"API\"],\"author\":\"ethereum.org\",\"types\":\"types/index.d.ts\",\"scripts\":{\"dtslint\":\"dtslint --localTs ../../node_modules/typescript/lib types\",\"postinstall\":\"node angular-patch.js\"},\"authors\":[{\"name\":\"Fabian Vogelsteller\",\"email\":\"fabian@ethereum.org\",\"homepage\":\"http://frozeman.de\"},{\"name\":\"Marek Kotewicz\",\"email\":\"marek@parity.io\",\"url\":\"https://github.com/debris\"},{\"name\":\"Marian Oancea\",\"url\":\"https://github.com/cubedro\"},{\"name\":\"Gav Wood\",\"email\":\"g@parity.io\",\"homepage\":\"http://gavwood.com\"},{\"name\":\"Jeffery Wilcke\",\"email\":\"jeffrey.wilcke@ethereum.org\",\"url\":\"https://github.com/obscuren\"}],\"dependencies\":{\"web3-bzz\":\"1.2.11\",\"web3-core\":\"1.2.11\",\"web3-eth\":\"1.2.11\",\"web3-eth-personal\":\"1.2.11\",\"web3-net\":\"1.2.11\",\"web3-shh\":\"1.2.11\",\"web3-utils\":\"1.2.11\"},\"devDependencies\":{\"@types/node\":\"^12.12.6\",\"dtslint\":\"^3.4.1\",\"typescript\":\"^3.9.5\"},\"gitHead\":\"87e668275ac7d9b8af7c909137fc0626c3866929\"}');\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(20),\n        o = n(19),\n        i = n(30),\n        a = n(79).subscriptions,\n        s = n(31),\n        c = n(21),\n        u = n(32),\n        l = n(80),\n        h = n(33),\n        p = n(81),\n        f = n(82),\n        d = n(83),\n        g = n(91),\n        m = n(92),\n        b = i.formatters,\n        blockCall = function (e) {\n      return r.isString(e[0]) && 0 === e[0].indexOf(\"0x\") ? \"eth_getBlockByHash\" : \"eth_getBlockByNumber\";\n    },\n        transactionFromBlockCall = function (e) {\n      return r.isString(e[0]) && 0 === e[0].indexOf(\"0x\") ? \"eth_getTransactionByBlockHashAndIndex\" : \"eth_getTransactionByBlockNumberAndIndex\";\n    },\n        uncleCall = function (e) {\n      return r.isString(e[0]) && 0 === e[0].indexOf(\"0x\") ? \"eth_getUncleByBlockHashAndIndex\" : \"eth_getUncleByBlockNumberAndIndex\";\n    },\n        getBlockTransactionCountCall = function (e) {\n      return r.isString(e[0]) && 0 === e[0].indexOf(\"0x\") ? \"eth_getBlockTransactionCountByHash\" : \"eth_getBlockTransactionCountByNumber\";\n    },\n        uncleCountCall = function (e) {\n      return r.isString(e[0]) && 0 === e[0].indexOf(\"0x\") ? \"eth_getUncleCountByBlockHash\" : \"eth_getUncleCountByBlockNumber\";\n    },\n        Eth = function () {\n      var e = this;\n      o.packageInit(this, arguments);\n      var t = this.setRequestManager;\n\n      this.setRequestManager = function (n) {\n        return t(n), e.net.setRequestManager(n), e.personal.setRequestManager(n), e.accounts.setRequestManager(n), e.Contract._requestManager = e._requestManager, e.Contract.currentProvider = e._provider, !0;\n      };\n\n      var n = this.setProvider;\n\n      this.setProvider = function () {\n        n.apply(e, arguments), e.setRequestManager(e._requestManager), e.ens._detectedAddress = null, e.ens._lastSyncCheck = null;\n      };\n\n      var i,\n          k,\n          y,\n          v = !1,\n          x = null,\n          _ = \"latest\",\n          w = 50,\n          B = 24,\n          S = 750,\n          T = 100;\n      Object.defineProperty(this, \"handleRevert\", {\n        get: function () {\n          return v;\n        },\n        set: function (t) {\n          v = t, e.Contract.handleRevert = v, C.forEach(function (e) {\n            e.handleRevert = v;\n          });\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"defaultCommon\", {\n        get: function () {\n          return y;\n        },\n        set: function (t) {\n          y = t, e.Contract.defaultCommon = y, C.forEach(function (e) {\n            e.defaultCommon = y;\n          });\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"defaultHardfork\", {\n        get: function () {\n          return k;\n        },\n        set: function (t) {\n          k = t, e.Contract.defaultHardfork = k, C.forEach(function (e) {\n            e.defaultHardfork = k;\n          });\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"defaultChain\", {\n        get: function () {\n          return i;\n        },\n        set: function (t) {\n          i = t, e.Contract.defaultChain = i, C.forEach(function (e) {\n            e.defaultChain = i;\n          });\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"transactionPollingTimeout\", {\n        get: function () {\n          return S;\n        },\n        set: function (t) {\n          S = t, e.Contract.transactionPollingTimeout = S, C.forEach(function (e) {\n            e.transactionPollingTimeout = S;\n          });\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"transactionConfirmationBlocks\", {\n        get: function () {\n          return B;\n        },\n        set: function (t) {\n          B = t, e.Contract.transactionConfirmationBlocks = B, C.forEach(function (e) {\n            e.transactionConfirmationBlocks = B;\n          });\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"transactionBlockTimeout\", {\n        get: function () {\n          return w;\n        },\n        set: function (t) {\n          w = t, e.Contract.transactionBlockTimeout = w, C.forEach(function (e) {\n            e.transactionBlockTimeout = w;\n          });\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"defaultAccount\", {\n        get: function () {\n          return x;\n        },\n        set: function (t) {\n          return t && (x = c.toChecksumAddress(b.inputAddressFormatter(t))), e.Contract.defaultAccount = x, e.personal.defaultAccount = x, C.forEach(function (e) {\n            e.defaultAccount = x;\n          }), t;\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"defaultBlock\", {\n        get: function () {\n          return _;\n        },\n        set: function (t) {\n          return _ = t, e.Contract.defaultBlock = _, e.personal.defaultBlock = _, C.forEach(function (e) {\n            e.defaultBlock = _;\n          }), t;\n        },\n        enumerable: !0\n      }), Object.defineProperty(this, \"maxListenersWarningThreshold\", {\n        get: function () {\n          return T;\n        },\n        set: function (t) {\n          e.currentProvider && e.currentProvider.setMaxListeners && (T = t, e.currentProvider.setMaxListeners(t));\n        },\n        enumerable: !0\n      }), this.clearSubscriptions = e._requestManager.clearSubscriptions.bind(e._requestManager), this.net = new u(this), this.net.getNetworkType = m.bind(this), this.accounts = new d(this), this.personal = new h(this), this.personal.defaultAccount = this.defaultAccount, this.maxListenersWarningThreshold = T;\n\n      var A = this,\n          Contract = function () {\n        p.apply(this, arguments);\n        var e = this,\n            t = A.setProvider;\n\n        A.setProvider = function () {\n          t.apply(A, arguments), o.packageInit(e, [A]);\n        };\n      };\n\n      Contract.setProvider = function () {\n        p.setProvider.apply(this, arguments);\n      }, Contract.prototype = Object.create(p.prototype), Contract.prototype.constructor = Contract, this.Contract = Contract, this.Contract.defaultAccount = this.defaultAccount, this.Contract.defaultBlock = this.defaultBlock, this.Contract.transactionBlockTimeout = this.transactionBlockTimeout, this.Contract.transactionConfirmationBlocks = this.transactionConfirmationBlocks, this.Contract.transactionPollingTimeout = this.transactionPollingTimeout, this.Contract.handleRevert = this.handleRevert, this.Contract._requestManager = this._requestManager, this.Contract._ethAccounts = this.accounts, this.Contract.currentProvider = this._requestManager.provider, this.Iban = f, this.abi = g, this.ens = new l(this);\n      var C = [new s({\n        name: \"getNodeInfo\",\n        call: \"web3_clientVersion\"\n      }), new s({\n        name: \"getProtocolVersion\",\n        call: \"eth_protocolVersion\",\n        params: 0\n      }), new s({\n        name: \"getCoinbase\",\n        call: \"eth_coinbase\",\n        params: 0\n      }), new s({\n        name: \"isMining\",\n        call: \"eth_mining\",\n        params: 0\n      }), new s({\n        name: \"getHashrate\",\n        call: \"eth_hashrate\",\n        params: 0,\n        outputFormatter: c.hexToNumber\n      }), new s({\n        name: \"isSyncing\",\n        call: \"eth_syncing\",\n        params: 0,\n        outputFormatter: b.outputSyncingFormatter\n      }), new s({\n        name: \"getGasPrice\",\n        call: \"eth_gasPrice\",\n        params: 0,\n        outputFormatter: b.outputBigNumberFormatter\n      }), new s({\n        name: \"getAccounts\",\n        call: \"eth_accounts\",\n        params: 0,\n        outputFormatter: c.toChecksumAddress\n      }), new s({\n        name: \"getBlockNumber\",\n        call: \"eth_blockNumber\",\n        params: 0,\n        outputFormatter: c.hexToNumber\n      }), new s({\n        name: \"getBalance\",\n        call: \"eth_getBalance\",\n        params: 2,\n        inputFormatter: [b.inputAddressFormatter, b.inputDefaultBlockNumberFormatter],\n        outputFormatter: b.outputBigNumberFormatter\n      }), new s({\n        name: \"getStorageAt\",\n        call: \"eth_getStorageAt\",\n        params: 3,\n        inputFormatter: [b.inputAddressFormatter, c.numberToHex, b.inputDefaultBlockNumberFormatter]\n      }), new s({\n        name: \"getCode\",\n        call: \"eth_getCode\",\n        params: 2,\n        inputFormatter: [b.inputAddressFormatter, b.inputDefaultBlockNumberFormatter]\n      }), new s({\n        name: \"getBlock\",\n        call: blockCall,\n        params: 2,\n        inputFormatter: [b.inputBlockNumberFormatter, function (e) {\n          return !!e;\n        }],\n        outputFormatter: b.outputBlockFormatter\n      }), new s({\n        name: \"getUncle\",\n        call: uncleCall,\n        params: 2,\n        inputFormatter: [b.inputBlockNumberFormatter, c.numberToHex],\n        outputFormatter: b.outputBlockFormatter\n      }), new s({\n        name: \"getBlockTransactionCount\",\n        call: getBlockTransactionCountCall,\n        params: 1,\n        inputFormatter: [b.inputBlockNumberFormatter],\n        outputFormatter: c.hexToNumber\n      }), new s({\n        name: \"getBlockUncleCount\",\n        call: uncleCountCall,\n        params: 1,\n        inputFormatter: [b.inputBlockNumberFormatter],\n        outputFormatter: c.hexToNumber\n      }), new s({\n        name: \"getTransaction\",\n        call: \"eth_getTransactionByHash\",\n        params: 1,\n        inputFormatter: [null],\n        outputFormatter: b.outputTransactionFormatter\n      }), new s({\n        name: \"getTransactionFromBlock\",\n        call: transactionFromBlockCall,\n        params: 2,\n        inputFormatter: [b.inputBlockNumberFormatter, c.numberToHex],\n        outputFormatter: b.outputTransactionFormatter\n      }), new s({\n        name: \"getTransactionReceipt\",\n        call: \"eth_getTransactionReceipt\",\n        params: 1,\n        inputFormatter: [null],\n        outputFormatter: b.outputTransactionReceiptFormatter\n      }), new s({\n        name: \"getTransactionCount\",\n        call: \"eth_getTransactionCount\",\n        params: 2,\n        inputFormatter: [b.inputAddressFormatter, b.inputDefaultBlockNumberFormatter],\n        outputFormatter: c.hexToNumber\n      }), new s({\n        name: \"sendSignedTransaction\",\n        call: \"eth_sendRawTransaction\",\n        params: 1,\n        inputFormatter: [null],\n        abiCoder: g\n      }), new s({\n        name: \"signTransaction\",\n        call: \"eth_signTransaction\",\n        params: 1,\n        inputFormatter: [b.inputTransactionFormatter]\n      }), new s({\n        name: \"sendTransaction\",\n        call: \"eth_sendTransaction\",\n        params: 1,\n        inputFormatter: [b.inputTransactionFormatter],\n        abiCoder: g\n      }), new s({\n        name: \"sign\",\n        call: \"eth_sign\",\n        params: 2,\n        inputFormatter: [b.inputSignFormatter, b.inputAddressFormatter],\n        transformPayload: function (e) {\n          return e.params.reverse(), e;\n        }\n      }), new s({\n        name: \"call\",\n        call: \"eth_call\",\n        params: 2,\n        inputFormatter: [b.inputCallFormatter, b.inputDefaultBlockNumberFormatter],\n        abiCoder: g\n      }), new s({\n        name: \"estimateGas\",\n        call: \"eth_estimateGas\",\n        params: 1,\n        inputFormatter: [b.inputCallFormatter],\n        outputFormatter: c.hexToNumber\n      }), new s({\n        name: \"submitWork\",\n        call: \"eth_submitWork\",\n        params: 3\n      }), new s({\n        name: \"getWork\",\n        call: \"eth_getWork\",\n        params: 0\n      }), new s({\n        name: \"getPastLogs\",\n        call: \"eth_getLogs\",\n        params: 1,\n        inputFormatter: [b.inputLogFormatter],\n        outputFormatter: b.outputLogFormatter\n      }), new s({\n        name: \"getChainId\",\n        call: \"eth_chainId\",\n        params: 0,\n        outputFormatter: c.hexToNumber\n      }), new s({\n        name: \"requestAccounts\",\n        call: \"eth_requestAccounts\",\n        params: 0,\n        outputFormatter: c.toChecksumAddress\n      }), new s({\n        name: \"getProof\",\n        call: \"eth_getProof\",\n        params: 3,\n        inputFormatter: [b.inputAddressFormatter, b.inputStorageKeysFormatter, b.inputDefaultBlockNumberFormatter],\n        outputFormatter: b.outputProofFormatter\n      }), new s({\n        name: \"getPendingTransactions\",\n        call: \"eth_pendingTransactions\",\n        params: 0,\n        outputFormatter: b.outputTransactionFormatter\n      }), new a({\n        name: \"subscribe\",\n        type: \"eth\",\n        subscriptions: {\n          newBlockHeaders: {\n            subscriptionName: \"newHeads\",\n            params: 0,\n            outputFormatter: b.outputBlockFormatter\n          },\n          pendingTransactions: {\n            subscriptionName: \"newPendingTransactions\",\n            params: 0\n          },\n          logs: {\n            params: 1,\n            inputFormatter: [b.inputLogFormatter],\n            outputFormatter: b.outputLogFormatter,\n            subscriptionHandler: function (e) {\n              e.removed ? this.emit(\"changed\", e) : this.emit(\"data\", e), r.isFunction(this.callback) && this.callback(null, e, this);\n            }\n          },\n          syncing: {\n            params: 0,\n            outputFormatter: b.outputSyncingFormatter,\n            subscriptionHandler: function (e) {\n              var t = this;\n              !0 !== this._isSyncing ? (this._isSyncing = !0, this.emit(\"changed\", t._isSyncing), r.isFunction(this.callback) && this.callback(null, t._isSyncing, this), setTimeout(function () {\n                t.emit(\"data\", e), r.isFunction(t.callback) && t.callback(null, e, t);\n              }, 0)) : (this.emit(\"data\", e), r.isFunction(t.callback) && this.callback(null, e, this), clearTimeout(this._isSyncingTimeout), this._isSyncingTimeout = setTimeout(function () {\n                e.currentBlock > e.highestBlock - 200 && (t._isSyncing = !1, t.emit(\"changed\", t._isSyncing), r.isFunction(t.callback) && t.callback(null, t._isSyncing, t));\n              }, 500));\n            }\n          }\n        }\n      })];\n      C.forEach(function (t) {\n        t.attachToObject(e), t.setRequestManager(e._requestManager, e.accounts), t.defaultBlock = e.defaultBlock, t.defaultAccount = e.defaultAccount, t.transactionBlockTimeout = e.transactionBlockTimeout, t.transactionConfirmationBlocks = e.transactionConfirmationBlocks, t.transactionPollingTimeout = e.transactionPollingTimeout, t.handleRevert = e.handleRevert;\n      });\n    };\n\n    o.addProviders(Eth), e.exports = Eth;\n  }, function (e, t) {\n    e.exports = require(\"web3-core-subscriptions\");\n  }, function (e, t) {\n    e.exports = require(\"web3-eth-ens\");\n  }, function (e, t) {\n    e.exports = require(\"web3-eth-contract\");\n  }, function (e, t) {\n    e.exports = require(\"web3-eth-iban\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(20),\n        o = n(19),\n        i = n(31),\n        a = n(84),\n        s = n(85),\n        c = n(86),\n        u = n(87),\n        l = \"undefined\" == typeof global ? n(88) : n(24),\n        h = n(89),\n        p = n(90),\n        f = n(21),\n        d = n(30),\n        g = n(12).Transaction,\n        m = n(4).default,\n        isNot = function (e) {\n      return r.isUndefined(e) || r.isNull(e);\n    },\n        Accounts = function () {\n      var e = this;\n      o.packageInit(this, arguments), delete this.BatchRequest, delete this.extend;\n      var t = [new i({\n        name: \"getNetworkId\",\n        call: \"net_version\",\n        params: 0,\n        outputFormatter: parseInt\n      }), new i({\n        name: \"getChainId\",\n        call: \"eth_chainId\",\n        params: 0,\n        outputFormatter: f.hexToNumber\n      }), new i({\n        name: \"getGasPrice\",\n        call: \"eth_gasPrice\",\n        params: 0\n      }), new i({\n        name: \"getTransactionCount\",\n        call: \"eth_getTransactionCount\",\n        params: 2,\n        inputFormatter: [function (e) {\n          if (f.isAddress(e)) return e;\n          throw new Error(\"Address \" + e + ' is not a valid address to get the \"transactionCount\".');\n        }, function () {\n          return \"latest\";\n        }]\n      })];\n      this._ethereumCall = {}, r.each(t, function (t) {\n        t.attachToObject(e._ethereumCall), t.setRequestManager(e._requestManager);\n      }), this.wallet = new Wallet(this);\n    };\n\n    function Wallet(e) {\n      this._accounts = e, this.length = 0, this.defaultKeyName = \"web3js_wallet\";\n    }\n\n    Accounts.prototype._addAccountFunctions = function (e) {\n      var t = this;\n      return e.signTransaction = function (n, r) {\n        return t.signTransaction(n, e.privateKey, r);\n      }, e.sign = function (n) {\n        return t.sign(n, e.privateKey);\n      }, e.encrypt = function (n, r) {\n        return t.encrypt(e.privateKey, n, r);\n      }, e;\n    }, Accounts.prototype.create = function (e) {\n      return this._addAccountFunctions(a.create(e || f.randomHex(32)));\n    }, Accounts.prototype.privateKeyToAccount = function (e, t) {\n      if (e.startsWith(\"0x\") || (e = \"0x\" + e), !t && 66 !== e.length) throw new Error(\"Private key must be 32 bytes long\");\n      return this._addAccountFunctions(a.fromPrivate(e));\n    }, Accounts.prototype.signTransaction = function (e, t, n) {\n      var o = !1,\n          i = {},\n          a = !(!e || !(e.chain && e.hardfork || e.common));\n      if (n = n || function () {}, !e) return o = new Error(\"No transaction object given!\"), n(o), Promise.reject(o);\n\n      function signed(e) {\n        if (e.common && e.chain && e.hardfork && (o = new Error(\"Please provide the ethereumjs-common object or the chain and hardfork property but not all together.\")), (e.chain && !e.hardfork || e.hardfork && !e.chain) && (o = new Error('When specifying chain and hardfork, both values must be defined. Received \"chain\": ' + e.chain + ', \"hardfork\": ' + e.hardfork)), e.gas || e.gasLimit || (o = new Error('\"gas\" is missing')), (e.nonce < 0 || e.gas < 0 || e.gasPrice < 0 || e.chainId < 0) && (o = new Error(\"Gas, gasPrice, nonce or chainId is lower than 0\")), o) return n(o), Promise.reject(o);\n\n        try {\n          var s = d.formatters.inputCallFormatter(r.clone(e));\n          s.to = s.to || \"0x\", s.data = s.data || \"0x\", s.value = s.value || \"0x\", s.chainId = f.numberToHex(s.chainId), a ? (s.common && (i.common = m.forCustomChain(s.common.baseChain || \"mainnet\", {\n            name: s.common.customChain.name || \"custom-network\",\n            networkId: s.common.customChain.networkId,\n            chainId: s.common.customChain.chainId\n          }, s.common.hardfork || \"petersburg\"), delete s.common), s.chain && (i.chain = s.chain, delete s.chain), s.hardfork && (i.hardfork = s.hardfork, delete s.hardfork)) : (i.common = m.forCustomChain(\"mainnet\", {\n            name: \"custom-network\",\n            networkId: s.networkId,\n            chainId: s.chainId\n          }, \"petersburg\"), delete s.networkId), t.startsWith(\"0x\") && (t = t.substring(2));\n          var c = new g(s, i);\n          c.sign(Buffer.from(t, \"hex\"));\n          var u = c.validate(!0);\n          if (\"\" !== u) throw new Error(\"Signer Error: \" + u);\n          var l = \"0x\" + c.serialize().toString(\"hex\"),\n              h = f.keccak256(l),\n              p = {\n            messageHash: \"0x\" + Buffer.from(c.hash(!1)).toString(\"hex\"),\n            v: \"0x\" + Buffer.from(c.v).toString(\"hex\"),\n            r: \"0x\" + Buffer.from(c.r).toString(\"hex\"),\n            s: \"0x\" + Buffer.from(c.s).toString(\"hex\"),\n            rawTransaction: l,\n            transactionHash: h\n          };\n          return n(null, p), p;\n        } catch (e) {\n          return n(e), Promise.reject(e);\n        }\n      }\n\n      return void 0 !== e.nonce && void 0 !== e.chainId && void 0 !== e.gasPrice && a ? Promise.resolve(signed(e)) : Promise.all([isNot(e.chainId) ? this._ethereumCall.getChainId() : e.chainId, isNot(e.gasPrice) ? this._ethereumCall.getGasPrice() : e.gasPrice, isNot(e.nonce) ? this._ethereumCall.getTransactionCount(this.privateKeyToAccount(t).address) : e.nonce, isNot(a) ? this._ethereumCall.getNetworkId() : 1]).then(function (t) {\n        if (isNot(t[0]) || isNot(t[1]) || isNot(t[2]) || isNot(t[3])) throw new Error('One of the values \"chainId\", \"networkId\", \"gasPrice\", or \"nonce\" couldn\\'t be fetched: ' + JSON.stringify(t));\n        return signed(r.extend(e, {\n          chainId: t[0],\n          gasPrice: t[1],\n          nonce: t[2],\n          networkId: t[3]\n        }));\n      });\n    }, Accounts.prototype.recoverTransaction = function (e) {\n      var t = c.decode(e),\n          n = a.encodeSignature(t.slice(6, 9)),\n          r = u.toNumber(t[6]),\n          o = r < 35 ? [] : [u.fromNumber(r - 35 >> 1), \"0x\", \"0x\"],\n          i = t.slice(0, 6).concat(o),\n          l = c.encode(i);\n      return a.recover(s.keccak256(l), n);\n    }, Accounts.prototype.hashMessage = function (e) {\n      var t = f.isHexStrict(e) ? e : f.utf8ToHex(e),\n          n = f.hexToBytes(t),\n          r = Buffer.from(n),\n          o = \"\u0019Ethereum Signed Message:\\n\" + n.length,\n          i = Buffer.from(o),\n          a = Buffer.concat([i, r]);\n      return s.keccak256s(a);\n    }, Accounts.prototype.sign = function (e, t) {\n      if (t.startsWith(\"0x\") || (t = \"0x\" + t), 66 !== t.length) throw new Error(\"Private key must be 32 bytes long\");\n      var n = this.hashMessage(e),\n          r = a.sign(n, t),\n          o = a.decodeSignature(r);\n      return {\n        message: e,\n        messageHash: n,\n        v: o[0],\n        r: o[1],\n        s: o[2],\n        signature: r\n      };\n    }, Accounts.prototype.recover = function (e, t, n) {\n      var o = [].slice.apply(arguments);\n      return r.isObject(e) ? this.recover(e.messageHash, a.encodeSignature([e.v, e.r, e.s]), !0) : (n || (e = this.hashMessage(e)), o.length >= 4 ? (n = o.slice(-1)[0], n = !!r.isBoolean(n) && !!n, this.recover(e, a.encodeSignature(o.slice(1, 4)), n)) : a.recover(e, t));\n    }, Accounts.prototype.decrypt = function (e, t, n) {\n      if (!r.isString(t)) throw new Error(\"No password given.\");\n      var o,\n          i,\n          a = r.isObject(e) ? e : JSON.parse(n ? e.toLowerCase() : e);\n      if (3 !== a.version) throw new Error(\"Not a valid V3 wallet\");\n      if (\"scrypt\" === a.crypto.kdf) i = a.crypto.kdfparams, o = h.syncScrypt(Buffer.from(t), Buffer.from(i.salt, \"hex\"), i.n, i.r, i.p, i.dklen);else {\n        if (\"pbkdf2\" !== a.crypto.kdf) throw new Error(\"Unsupported key derivation scheme\");\n        if (\"hmac-sha256\" !== (i = a.crypto.kdfparams).prf) throw new Error(\"Unsupported parameters to PBKDF2\");\n        o = l.pbkdf2Sync(Buffer.from(t), Buffer.from(i.salt, \"hex\"), i.c, i.dklen, \"sha256\");\n      }\n      var s = Buffer.from(a.crypto.ciphertext, \"hex\");\n      if (f.sha3(Buffer.from([...o.slice(16, 32), ...s])).replace(\"0x\", \"\") !== a.crypto.mac) throw new Error(\"Key derivation failed - possibly wrong password\");\n      var c = l.createDecipheriv(a.crypto.cipher, o.slice(0, 16), Buffer.from(a.crypto.cipherparams.iv, \"hex\")),\n          u = \"0x\" + Buffer.from([...c.update(s), ...c.final()]).toString(\"hex\");\n      return this.privateKeyToAccount(u, !0);\n    }, Accounts.prototype.encrypt = function (e, t, n) {\n      var r,\n          o = this.privateKeyToAccount(e, !0),\n          i = (n = n || {}).salt || l.randomBytes(32),\n          a = n.iv || l.randomBytes(16),\n          s = n.kdf || \"scrypt\",\n          c = {\n        dklen: n.dklen || 32,\n        salt: i.toString(\"hex\")\n      };\n      if (\"pbkdf2\" === s) c.c = n.c || 262144, c.prf = \"hmac-sha256\", r = l.pbkdf2Sync(Buffer.from(t), Buffer.from(c.salt, \"hex\"), c.c, c.dklen, \"sha256\");else {\n        if (\"scrypt\" !== s) throw new Error(\"Unsupported kdf\");\n        c.n = n.n || 8192, c.r = n.r || 8, c.p = n.p || 1, r = h.syncScrypt(Buffer.from(t), Buffer.from(c.salt, \"hex\"), c.n, c.r, c.p, c.dklen);\n      }\n      var u = l.createCipheriv(n.cipher || \"aes-128-ctr\", r.slice(0, 16), a);\n      if (!u) throw new Error(\"Unsupported cipher\");\n      var d = Buffer.from([...u.update(Buffer.from(o.privateKey.replace(\"0x\", \"\"), \"hex\")), ...u.final()]),\n          g = f.sha3(Buffer.from([...r.slice(16, 32), ...d])).replace(\"0x\", \"\");\n      return {\n        version: 3,\n        id: p.v4({\n          random: n.uuid || l.randomBytes(16)\n        }),\n        address: o.address.toLowerCase().replace(\"0x\", \"\"),\n        crypto: {\n          ciphertext: d.toString(\"hex\"),\n          cipherparams: {\n            iv: a.toString(\"hex\")\n          },\n          cipher: n.cipher || \"aes-128-ctr\",\n          kdf: s,\n          kdfparams: c,\n          mac: g.toString(\"hex\")\n        }\n      };\n    }, Wallet.prototype._findSafeIndex = function (e) {\n      return e = e || 0, r.has(this, e) ? this._findSafeIndex(e + 1) : e;\n    }, Wallet.prototype._currentIndexes = function () {\n      return Object.keys(this).map(function (e) {\n        return parseInt(e);\n      }).filter(function (e) {\n        return e < 9e20;\n      });\n    }, Wallet.prototype.create = function (e, t) {\n      for (var n = 0; n < e; ++n) this.add(this._accounts.create(t).privateKey);\n\n      return this;\n    }, Wallet.prototype.add = function (e) {\n      return r.isString(e) && (e = this._accounts.privateKeyToAccount(e)), this[e.address] ? this[e.address] : ((e = this._accounts.privateKeyToAccount(e.privateKey)).index = this._findSafeIndex(), this[e.index] = e, this[e.address] = e, this[e.address.toLowerCase()] = e, this.length++, e);\n    }, Wallet.prototype.remove = function (e) {\n      var t = this[e];\n      return !(!t || !t.address) && (this[t.address].privateKey = null, delete this[t.address], this[t.address.toLowerCase()].privateKey = null, delete this[t.address.toLowerCase()], this[t.index].privateKey = null, delete this[t.index], this.length--, !0);\n    }, Wallet.prototype.clear = function () {\n      var e = this;\n      return this._currentIndexes().forEach(function (t) {\n        e.remove(t);\n      }), this;\n    }, Wallet.prototype.encrypt = function (e, t) {\n      var n = this;\n      return this._currentIndexes().map(function (r) {\n        return n[r].encrypt(e, t);\n      });\n    }, Wallet.prototype.decrypt = function (e, t) {\n      var n = this;\n      return e.forEach(function (e) {\n        var r = n._accounts.decrypt(e, t);\n\n        if (!r) throw new Error(\"Couldn't decrypt accounts. Password wrong?\");\n        n.add(r);\n      }), this;\n    }, Wallet.prototype.save = function (e, t) {\n      return localStorage.setItem(t || this.defaultKeyName, JSON.stringify(this.encrypt(e))), !0;\n    }, Wallet.prototype.load = function (e, t) {\n      var n = localStorage.getItem(t || this.defaultKeyName);\n      if (n) try {\n        n = JSON.parse(n);\n      } catch (e) {}\n      return this.decrypt(n || [], e);\n    }, function (e) {\n      var t;\n\n      try {\n        t = window[e];\n        var n = \"__storage_test__\";\n        return t.setItem(n, n), t.removeItem(n), !0;\n      } catch (e) {\n        return e && (22 === e.code || 1014 === e.code || \"QuotaExceededError\" === e.name || \"NS_ERROR_DOM_QUOTA_REACHED\" === e.name) && t && 0 !== t.length;\n      }\n    }(\"localStorage\") || (delete Wallet.prototype.save, delete Wallet.prototype.load), e.exports = Accounts;\n  }, function (e, t) {\n    e.exports = require(\"eth-lib/lib/account\");\n  }, function (e, t) {\n    e.exports = require(\"eth-lib/lib/hash\");\n  }, function (e, t) {\n    e.exports = require(\"eth-lib/lib/rlp\");\n  }, function (e, t) {\n    e.exports = require(\"eth-lib/lib/bytes\");\n  }, function (e, t) {\n    e.exports = require(\"crypto-browserify\");\n  }, function (e, t) {\n    e.exports = require(\"scrypt-js\");\n  }, function (e, t) {\n    e.exports = require(\"uuid\");\n  }, function (e, t) {\n    e.exports = require(\"web3-eth-abi\");\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = n(20);\n\n    e.exports = function (e) {\n      var t,\n          n = this;\n      return this.net.getId().then(function (e) {\n        return t = e, n.getBlock(0);\n      }).then(function (n) {\n        var o = \"private\";\n        return \"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\" === n.hash && 1 === t && (o = \"main\"), \"0cd786a2425d16f152c658316c423e6ce1181e15c3295826d7c9904cba9ce303\" === n.hash && 2 === t && (o = \"morden\"), \"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d\" === n.hash && 3 === t && (o = \"ropsten\"), \"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177\" === n.hash && 4 === t && (o = \"rinkeby\"), \"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a\" === n.hash && 5 === t && (o = \"goerli\"), \"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9\" === n.hash && 42 === t && (o = \"kovan\"), r.isFunction(e) && e(null, o), o;\n      }).catch(function (t) {\n        if (!r.isFunction(e)) throw t;\n        e(t);\n      });\n    };\n  }, function (e, t) {\n    e.exports = require(\"web3-shh\");\n  }, function (e, t) {\n    e.exports = require(\"web3-bzz\");\n  }, function (e, t) {\n    e.exports = require(\"lru-cache\");\n  }, function (e, t) {\n    e.exports = require(\"eth-sig-util\");\n  }, function (e, t) {\n    e.exports = require(\"rlp\");\n  }, function (e, t) {\n    e.exports = {\n      randomBytes: function (e, t) {\n        for (var n = [], r = 0; r < e; r++) n.push(255 * t());\n\n        return Buffer.from(n);\n      },\n      randomAlphaNumericString: function (e, t) {\n        const n = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n        let r = \"\";\n\n        for (var o = 0; o < e; o++) r += n.charAt(Math.floor((t || Math.random)() * n.length));\n\n        return r;\n      }\n    };\n  }, function (e) {\n    e.exports = JSON.parse('{\"name\":\"ganache-core\",\"version\":\"2.13.2\",\"main\":\"./index.js\",\"types\":\"./typings/index.d.ts\",\"engines\":{\"node\":\">=8.9.0\"},\"directories\":{\"lib\":\"./lib\"},\"scripts\":{\"_mocha\":\"mocha --check-leaks --recursive\",\"nyc_mocha\":\"nyc npm run _mocha\",\"_lint\":\"eslint --ignore-path .gitignore .\",\"build\":\"webpack-cli --config ./webpack/node/core.webpack.config.js\",\"build-web\":\"webpack-cli --config ./webpack/web-experimental/core.webpack.config.js\",\"format\":\"prettier --write \\\\\"{lib,perf,test}/**/*.js\\\\\" && eslint --fix --ignore-path .gitignore .\",\"prepare\":\"patch-package --exclude \\'nothing\\'\",\"prepublishOnly\":\"npm run test && npm run build && npm run test-build && npm prune --production && mv npm-shrinkwrap.json npm-shrinkwrap.json.bak && npm shrinkwrap\",\"postpublish\":\"rm npm-shrinkwrap.json && mv npm-shrinkwrap.json.bak npm-shrinkwrap.json && npm ci\",\"test\":\"npm run _lint && npm run nyc_mocha ./test/local\",\"test-smoke\":\"npm run _mocha ./test/smoke\",\"test-build\":\"cross-env TEST_BUILD=node npm run _mocha\",\"test-web-experimental\":\"cross-env TEST_BUILD=web-experimental npm run _mocha\",\"coverage\":\"nyc report --reporter=text-lcov | coveralls\"},\"bundleDependencies\":[\"keccak\"],\"dependencies\":{\"abstract-leveldown\":\"3.0.0\",\"async\":\"2.6.2\",\"bip39\":\"2.5.0\",\"cachedown\":\"1.0.0\",\"clone\":\"2.1.2\",\"debug\":\"3.2.6\",\"encoding-down\":\"5.0.4\",\"eth-sig-util\":\"3.0.0\",\"ethereumjs-abi\":\"0.6.8\",\"ethereumjs-account\":\"3.0.0\",\"ethereumjs-block\":\"2.2.2\",\"ethereumjs-common\":\"1.5.0\",\"ethereumjs-tx\":\"2.1.2\",\"ethereumjs-util\":\"6.2.1\",\"ethereumjs-vm\":\"4.2.0\",\"ethereumjs-wallet\":\"0.6.5\",\"heap\":\"0.2.6\",\"keccak\":\"3.0.1\",\"level-sublevel\":\"6.6.4\",\"levelup\":\"3.1.1\",\"lodash\":\"4.17.20\",\"lru-cache\":\"5.1.1\",\"merkle-patricia-tree\":\"3.0.0\",\"patch-package\":\"6.2.2\",\"seedrandom\":\"3.0.1\",\"source-map-support\":\"0.5.12\",\"tmp\":\"0.1.0\",\"web3\":\"1.2.11\",\"web3-provider-engine\":\"14.2.1\",\"websocket\":\"1.0.32\"},\"devDependencies\":{\"@types/web3\":\"^1.0.19\",\"assert-match\":\"^1.1.1\",\"browserfs\":\"1.4.3\",\"coveralls\":\"^3.0.9\",\"cross-env\":\"6.0.3\",\"eslint\":\"6.8.0\",\"eslint-config-standard\":\"14.1.0\",\"eslint-plugin-import\":\"2.20.0\",\"eslint-plugin-node\":\"11.0.0\",\"eslint-plugin-promise\":\"4.2.1\",\"eslint-plugin-standard\":\"4.0.1\",\"ethereumjs-wallet\":\"0.6.5\",\"ethers\":\"4.0.48\",\"husky\":\"4.0.10\",\"js-scrypt\":\"0.2.0\",\"lint-staged\":\"10.0.0\",\"memdown\":\"5.1.0\",\"mocha\":\"7.2.0\",\"mocha-lcov-reporter\":\"^1.3.0\",\"number-to-bn\":\"1.7.0\",\"nyc\":\"^15.1.0\",\"pify\":\"4.0.1\",\"portfinder\":\"^1.0.25\",\"prettier\":\"^1.19.1\",\"request\":\"^2.88.0\",\"semver\":\"7.1.1\",\"solc\":\"0.6.1\",\"temp\":\"0.9.1\",\"terser-webpack-plugin\":\"2.3.8\",\"web3\":\"1.2.11\",\"webpack\":\"4.41.5\",\"webpack-bundle-size-analyzer\":\"3.1.0\",\"webpack-cli\":\"3.3.10\"},\"optionalDependencies\":{\"ethereumjs-wallet\":\"0.6.5\",\"web3\":\"1.2.11\"},\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/trufflesuite/ganache-core\"},\"license\":\"MIT\",\"husky\":{\"hooks\":{\"pre-commit\":\"lint-staged\"}},\"lint-staged\":{\"*.js\":[\"prettier --write\",\"eslint --fix --ignore-path .gitignore\",\"git add\"]},\"eslintConfig\":{\"root\":true,\"env\":{\"node\":true,\"es6\":true},\"parserOptions\":{\"ecmaVersion\":8,\"sourceType\":\"module\",\"ecmaFeatures\":{\"impliedStrict\":true}},\"extends\":\"standard\",\"rules\":{\"brace-style\":[\"error\",\"1tbs\",{\"allowSingleLine\":false}],\"curly\":[\"error\",\"all\"],\"max-len\":[\"error\",120,{\"ignoreRegExpLiterals\":true}],\"quotes\":[\"error\",\"double\"],\"semi\":[\"error\",\"always\"],\"space-before-function-paren\":[\"error\",\"never\"],\"wrap-iife\":[\"error\",\"outside\"]}},\"prettier\":{\"printWidth\":120,\"arrowParens\":\"always\"}}');\n  }, function (e, t, n) {\n    const r = n(17);\n    var o = n(35);\n\n    function GanacheBlockTracker(e) {\n      if (e = e || {}, r.apply(this), !e.blockchain) throw new Error(\"RpcBlockTracker - no blockchain specified.\");\n      if (!e.blockchain.on) throw new Error(\"RpcBlockTracker - blockchain is not an EventEmitter.\");\n      this._blockchain = e.blockchain, this.start = this.start.bind(this), this.stop = this.stop.bind(this), this.getTrackingBlock = this.getTrackingBlock.bind(this), this.awaitCurrentBlock = this.awaitCurrentBlock.bind(this), this._setCurrentBlock = this._setCurrentBlock.bind(this);\n    }\n\n    GanacheBlockTracker.prototype = Object.create(r.prototype), GanacheBlockTracker.prototype.constructor = GanacheBlockTracker, GanacheBlockTracker.prototype.getTrackingBlock = function () {\n      return this._currentBlock;\n    }, GanacheBlockTracker.prototype.getCurrentBlock = function () {\n      return this._currentBlock;\n    }, GanacheBlockTracker.prototype.awaitCurrentBlock = function () {\n      const e = this;\n      return this._currentBlock ? this._currentBlock : new Promise(e => this.once(\"block\", e)).then(() => e._currentBlock);\n    }, GanacheBlockTracker.prototype.start = function () {\n      let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this._blockchain.on(\"block\", this._setCurrentBlock), Promise.resolve();\n    }, GanacheBlockTracker.prototype.stop = function () {\n      this._isRunning = !1, this._blockchain.removeListener(\"block\", this._setCurrentBlock);\n    }, GanacheBlockTracker.prototype._setCurrentBlock = function (e) {\n      const t = o.toJSON(e, !0);\n      if (this._currentBlock && this._currentBlock.hash === t.hash) return;\n      const n = this._currentBlock;\n      this._currentBlock = t, this.emit(\"latest\", t), this.emit(\"sync\", {\n        block: t,\n        oldBlock: n\n      }), this.emit(\"block\", t);\n    }, e.exports = GanacheBlockTracker;\n  }, function (e, t, n) {\n    n(9);\n    var r = n(22),\n        o = n(102),\n        i = n(104),\n        a = n(8);\n    e.exports = {\n      create: function (e) {\n        var t = (e = _applyDefaultOptions(e || {})).logger,\n            n = new r(e),\n            a = i(n, t);\n\n        a.keepAliveTimeout = e.keepAliveTimeout;\n        let s = 0;\n        const c = {};\n        a.on(\"connection\", e => {\n          const t = s++;\n          c[t] = e, e.on(\"close\", () => delete c[t]);\n        });\n        var u = a.listen;\n        a.listen = function () {\n          var e = Array.prototype.slice.call(arguments),\n              callback = function () {};\n\n          if (e.length > 0) {\n            var t = e[e.length - 1];\n            \"function\" == typeof t && (callback = e.pop());\n          }\n\n          var intermediary = function (e) {\n            if (e) return callback(e);\n            a.provider.manager.waitForInitialization(callback);\n          };\n\n          e.push(intermediary), u.apply(a, e);\n        }, a.provider = n, e.ws && o(a, n, t);\n        var l = a.close;\n        return a.close = function (e) {\n          var t = Array.prototype.slice.call(arguments);\n          l.apply(a, t), a.provider.close(function (t) {\n            if (t) return e(t);\n            Object.keys(c).forEach(e => {\n              try {\n                c[e].destroy();\n              } catch (e) {}\n            });\n          });\n        }, a;\n      }\n    };\n    const s = {\n      logger: {\n        log: function () {}\n      },\n      ws: !0,\n      keepAliveTimeout: 5e3\n    };\n\n    var _applyDefaultOptions = function (e) {\n      return a.merge({}, s, e);\n    };\n  }, function (e, t, n) {\n    var r = n(103),\n        o = r.server;\n\n    function ConnectionManager(e, t) {\n      const n = this;\n      n.provider = e, n.logger = t, n.connectionsBySubscriptionId = {}, n.connections = {}, n.connectionCounter = 0, n._updateSubscriptions = n._updateSubscriptions.bind(n), n.manageConnection = n.manageConnection.bind(n), n._logPayload = n._logPayload.bind(n), n._handleRequest = n._handleRequest.bind(n), e.on(\"data\", function (e, t) {\n        e || n._updateSubscriptions(t);\n      });\n    }\n\n    e.exports = function (e, t, n) {\n      var r = new ConnectionManager(t, n),\n          i = new o({\n        httpServer: e,\n        autoAcceptConnections: !0\n      });\n      return i.on(\"connect\", r.manageConnection), i;\n    }, ConnectionManager.prototype.manageConnection = function (e) {\n      const t = this;\n      e.id = ++t.connectionCounter, t.connections[e.id] = {\n        connection: e,\n        subscriptions: {}\n      }, e.on(\"message\", function (n) {\n        let o;\n\n        try {\n          if (\"utf8\" === n.type) o = JSON.parse(n.utf8Data);else {\n            if (\"binary\" !== n.type) throw new Error(\"Invalid message type\");\n            o = JSON.parse(n.binaryData.toString(\"utf8\").trim());\n          }\n        } catch (t) {\n          return void e.close(r.connection.CLOSE_REASON_UNPROCESSABLE_INPUT, t.message);\n        }\n\n        t._logPayload(o), t._handleRequest(e, o);\n      }), e.on(\"close\", function () {\n        Object.keys(t.connections[e.id].subscriptions).forEach(e => {\n          t.provider.send({\n            jsonrpc: \"2.0\",\n            method: \"eth_unsubscribe\",\n            params: [e],\n            id: new Date().getTime()\n          }, function (n, r) {\n            n || delete t.connectionsBySubscriptionId[e];\n          });\n        }), delete t.connections[e.id];\n      });\n    }, ConnectionManager.prototype._handleRequest = function (e, t) {\n      const n = this;\n\n      switch (t.method) {\n        case \"eth_subscribe\":\n          n.provider.send(t, function (t, r) {\n            !t && r.result && n.connections[e.id] && (n.connections[e.id].subscriptions[r.result] = !0, n.connectionsBySubscriptionId[r.result] = n.connections[e.id]), e.send(JSON.stringify(r));\n          });\n          break;\n\n        case \"eth_unsubscribe\":\n          n.provider.send(t, function (r, o) {\n            r || o.error ? e && e.send && e.send(JSON.stringify(o)) : (n.connections[e.id] && delete n.connections[e.id].subscriptions[t.params[0]], delete n.connectionsBySubscriptionId[t.params[0]], e.send(JSON.stringify(o)));\n          });\n          break;\n\n        default:\n          n.provider.send(t, function (t, n) {\n            e.send(JSON.stringify(n));\n          });\n      }\n    }, ConnectionManager.prototype._logPayload = function (e) {\n      const t = this;\n      if (e instanceof Array) for (var n = 0; n < e.length; n++) {\n        var r = e[n];\n        t.logger.log(r.method);\n      } else t.logger.log(e.method);\n    }, ConnectionManager.prototype._updateSubscriptions = function (e) {\n      const t = this.connectionsBySubscriptionId[e.params.subscription];\n      t && t.connection.send(JSON.stringify(e));\n    };\n  }, function (e, t) {\n    e.exports = require(\"websocket\");\n  }, function (e, t, n) {\n    const r = n(105),\n          {\n      rpcError: o\n    } = n(0),\n          i = Object.prototype.hasOwnProperty;\n\n    function sendResponse(e, t, n, r) {\n      e.writeHead(t, n), e.end(r);\n    }\n\n    e.exports = function (e, t) {\n      var n = r.createServer(function (n, r) {\n        var a = n.method,\n            s = [];\n        n.on(\"data\", function (e) {\n          s.push(e);\n        }).on(\"end\", function () {\n          s = Buffer.concat(s).toString();\n\n          const c = function (e, t) {\n            const n = {};\n            return i.call(t, \"origin\") && (\"OPTIONS\" === e && (n[\"Access-Control-Allow-Methods\"] = \"POST\", i.call(t, \"access-control-request-headers\") && (n[\"Access-Control-Allow-Headers\"] = t[\"access-control-request-headers\"]), n[\"Content-Length\"] = 0, n[\"Access-Control-Max-Age\"] = 600), n[\"Access-Control-Allow-Credentials\"] = !0, n[\"Access-Control-Allow-Origin\"] = t.origin), n;\n          }(a, n.headers);\n\n          switch (a) {\n            case \"POST\":\n              var u;\n\n              try {\n                u = JSON.parse(s);\n              } catch (e) {\n                return c[\"Content-Type\"] = \"text/plain\", void sendResponse(r, 400, c, \"400 Bad Request\");\n              }\n\n              if (u instanceof Array) for (var l = 0; l < u.length; l++) {\n                var h = u[l];\n                t.log(h.method);\n              } else t.log(u.method);\n\n              if (\"eth_subscribe\" === u.method || \"eth_unsubscribe\" === u.method) {\n                c[\"Content-Type\"] = \"application/json\", sendResponse(r, 400, c, o(u.id, -32e3, \"notifications not supported\"));\n                break;\n              }\n\n              e.send(u, function (e, t) {\n                c[\"Content-Type\"] = \"application/json\", sendResponse(r, 200, c, JSON.stringify(t));\n              });\n              break;\n\n            case \"OPTIONS\":\n              sendResponse(r, 204, c);\n              break;\n\n            default:\n              c[\"Content-Type\"] = \"text/plain\", sendResponse(r, 400, c, \"400 Bad Request\");\n          }\n        });\n      });\n      return n.ganacheProvider = e, n;\n    };\n  }, function (e, t) {\n    e.exports = require(\"http\");\n  }]);\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","define","amd","Ganache","global","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","utils","buffer","val","data","indexOf","slice","length","Buffer","from","isBuffer","hex","trim","BN","intToHex","toString","addHexPrefix","_rpcQuantityHexString","this","replace","rpcQuantityHexString","rpcQuantityBuffer","rlp","encode","rpcDataHexString","Array","fill","join","nullableRpcDataHexString","rpcDataHex","nullableRpcQuantityHexString","rpcQuantityHex","hexWithZeroPadding","digits","number","parseInt","bufVal","toBuffer","bufferToInt","rpcError","id","code","msg","JSON","stringify","jsonrpc","error","message","require","inherits","to","abi","RuntimeError","transactions","vmOutput","Error","captureStackTrace","constructor","results","hashes","combine","err","keys","push","apply","tx","result","execResult","exceptionError","reason","hash","returnData","returnValue","rawDecode","_","runState","program_counter","programCounter","return","exceptionResult","count","fromResults","EthereumJsTransaction","Transaction","EthereumJsFakeTransaction","FakeTransaction","Common","ethUtil","assert","sign","fakeHash","_hash","arguments","BUFFER_ZERO","fixProps","_originals","forEach","fieldName","fieldLength","index","_fields","descriptor","getOwnPropertyDescriptor","set","v","configZeroableField","isFake","configurable","getSenderAddress","_from","common","type","types","none","chainId","forCustomChain","networkId","comment","bootstrapNodes","super","undefined","ganacheTxCommon","decode","self","isArray","field","startsWith","gas","input","_chainId","raw","initData","signed","fake","json","hardfork","toAccount","buf","equals","setLengthLeft","options","nonce","gasLimit","gasPrice","Math","floor","_type","_options","isSigned","validateNonce","expectedNonce","toJsonRpc","block","transactionIndex","txns","blockHash","blockNumber","header","Log","toJSON","logIndex","transactionHash","address","topics","removed","Receipt","logs","gasUsed","cumulativeGasUsed","contractAddress","status","logsBloom","txHash","map","log","LevelUpOutOfRangeError","len","BlockOutOfRangeError","version","core","Eth","Net","Personal","Shh","Bzz","Web3","_this","packageInit","eth","shh","bzz","setProvider","provider","net","setRequestManager","_requestManager","addProviders","ProviderEngine","SubscriptionSubprovider","RequestFunnel","DelayedBlockFilter","GethDefaults","GethApiDouble","BlockTracker","EventEmitter","Provider","_applyDefaultOptions","gethApiDouble","engine","blockTracker","blockchain","state","subscriptionSubprovider","manager","addProvider","setMaxListeners","start","sendAsync","send","close","_queueRequest","_processRequestQueue","on","notification","emit","defaultOptions","_chainIdRpc","vmErrorsOnRPCResponse","verbose","asyncRequestProcessing","logger","merge","payload","callback","externalize","cloneDeep","intermediary","response","reportErrorInResponse","split","process","nextTick","stopMining","stop","_requestQueue","setImmediate","_requestInProgress","args","shift","cleanUpErrorObject","errorObject","stack","transactionMethods","Set","_isTransactionRequest","request","has","method","_typeof","iterator","obj","crypto","randomBytes","scryptsy","uuidv4","bs58check","runCipherBuffer","cipher","concat","update","final","Wallet","priv","pub","isValidPrivate","isValidPublic","_privKey","_pubKey","privateToPublic","privKey","generate","icapDirect","max","privateToAddress","lte","generateVanityAddress","pattern","RegExp","test","getPrivateKey","getPrivateKeyString","bufferToHex","getPublicKey","pubKey","getPublicKeyString","getAddress","publicToAddress","getAddressString","getChecksumAddressString","toChecksumAddress","toV3","password","opts","derivedKey","salt","iv","kdf","kdfparams","dklen","prf","pbkdf2Sync","createCipheriv","ciphertext","mac","keccak256","random","uuid","cipherparams","getV3Filename","timestamp","Date","toV3String","fromPublicKey","nonStrict","importPublic","fromExtendedPublicKey","fromPrivateKey","fromExtendedPrivateKey","tmp","fromV1","parse","Version","Crypto","KeyHeader","Kdf","KdfParams","Salt","N","R","P","DkLen","CipherText","MAC","seed","createDecipheriv","IV","fromV3","toLowerCase","fromEthSale","encseed","wallet","ethaddr","Account","Block","VM","Trie","async","Heap","Database","estimateGas","promisify","BlockchainDouble","console","trie","db_path","pending_transactions","blockGasLimit","defaultTransactionGasLimit","timeAdjustment","time","debug","allowUnlimitedContractSize","assign","initialize","accounts","latestBlock","stateRoot","stateTrie","createStateTrie","trie_db","vm","createVMFromStateTrie","setTime","createGenesisBlock","stateManager","checkpoint","eachSeries","accountData","finished","putAccount","account","commit","putBlock","activatePrecompiles","network_id","forkVersion","getBlock","done","e","info","opcode","argsNum","in","arg","db","createBlock","blocks","last","getEffectiveBlockNumber","getHeight","blockHashes","blockIndex","first","receipts","requests","blockLogs","transactionReceipts","parallel","popBlock","del","pop","series","newLastBlock","setStateRoot","clearPendingTransactions","parent","emulateParent","getParent","parentHash","parentNumber","currentTime","getQueuedNonce","addressBuffer","pendingNonce","gt","iaddn","toArrayLike","queueTransaction","sortByPriceAndNonce","sortedByNonce","arr","nonceSort","a","b","sort","heap","sortedTransactions","size","best","getReadyCall","readyCall","parentBlock","newBlock","runArgs","skipBalance","skipNonce","persist","processCall","runTx","catch","vmerr","processBlock","runBlock","skipBlockValidation","totalBlockGasUsage","txTrie","rcptTrie","promises","putInTrie","put","receipt","txLogs","receiptLog","j","rcpt","createdAddress","bitvector","rawReceipt","rcptBuffer","serialize","Promise","all","transactionsTrie","receiptTrie","processNextBlock","currentTransactions","totalGasLimit","maxGasLimit","processTransactionTrace","params","targetHash","txHashCurrentlyProcessing","txCurrentlyProcessing","storageStack","currentDepth","returnVal","structLogs","stepListener","event","next","gasLeft","gasUsedPreviousStep","memory","disableMemory","match","lastItem","disableStack","item","structLog","depth","gasCost","op","pc","storage","disableStorage","processStorageTrace","getTransactionReceipt","targetBlock","forkBlockNumber","beforeTxListener","afterTxListener","removeListeners","removeListener","_cache","flush","cb","stackLength","getContractStorage","getAccount","currentStateRoot","getNonce","getBalance","balance","getStorage","position","getCode","getTransaction","notFound","pendingTxs","getBlockLogs","effective","getTime","increaseTime","seconds","date","now","sigV","commonOptions","fromJSON","TXRejectedError","includeFullTransactions","mixHash","sha3Uncles","uncleHash","bloom","transactionsRoot","receiptsRoot","miner","coinbase","difficulty","totalDifficulty","extraData","uncles","Server","server","_webpacked","Subprovider","methods","eth_call","eth_getStorageAt","eth_sendTransaction","eth_sendRawTransaction","eth_newBlockFilter","eth_getFilterChanges","eth_getFilterLogs","queue","isWorking","handleRequest","end","external","processNext","watching","handleNewBlockFilter","handleGetFilterChanges","filterId","currentBlockHash","previousBlockHash","emitPayload","res","StateManager","blockHelper","pkg","maxSafeInt","Number","MAX_SAFE_INTEGER","vrs","initialized","initialization_error","post_initialization_callbacks","callbacks","waitForInitialization","addedBlockParam","requiresDefaultBlockParameter","minLength","errorMessage","getDelayedHandler","eth_getBalance","eth_getCode","eth_getTransactionCount","eth_estimateGas","eth_accounts","eth_blockNumber","eth_chainId","eth_coinbase","eth_mining","is_mining","eth_hashrate","eth_gasPrice","eth_getBlockByNumber","eth_getBlockByHash","eth_getBlockTransactionCountByNumber","eth_getBlockTransactionCountByHash","eth_getTransactionReceipt","element","eth_getTransactionByHash","eth_getTransactionByBlockHashAndIndex","hashOrNumber","eth_getTransactionByBlockNumberAndIndex","getTransactionCount","eth_sign","dataToSign","eth_signTypedData","typedDataToSign","signTypedData","txData","rawTx","queueRawTransaction","_setCallGasLimit","globalCallGasLimit","callGasLimit","queueStorage","latestFilterId","mine","eth_getLogs","filter","getLogs","eth_uninstallFilter","eth_protocolVersion","bzz_hive","bzz_info","shh_version","eth_getCompilers","eth_syncing","net_listening","net_peerCount","web3_clientVersion","web3_sha3","string","net_version","miner_start","threads","startMining","miner_stop","rpc_modules","rpc","web3","evm","personal","personal_listAccounts","personal_accounts","personal_newAccount","createAccount","account_passwords","personal_importRawKey","rawKey","secretKey","personal_lockAccount","unlocked_accounts","personal_unlockAccount","duration","storedPassword","personal_sendTransaction","ret","evm_snapshot","snapshot","evm_revert","snapshotId","revert","evm_increaseTime","evm_setTime","evm_mine","evm_unlockUnknownAccount","evm_lockUnknownAccount","debug_traceTransaction","queueTransactionTrace","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","uncleIndex","eth_getWork","eth_submitWork","powHash","digest","eth_submitHashrate","hashRate","clientID","db_putString","dbName","db_getString","db_putHex","db_getHex","shh_post","priority","ttl","shh_newIdentity","shh_hasIdentity","shh_newGroup","shh_addToGroup","shh_newFilter","shh_uninstallFilter","shh_getFilterChanges","shh_getMessages","seedrandom","bip39","hdkey","ForkedBlockchain","fs","sigUtil","ZERO_BUFFER","fork","secure","total_accounts","latest_filter_id","action_queue","action_processing","snapshots","mnemonic","fromMasterSeed","mnemonicToSeed","wallet_hdpath","hd_path","hdPath","gasPriceVal","blockTime","is_mining_on_interval","mining_interval_timeout","_provider","forkCacheSize","default_balance_ether","randomAlphaNumericString","entropyToMnemonic","defaultBalanceWei","toWei","reduce","idx","account_keys_path","fileData","addresses","private_keys","writeFileSync","mineOnInterval","_minerCancellationToken","clearTimeout","cancelled","cancellationToken","timeout","setTimeout","unref","derivePath","getWallet","publicKey","_queueTransaction","processNextAction","txJsonRpc","isKnownAccount","_setTransactionDefaults","isTransaction","allocUnsafe","override","queued","processTransaction","processGasEstimate","msgHash","hashPersonalMessage","sgn","ecsign","toRpcSig","EIP712Domain","domain","primaryType","signTypedData_v4","printTransactionReceipt","runtimeError","finishedPrinting","processBlocks","totalBlocks","amountProcessed","whilst","createTransactionWithCorrectNonce","gasEstimate","expectedAddress","expectedTopics","fromBlock","toBlock","current","filtered","keep","expectedTopic","logTopic","isMatch","includes","nextSnapshot","during","doneWithTest","nextBlock","hasContractCode","getContractCode","isUnlocked","resolve","expected","actual","reject","then","HDKey","EthereumHDKey","fromHDKey","_hdkey","seedBuffer","fromExtendedKey","base58key","privateExtendedKey","publicExtendedKey","path","derive","deriveChild","_privateKey","_publicKey","LevelUpArrayAdapter","LevelUpObjectAdapter","levelup","filedown","cachedown","txserializer","blockserializer","bufferserializer","BlockLogsSerializer","ReceiptSerializer","directory","finishInitializing","levelupOptions","valueEncoding","store","maxSize","dir","Sublevel","serializer","sublevel","_get","_put","encoded","RangeError","newLength","valueserializer","keyserializer","encodedKey","decodedValue","batch","array","each","isOpen","util","AbstractLevelDOWN","FileDown","location","tmpDir","mkdirSync","recursive","tmpOptions","_open","accessQueue","lKey","cont","cache","execute","fds","cleanup","exit","fdPath","fd","closeSync","unlinkSync","clear","file","cleanupTmpFile","pair","add","cleanupAndCallback","delete","writeFile","rename","readFile","_del","unlink","_batch","txJson","database","binSearch","generateVM","bn","STIPEND","check","opname","isCall","isCallOrCallcode","isCreate","isTerminator","steps","stepTracker","collect","Context","fee","base","cost","sixtyFloorths","ops","intermediateCost","sub","callingFee","compositeContext","addGas","gtn","gte","isub","iadd","setStart","setStop","getCost","transfer","ctx","values","addSixtyFloorth","sixtyFloorth","addRange","finalizeRange","range","isZero","innerCost","divn","estimate","actualUsed","sysops","systemOps","opIndex","cursor","context","currentIndex","isPrecompile","sysOps","allOps","preCompile","preCompileCheck","precompileCallDepth","clone","MAX","gasRefund","startingGas","lo","hi","isEnoughGas","muln","addn","lt","mid","ForkedStorageTrie","LRUCache","httpReg","protocolReg","validProtocolReg","blockNumberReg","cloneWithoutId","exec","fork_block_number","providers","HttpProvider","WebsocketProvider","isNaN","bufValue","strKey","byteLength","pendingRequests","Map","payloads","sendArray","pendingRequest","promise","cachedItem","errResults","hasError","errors","errResult","storageTrieCache","patchVM","_touchedKeys","getId","forkBlock","queriedBlock","forkBlockHash","_trie","lookupAccount","getLookupAccount","_lookupAccount","_lookupStorageTrie","getLookupStorageTrie","storageTrie","copy","isFallbackBlock","isBlockHash","isFallbackBlockHash","getFallbackBlock","numberOrHash","real","checkFn","isFallback","getRelativeBlockNumber","getStorageAt","getTouchedAt","touchedAt","fetchCodeFromFallback","keyExists","exists","fetchAccountFromFallback","acc","receiptJson","fetchBalanceFromFallback","fetchNonceFromFallback","setCode","getSafeFallbackBlockNumber","safeBlockNumber","toBN","relative","currentProvider","effectiveBlockNumber","touched","blockKey","touchedKeys","touchedKey","disconnect","MerklePatriciaTree","BaseTrie","checkpointInterface","ForkedStorageBaseTrie","_touched","findPath","node","remainder","touch","rpcKey","lastBlock","originalPut","prove","verifyProof","helpers","Subscriptions","subscriptions","Method","ENS","BaseContract","Iban","Accounts","getNetworkType","formatter","formatters","blockCall","isString","transactionFromBlockCall","uncleCall","getBlockTransactionCountCall","uncleCountCall","Contract","ens","_detectedAddress","_lastSyncCheck","defaultChain","defaultHardfork","defaultCommon","handleRevert","defaultAccount","defaultBlock","transactionBlockTimeout","transactionConfirmationBlocks","transactionPollingTimeout","maxListenersWarningThreshold","inputAddressFormatter","clearSubscriptions","_ethAccounts","outputFormatter","hexToNumber","outputSyncingFormatter","outputBigNumberFormatter","inputFormatter","inputDefaultBlockNumberFormatter","numberToHex","inputBlockNumberFormatter","outputBlockFormatter","outputTransactionFormatter","outputTransactionReceiptFormatter","abiCoder","inputTransactionFormatter","inputSignFormatter","transformPayload","reverse","inputCallFormatter","inputLogFormatter","outputLogFormatter","inputStorageKeysFormatter","outputProofFormatter","newBlockHeaders","subscriptionName","pendingTransactions","subscriptionHandler","output","isFunction","syncing","_isSyncing","_isSyncingTimeout","currentBlock","highestBlock","attachToObject","Hash","RLP","Bytes","cryp","scrypt","isNot","isUndefined","isNull","BatchRequest","extend","_ethereumCall","isAddress","_accounts","defaultKeyName","_addAccountFunctions","signTransaction","privateKey","encrypt","entropy","randomHex","privateKeyToAccount","ignoreLength","fromPrivate","transactionOptions","hasTxSigningOptions","chain","transaction","baseChain","customChain","substring","ethTx","validationResult","validate","rawTransaction","messageHash","getChainId","getGasPrice","getNetworkId","recoverTransaction","signature","encodeSignature","recovery","toNumber","fromNumber","signingData","signingDataHex","recover","hashMessage","messageHex","isHexStrict","utf8ToHex","messageBytes","hexToBytes","messageBuffer","preamble","preambleBuffer","ethMessage","keccak256s","decodeSignature","preFixed","isObject","isBoolean","decrypt","v3Keystore","syncScrypt","sha3","decipher","v4","_findSafeIndex","pointer","_currentIndexes","numberOfAccounts","remove","addressOrIndex","encryptedWallet","keystore","save","keyName","localStorage","setItem","load","getItem","window","x","removeItem","storageAvailable","givenId","genesis","rng","alphabet","text","charAt","GanacheBlockTracker","_blockchain","getTrackingBlock","awaitCurrentBlock","_setCurrentBlock","_currentBlock","getCurrentBlock","once","_isRunning","oldBlock","webSocketServer","httpServer","keepAliveTimeout","connectionCounter","connections","conn","oldListen","listen","ws","oldClose","destroy","websocket","WebSocketServer","ConnectionManager","connectionsBySubscriptionId","_updateSubscriptions","manageConnection","_logPayload","_handleRequest","connectionManager","wsServer","autoAcceptConnections","connection","utf8Data","binaryData","CLOSE_REASON_UNPROCESSABLE_INPUT","subscriptionId","subscription","http","sendResponse","statusCode","headers","writeHead","createServer","body","chunk","requestHeaders","origin","createCORSResponseHeaders","ganacheProvider"],"sources":["webpack://Ganache/webpack/universalModuleDefinition","webpack://Ganache/webpack/bootstrap","webpack://Ganache/lib/utils/to.js","webpack://Ganache/external \"ethereumjs-util\"","webpack://Ganache/external \"util\"","webpack://Ganache/external \"async\"","webpack://Ganache/external \"ethereumjs-common\"","webpack://Ganache/external \"web3-provider-engine/subproviders/subprovider.js\"","webpack://Ganache/lib/utils/runtimeerror.js","webpack://Ganache/external \"level-sublevel\"","webpack://Ganache/external \"lodash\"","webpack://Ganache/external \"source-map-support/register\"","webpack://Ganache/external \"ethereumjs-account\"","webpack://Ganache/lib/utils/transaction.js","webpack://Ganache/external \"ethereumjs-tx\"","webpack://Ganache/external \"ethereumjs-block\"","webpack://Ganache/lib/utils/log.js","webpack://Ganache/lib/utils/receipt.js","webpack://Ganache/lib/utils/errorhelper.js","webpack://Ganache/external \"events\"","webpack://Ganache/node_modules/web3/src/index.js","webpack://Ganache/external \"web3-core\"","webpack://Ganache/external \"underscore\"","webpack://Ganache/external \"web3-utils\"","webpack://Ganache/lib/provider.js","webpack://Ganache/node_modules/ethereumjs-wallet/index.js","webpack://Ganache/external \"crypto\"","webpack://Ganache/lib/blockchain_double.js","webpack://Ganache/external \"merkle-patricia-tree\"","webpack://Ganache/external \"fs\"","webpack://Ganache/external \"tmp\"","webpack://Ganache/lib/database/txserializer.js","webpack://Ganache/external \"web3-core-helpers\"","webpack://Ganache/external \"web3-core-method\"","webpack://Ganache/external \"web3-net\"","webpack://Ganache/external \"web3-eth-personal\"","webpack://Ganache/lib/utils/txrejectederror.js","webpack://Ganache/lib/utils/block_helper.js","webpack://Ganache/public-exports.js","webpack://Ganache/external \"web3-provider-engine\"","webpack://Ganache/external \"web3-provider-engine/subproviders/subscriptions\"","webpack://Ganache/lib/subproviders/requestfunnel.js","webpack://Ganache/lib/subproviders/delayedblockfilter.js","webpack://Ganache/lib/subproviders/gethdefaults.js","webpack://Ganache/lib/subproviders/geth_api_double.js","webpack://Ganache/lib/statemanager.js","webpack://Ganache/external \"ethereumjs-abi\"","webpack://Ganache/external \"assert\"","webpack://Ganache/external \"seedrandom\"","webpack://Ganache/external \"bip39\"","webpack://Ganache/external \"safe-buffer\"","webpack://Ganache/external \"randombytes\"","webpack://Ganache/external \"scryptsy\"","webpack://Ganache/external \"uuid/v4\"","webpack://Ganache/external \"bs58check\"","webpack://Ganache/node_modules/ethereumjs-wallet/hdkey.js","webpack://Ganache/external \"ethereum-cryptography/hdkey\"","webpack://Ganache/external \"ethereumjs-vm\"","webpack://Ganache/external \"heap\"","webpack://Ganache/lib/database.js","webpack://Ganache/lib/database/leveluparrayadapter.js","webpack://Ganache/lib/database/levelupobjectadapter.js","webpack://Ganache/external \"levelup\"","webpack://Ganache/external \"encoding-down\"","webpack://Ganache/lib/database/filedown.js","webpack://Ganache/external \"abstract-leveldown\"","webpack://Ganache/external \"path\"","webpack://Ganache/external \"cachedown\"","webpack://Ganache/lib/database/blockserializer.js","webpack://Ganache/lib/database/bufferserializer.js","webpack://Ganache/lib/database/blocklogsserializer.js","webpack://Ganache/lib/database/receiptserializer.js","webpack://Ganache/lib/utils/gas/estimateGas.js","webpack://Ganache/lib/utils/gas/guestimation.js","webpack://Ganache/lib/utils/gas/binSearch.js","webpack://Ganache/lib/forking/forked_blockchain.js","webpack://Ganache/lib/forking/forked_storage_trie.js","webpack://Ganache/external \"merkle-patricia-tree/baseTrie\"","webpack://Ganache/external \"merkle-patricia-tree/checkpoint-interface\"","webpack://Ganache/node_modules/web3-eth/src/index.js","webpack://Ganache/external \"web3-core-subscriptions\"","webpack://Ganache/external \"web3-eth-ens\"","webpack://Ganache/external \"web3-eth-contract\"","webpack://Ganache/external \"web3-eth-iban\"","webpack://Ganache/node_modules/web3-eth-accounts/src/index.js","webpack://Ganache/external \"eth-lib/lib/account\"","webpack://Ganache/external \"eth-lib/lib/hash\"","webpack://Ganache/external \"eth-lib/lib/rlp\"","webpack://Ganache/external \"eth-lib/lib/bytes\"","webpack://Ganache/external \"crypto-browserify\"","webpack://Ganache/external \"scrypt-js\"","webpack://Ganache/external \"uuid\"","webpack://Ganache/external \"web3-eth-abi\"","webpack://Ganache/node_modules/web3-eth/src/getNetworkType.js","webpack://Ganache/external \"web3-shh\"","webpack://Ganache/external \"web3-bzz\"","webpack://Ganache/external \"lru-cache\"","webpack://Ganache/external \"eth-sig-util\"","webpack://Ganache/external \"rlp\"","webpack://Ganache/lib/utils/random.js","webpack://Ganache/lib/block_tracker.js","webpack://Ganache/lib/server.js","webpack://Ganache/lib/webSocketServer.js","webpack://Ganache/external \"websocket\"","webpack://Ganache/lib/httpServer.js","webpack://Ganache/external \"http\""],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Ganache\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Ganache\"] = factory();\n\telse\n\t\troot[\"Ganache\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n","const utils = require(\"ethereumjs-util\");\n\nmodule.exports = {\n  buffer: function(val) {\n    let data;\n    if (typeof val === \"string\") {\n      // strings need to be treated as hex, so we have to prep them:\n      data = val.indexOf(\"0x\") === 0 ? val.slice(2) : val;\n      data = data.length % 2 === 1 ? `0${data}` : data;\n      data = Buffer.from(data, \"hex\");\n    } else if (Buffer.isBuffer(val)) {\n      // no need to copy the Buffer to a new Buffer, so we just use the Buffer\n      // exactly as it was given to us:\n      data = val;\n    } else {\n      // all other types get the Buffer treatment and built-in type checking:\n      data = Buffer.from(val);\n    }\n    return data;\n  },\n  // Note: Do not use to.hex() when you really mean utils.addHexPrefix().\n  hex: function(val) {\n    if (typeof val === \"string\") {\n      if (val.indexOf(\"0x\") === 0) {\n        return val.trim();\n      } else {\n        val = new utils.BN(val);\n      }\n    }\n\n    if (typeof val === \"boolean\") {\n      val = val ? 1 : 0;\n    }\n\n    if (typeof val === \"number\") {\n      val = utils.intToHex(val);\n    } else if (val == null) {\n      return \"0x\";\n    } else if (typeof val === \"object\") {\n      // Support Buffer, BigInteger and BN library\n      // Hint: BN is used in ethereumjs\n      val = val.toString(\"hex\");\n    }\n\n    return utils.addHexPrefix(val);\n  },\n\n  _rpcQuantityHexString: function(val) {\n    val = this.hex(val);\n    // remove all zeroes leading zeros, `0+`, from the hex-encoded value\n    // This doesn't remove the last 0 which would be captured by `(.+?)`\n    val = val.replace(/^(?:0x)(?:0+(.+?))?$/, \"0x$1\");\n    return val;\n  },\n\n  rpcQuantityHexString: function(val) {\n    val = this._rpcQuantityHexString(val);\n\n    // RPC Quantities must represent `0` as `0x0`\n    if (val === \"0x\") {\n      val = \"0x0\";\n    }\n\n    return val;\n  },\n\n  rpcQuantityBuffer: function(val) {\n    val = this._rpcQuantityHexString(val);\n\n    if (val === \"0x0\") {\n      val = \"0x\";\n    }\n\n    return utils.rlp.encode(val);\n  },\n\n  rpcDataHexString: function(val, length) {\n    if (typeof length === \"number\") {\n      val = this.hex(val).replace(\"0x\", \"\");\n\n      val = new Array(length - val.length).fill(\"0\").join(\"\") + val;\n    } else {\n      if (val.length === 0) {\n        return \"0x\";\n      }\n      val = this.hex(val).replace(\"0x\", \"\");\n\n      if (val.length % 2 !== 0) {\n        val = \"0\" + val;\n      }\n    }\n    return \"0x\" + val;\n  },\n\n  nullableRpcDataHexString: function(val, length) {\n    if (val === null) {\n      return null;\n    } else {\n      const rpcDataHex = this.rpcDataHexString(val, length);\n      return rpcDataHex === \"0x\" ? null : rpcDataHex;\n    }\n  },\n\n  nullableRpcQuantityHexString: function(val, length) {\n    if (val === null) {\n      return null;\n    } else {\n      const rpcQuantityHex = this._rpcQuantityHexString(val, length);\n      return rpcQuantityHex === \"0x\" ? null : rpcQuantityHex;\n    }\n  },\n\n  hexWithZeroPadding: function(val) {\n    val = this.hex(val);\n    const digits = val.replace(\"0x\", \"\");\n    if (digits.length & 0x1) {\n      return \"0x0\" + digits;\n    }\n    return val;\n  },\n\n  number: function(val) {\n    if (typeof val === \"number\") {\n      return val;\n    }\n    if (typeof val === \"string\") {\n      if (val.indexOf(\"0x\") !== 0) {\n        return parseInt(val, 10);\n      }\n    }\n    var bufVal = utils.toBuffer(val);\n    return utils.bufferToInt(bufVal);\n  },\n\n  rpcError: function(id, code, msg) {\n    return JSON.stringify({\n      jsonrpc: \"2.0\",\n      id: id,\n      error: {\n        code: code,\n        message: msg\n      }\n    });\n  }\n};\n","module.exports = require(\"ethereumjs-util\");","module.exports = require(\"util\");","module.exports = require(\"async\");","module.exports = require(\"ethereumjs-common\");","module.exports = require(\"web3-provider-engine/subproviders/subprovider.js\");","var inherits = require(\"util\").inherits;\nvar to = require(\"./to\");\nvar abi = require(\"ethereumjs-abi\");\n\ninherits(RuntimeError, Error);\n\n// Note: ethereumjs-vm will return an object that has a \"results\" and \"receipts\" keys.\n// You should pass in the whole object.\nfunction RuntimeError(transactions, vmOutput) {\n  // Why not just Error.apply(this, [message])? See\n  // https://gist.github.com/justmoon/15511f92e5216fa2624b#anti-patterns\n  Error.captureStackTrace(this, this.constructor);\n  this.name = this.constructor.name;\n\n  this.results = {};\n  this.hashes = [];\n\n  // handles creating this.message\n  this.combine(transactions, vmOutput);\n}\n\nRuntimeError.prototype.combine = function(transactions, vmOutput) {\n  // Can be combined with vmOutput or another RuntimeError.\n  if (transactions instanceof RuntimeError) {\n    var err = transactions;\n    var keys = Object.keys(err.results);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      this.results[key] = err.results[key];\n      Array.prototype.push.apply(this.hashes, err.hashes);\n    }\n  } else {\n    var results = vmOutput.results;\n\n    for (i = 0; i < transactions.length; i++) {\n      var tx = transactions[i];\n      var result = results[i];\n\n      // 1 means no error, oddly.\n      if (result.execResult.exceptionError) {\n        var hash = to.hex(tx.hash());\n        this.hashes.push(hash);\n        var reason;\n        var returnData = result.execResult.returnValue;\n        if (returnData && returnData.slice(0, 4).toString(\"hex\") === \"08c379a0\") {\n          try {\n            reason = abi.rawDecode([\"string\"], returnData.slice(4))[0];\n          } catch (_) {\n            // if decoding fails, we'll just leave the reason empty\n          }\n        }\n\n        const runState = result.execResult.runState;\n        this.results[hash] = {\n          error: result.execResult.exceptionError.error || result.execResult.exceptionError,\n          program_counter: runState && runState.programCounter,\n          return: to.hex(returnData),\n          reason: reason\n        };\n      }\n    }\n  }\n\n  // Once combined, set the message\n  if (this.hashes.length === 1) {\n    var exceptionResult = this.results[this.hashes[0]];\n    var message = \"VM Exception while processing transaction: \" + exceptionResult.error;\n    if (exceptionResult.reason) {\n      message += \" \" + exceptionResult.reason;\n    }\n    this.message = message;\n  } else {\n    message = \"Multiple VM Exceptions while processing transactions: \\n\\n\";\n\n    for (i = 0; i < this.hashes.length; i++) {\n      hash = this.hashes[i];\n      exceptionResult = this.results[hash];\n      message += hash + \": \" + exceptionResult.error;\n      if (exceptionResult.reason) {\n        message += \" \" + exceptionResult.reason;\n      }\n      message += \"\\n\";\n    }\n    this.message = message;\n  }\n};\n\nRuntimeError.prototype.count = function() {\n  return Object.keys(this.results).length;\n};\n\nRuntimeError.fromResults = function(transactions, vmOutput) {\n  var err = new RuntimeError(transactions, vmOutput);\n\n  if (err.count() === 0) {\n    return null;\n  }\n\n  return err;\n};\n\nmodule.exports = RuntimeError;\n","module.exports = require(\"level-sublevel\");","module.exports = require(\"lodash\");","module.exports = require(\"source-map-support/register\");","module.exports = require(\"ethereumjs-account\");","const EthereumJsTransaction = require(\"ethereumjs-tx\").Transaction;\nconst EthereumJsFakeTransaction = require(\"ethereumjs-tx\").FakeTransaction;\nconst Common = require(\"ethereumjs-common\").default;\nconst ethUtil = require(\"ethereumjs-util\");\nconst assert = require(\"assert\");\nconst rlp = ethUtil.rlp;\nconst to = require(\"./to\");\n\nconst sign = EthereumJsTransaction.prototype.sign;\nconst fakeHash = function() {\n  // this isn't memoization of the hash. previous versions of ganache-core\n  // created hashes in a different/incorrect way and are recorded this way\n  // in snapshot dbs. We are preserving the chain's immutability by using the\n  // stored hash instead of calculating it.\n  if (this._hash != null) {\n    return this._hash;\n  }\n  return EthereumJsFakeTransaction.prototype.hash.apply(this, arguments);\n};\nconst BUFFER_ZERO = Buffer.from([0]);\n\nfunction configZeroableField(tx, fieldName, fieldLength = 32) {\n  const index = tx._fields.indexOf(fieldName);\n  const descriptor = Object.getOwnPropertyDescriptor(tx, fieldName);\n  // eslint-disable-next-line accessor-pairs\n  Object.defineProperty(tx, fieldName, {\n    set: (v) => {\n      descriptor.set.call(tx, v);\n      v = ethUtil.toBuffer(v);\n      assert(fieldLength >= v.length, `The field ${fieldName} must not have more ${fieldLength} bytes`);\n      tx._originals[index] = v;\n    },\n    get: () => {\n      return tx._originals[index];\n    }\n  });\n}\n\n/**\n * etheruemjs-tx's Transactions don't behave quite like we need them to, so\n * we're monkey-patching them to do what we want here.\n * @param {Transaction} tx The Transaction to fix\n * @param {Object} [data] The data object\n */\nfunction fixProps(tx, data) {\n  // ethereumjs-tx doesn't allow for a `0` value in fields, but we want it to\n  // in order to differentiate between a value that isn't set and a value\n  // that is set to 0 in a fake transaction.\n  // Once https://github.com/ethereumjs/ethereumjs-tx/issues/112 is figured\n  // out we can probably remove this fix/hack.\n  // We keep track of the original value and return that value when\n  // referenced by its property name. This lets us properly encode a `0` as\n  // an empty buffer while still being able to differentiate between a `0`\n  // and `null`/`undefined`.\n  tx._originals = [];\n  const fieldNames = [\"nonce\", \"gasPrice\", \"gasLimit\", \"value\"];\n  fieldNames.forEach((fieldName) => configZeroableField(tx, fieldName, 32));\n\n  if (tx.isFake()) {\n    /**\n     * @prop {Buffer} from (read/write) Set from address to bypass transaction\n     * signing on fake transactions.\n     */\n    Object.defineProperty(tx, \"from\", {\n      enumerable: true,\n      configurable: true,\n      get: tx.getSenderAddress.bind(tx),\n      set: (val) => {\n        if (val) {\n          tx._from = ethUtil.toBuffer(val);\n        } else {\n          tx._from = null;\n        }\n      }\n    });\n\n    if (data && data.from) {\n      tx.from = data.from;\n    }\n\n    tx.hash = fakeHash;\n  }\n}\n\n/**\n * Parses the given data object and adds its properties to the given tx.\n * @param {Transaction} tx\n * @param {Object} [data]\n */\nfunction initData(tx, data) {\n  if (data) {\n    if (typeof data === \"string\") {\n      data = to.buffer(data);\n    }\n    if (Buffer.isBuffer(data)) {\n      data = rlp.decode(data);\n    }\n    const self = tx;\n    if (Array.isArray(data)) {\n      if (data.length > tx._fields.length) {\n        throw new Error(\"wrong number of fields in data\");\n      }\n\n      // make sure all the items are buffers\n      data.forEach((d, i) => {\n        self[self._fields[i]] = ethUtil.toBuffer(d);\n      });\n    } else if ((typeof data === \"undefined\" ? \"undefined\" : typeof data) === \"object\") {\n      const keys = Object.keys(data);\n      tx._fields.forEach(function(field) {\n        if (keys.indexOf(field) !== -1) {\n          let val = data[field];\n          if (typeof val === \"string\" && !val.startsWith(\"0x\")) {\n            val = \"0x\" + val;\n          }\n          self[field] = val;\n        }\n        if (field === \"gasLimit\") {\n          if (keys.indexOf(\"gas\") !== -1) {\n            self.gas = data.gas;\n          }\n        } else if (field === \"data\") {\n          if (keys.indexOf(\"input\") !== -1) {\n            self.input = data.input;\n          }\n        }\n      });\n\n      // Set chainId value from the data, if it's there and the data didn't\n      // contain a `v` value with chainId in it already. If we do have a\n      // data.chainId value let's set the interval v value to it.\n      if (!tx._chainId && data && data.chainId != null) {\n        tx.raw[self._fields.indexOf(\"v\")] = tx._chainId = data.chainId || 0;\n      }\n    } else {\n      throw new Error(\"invalid data\");\n    }\n  }\n}\n\nmodule.exports = class Transaction extends EthereumJsTransaction {\n  /**\n   * @param {Object} [data] The data for this Transaction.\n   * @param {Number} type The `Transaction.types` bit flag for this transaction\n   * @param {Object} [common] EthereumJS common.fromCustomChain()\n   *  Can be a combination of `Transaction.types.none`, `Transaction.types.signed`, and `Transaction.types.fake`.\n   */\n  constructor(data, type = Transaction.types.none, common) {\n    if (data.chainId && !common) {\n      common = Common.forCustomChain(\n        \"mainnet\", // TODO needs to match chain id\n        {\n          name: \"ganache\",\n          networkId: 1,\n          chainId: data.chainId,\n          comment: \"Local test network\",\n          bootstrapNodes: []\n        },\n        \"muirGlacier\"\n      );\n    }\n    super(undefined, { common });\n\n    this.ganacheTxCommon = common;\n    this.type = type;\n\n    fixProps(this, data);\n    initData(this, data);\n  }\n\n  static get types() {\n    // values must be powers of 2\n    return {\n      none: 0,\n      signed: 1,\n      fake: 2\n    };\n  }\n\n  /**\n   * Prepares arbitrary JSON data for use in a Transaction.\n   * @param {Object} json JSON object representing the Transaction\n   * @param {Number} type The `Transaction.types` bit flag for this transaction\n   * @param {Object} [common] EthereumJS common.fromCustomChain()\n   * @param {Number} [networkId]\n   * @param {string} [hardfork]\n   *  Can be a combination of `Transaction.types.none`, `Transaction.types.signed`, and `Transaction.types.fake`.\n   */\n  static fromJSON(json, type, common, networkId, hardfork) {\n    let toAccount;\n    if (json.to) {\n      // Remove all padding and make it easily comparible.\n      const buf = to.buffer(json.to);\n      if (buf.equals(Buffer.from([0]))) {\n        // if the address is 0x0 make it 0x0{20}\n        toAccount = ethUtil.setLengthLeft(buf, 20);\n      } else {\n        toAccount = buf;\n      }\n    }\n    const data = json.data || json.input;\n    const options = {\n      nonce: ethUtil.toBuffer(to.hex(json.nonce)),\n      from: ethUtil.toBuffer(to.hex(json.from)),\n      value: ethUtil.toBuffer(to.hex(json.value)),\n      gasLimit: ethUtil.toBuffer(to.hex(json.gas || json.gasLimit)),\n      gasPrice: ethUtil.toBuffer(to.hex(json.gasPrice)),\n      data: data ? to.buffer(data) : null,\n      to: toAccount,\n      v: ethUtil.toBuffer(json.v),\n      r: ethUtil.toBuffer(json.r),\n      s: ethUtil.toBuffer(json.s)\n    };\n    if (!common && options.v.length > 0) {\n      const chainId = Math.floor((json.v - 35) / 2);\n      common = Common.forCustomChain(\n        \"mainnet\", // TODO needs to match chain id\n        {\n          name: \"ganache\",\n          networkId: networkId,\n          chainId: chainId >= 0 ? chainId : 1,\n          comment: \"Local test network\",\n          bootstrapNodes: []\n        },\n        hardfork\n      );\n    }\n    const tx = new Transaction(options, type, common);\n    tx._hash = json.hash ? to.buffer(json.hash) : null;\n    return tx;\n  }\n\n  /**\n   * Encodes the Transaction in order to be used in a database. Can be decoded\n   * into an identical Transaction via `Transaction.decode(encodedTx)`.\n   */\n  encode() {\n    const resultJSON = {\n      hash: to.nullableRpcDataHexString(this.hash()),\n      nonce: to.nullableRpcQuantityHexString(this.nonce) || \"0x\",\n      from: to.rpcDataHexString(this.from),\n      to: to.nullableRpcDataHexString(this.to),\n      value: to.nullableRpcQuantityHexString(this.value),\n      gas: to.nullableRpcQuantityHexString(this.gasLimit),\n      gasPrice: to.nullableRpcQuantityHexString(this.gasPrice),\n      data: this.data ? this.data.toString(\"hex\") : null,\n      v: to.nullableRpcQuantityHexString(this.v),\n      r: to.nullableRpcQuantityHexString(this.r),\n      s: to.nullableRpcQuantityHexString(this.s),\n      _type: this.type,\n      _options: {\n        hardfork: this.ganacheTxCommon.hardfork(),\n        chainId: this.ganacheTxCommon.chainId(),\n        networkId: this.ganacheTxCommon.networkId()\n      }\n    };\n    return resultJSON;\n  }\n\n  isFake() {\n    return (this.type & Transaction.types.fake) === Transaction.types.fake;\n  }\n\n  isSigned() {\n    return (this.type & Transaction.types.signed) === Transaction.types.signed;\n  }\n\n  /**\n   * Compares the transaction's nonce value to the given expectedNonce taking in\n   * to account the type of transaction and comparison rules for each type.\n   *\n   * In a signed transaction a nonce of Buffer([]) is the same as Buffer([0]),\n   * but in a fake transaction Buffer([]) is null and Buffer([0]) is 0.\n   *\n   * @param {Buffer} expectedNonce The value of the from account's next nonce.\n   */\n  validateNonce(expectedNonce) {\n    let nonce;\n    if (this.isSigned() && this.nonce.length === 0) {\n      nonce = BUFFER_ZERO;\n    } else {\n      nonce = this.nonce;\n    }\n    return nonce.equals(expectedNonce);\n  }\n\n  /**\n   * Signs the transaction and sets the `type` bit for `signed` to 1,\n   * i.e., `isSigned() === true`\n   */\n  sign() {\n    sign.apply(this, arguments);\n    this.type |= Transaction.types.signed;\n  }\n\n  /**\n   * Returns a JSON-RPC spec compliant representation of this Transaction.\n   *\n   * @param {Object} block The block this Transaction appears in.\n   */\n  toJsonRpc(block) {\n    const hash = this.hash();\n\n    let transactionIndex = null;\n    for (let i = 0, txns = block.transactions, l = txns.length; i < l; i++) {\n      if (txns[i].hash().equals(hash)) {\n        transactionIndex = i;\n        break;\n      }\n    }\n\n    const resultJSON = {\n      hash: to.nullableRpcDataHexString(hash),\n      nonce: to.rpcQuantityHexString(this.nonce),\n      blockHash: to.nullableRpcDataHexString(block.hash()),\n      blockNumber: to.nullableRpcQuantityHexString(block.header.number),\n      transactionIndex: to.nullableRpcQuantityHexString(transactionIndex),\n      from: to.rpcDataHexString(this.from),\n      to: to.nullableRpcDataHexString(this.to),\n      value: to.rpcQuantityHexString(this.value),\n      gas: to.rpcQuantityHexString(this.gasLimit),\n      gasPrice: to.rpcQuantityHexString(this.gasPrice),\n      input: to.rpcDataHexString(this.data),\n      v: to.nullableRpcQuantityHexString(this.v),\n      r: to.nullableRpcQuantityHexString(this.r),\n      s: to.nullableRpcQuantityHexString(this.s)\n    };\n\n    return resultJSON;\n  }\n};\n","module.exports = require(\"ethereumjs-tx\");","module.exports = require(\"ethereumjs-block\");","var to = require(\"./to.js\");\n\n// Expects:\n//\n// logIndex: ...\n// transactionIndex: ...\n// transactionHash: ...\n// block: ...\n// address: ...\n// data: ...\n// topics: ...\n// type: ...\n\nfunction Log(data) {\n  var self = this;\n  Object.keys(data).forEach(function(key) {\n    self[key] = data[key];\n  });\n}\n\nLog.prototype.toJSON = function() {\n  // RPC quantity values like this.transactionIndex can be set to \"0x00\",\n  // use the explicit rpcQuantityHexString to properly format the JSON, removing leading zeroes.\n  // See RPC log format spec: https://github.com/ethereum/wiki/wiki/JSON-RPC\n  return {\n    logIndex: to.rpcQuantityHexString(this.logIndex),\n    transactionIndex: to.rpcQuantityHexString(this.transactionIndex),\n    transactionHash: to.rpcDataHexString(this.transactionHash),\n    blockHash: to.rpcDataHexString(this.block.hash()),\n    blockNumber: to.rpcQuantityHexString(this.block.header.number),\n    address: to.rpcDataHexString(this.address),\n    data: to.rpcDataHexString(this.data),\n    topics: this.topics,\n    type: \"mined\",\n    removed: (this.removed || false)\n  };\n};\n\nmodule.exports = Log;\n","var to = require(\"./to\");\n\nfunction Receipt(tx, block, logs, gasUsed, cumulativeGasUsed, contractAddress, status, logsBloom) {\n  this.tx = tx;\n  this.block = block;\n  this.logs = logs;\n  this.gasUsed = gasUsed;\n  this.cumulativeGasUsed = cumulativeGasUsed;\n  this.contractAddress = contractAddress;\n  this.status = status;\n  this.logsBloom = logsBloom;\n\n  this.transactionIndex = 0;\n\n  this.txHash = tx.hash();\n\n  for (var i = 0; i < block.transactions.length; i++) {\n    var current = block.transactions[i];\n    if (current.hash().equals(this.txHash)) {\n      this.transactionIndex = i;\n      break;\n    }\n  }\n}\n\nReceipt.prototype.toJSON = function() {\n  // Enforce Hex formatting as defined in the RPC spec.\n  return {\n    transactionHash: to.rpcDataHexString(this.txHash),\n    transactionIndex: to.rpcQuantityHexString(this.transactionIndex),\n    blockHash: to.rpcDataHexString(this.block.hash()),\n    blockNumber: to.rpcQuantityHexString(this.block.header.number),\n    from: to.rpcDataHexString(this.tx.from),\n    to: to.nullableRpcDataHexString(this.tx.to),\n    gasUsed: to.rpcQuantityHexString(this.gasUsed),\n    cumulativeGasUsed: to.rpcQuantityHexString(this.cumulativeGasUsed),\n    contractAddress: this.contractAddress != null ? to.rpcDataHexString(this.contractAddress) : null,\n    logs: this.logs.map(function(log) {\n      return log.toJSON();\n    }),\n    status: to.rpcQuantityHexString(this.status),\n    logsBloom: to.rpcDataHexString(this.logsBloom),\n    v: to.rpcQuantityHexString(this.tx.v),\n    r: to.rpcQuantityHexString(this.tx.r),\n    s: to.rpcQuantityHexString(this.tx.s)\n  };\n};\n\nmodule.exports = Receipt;\n","class LevelUpOutOfRangeError extends Error {\n  constructor(type, index, len) {\n    const message = \"LevelUpArrayAdapter named '\" + type + \"' index out of range: index \" + index + \"; length: \" + len;\n    super(message);\n    this.name = `${this.constructor.name}:${type}`;\n    this.type = type;\n  }\n}\n\nclass BlockOutOfRangeError extends LevelUpOutOfRangeError {\n  constructor(index, len) {\n    super(\"blocks\", index, len);\n  }\n}\n\nmodule.exports = {\n  LevelUpOutOfRangeError,\n  BlockOutOfRangeError\n};\n","module.exports = require(\"events\");","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @authors:\n *   Fabian Vogelsteller <fabian@ethereum.org>\n *   Gav Wood <gav@parity.io>\n *   Jeffrey Wilcke <jeffrey.wilcke@ethereum.org>\n *   Marek Kotewicz <marek@parity.io>\n *   Marian Oancea <marian@ethereum.org>\n * @date 2017\n */\n\n\"use strict\";\n\n\nvar version = require('../package.json').version;\nvar core = require('web3-core');\nvar Eth = require('web3-eth');\nvar Net = require('web3-net');\nvar Personal = require('web3-eth-personal');\nvar Shh = require('web3-shh');\nvar Bzz = require('web3-bzz');\nvar utils = require('web3-utils');\n\nvar Web3 = function Web3() {\n    var _this = this;\n\n    // sets _requestmanager etc\n    core.packageInit(this, arguments);\n\n    this.version = version;\n    this.utils = utils;\n\n    this.eth = new Eth(this);\n    this.shh = new Shh(this);\n    this.bzz = new Bzz(this);\n\n    // overwrite package setProvider\n    var setProvider = this.setProvider;\n    this.setProvider = function (provider, net) {\n        setProvider.apply(_this, arguments);\n\n        _this.eth.setRequestManager(_this._requestManager);\n        _this.shh.setRequestManager(_this._requestManager);\n        _this.bzz.setProvider(provider);\n\n        return true;\n    };\n};\n\nWeb3.version = version;\nWeb3.utils = utils;\nWeb3.modules = {\n    Eth: Eth,\n    Net: Net,\n    Personal: Personal,\n    Shh: Shh,\n    Bzz: Bzz\n};\n\ncore.addProviders(Web3);\n\nmodule.exports = Web3;\n\n","module.exports = require(\"web3-core\");","module.exports = require(\"underscore\");","module.exports = require(\"web3-utils\");","// make sourcemaps work!\nrequire(\"source-map-support/register\");\n\nconst ProviderEngine = require(\"web3-provider-engine\");\nconst SubscriptionSubprovider = require(\"web3-provider-engine/subproviders/subscriptions\");\n\nconst RequestFunnel = require(\"./subproviders/requestfunnel\");\nconst DelayedBlockFilter = require(\"./subproviders/delayedblockfilter\");\nconst GethDefaults = require(\"./subproviders/gethdefaults\");\nconst GethApiDouble = require(\"./subproviders/geth_api_double\");\n\nconst BlockTracker = require(\"./block_tracker\");\n\nconst RuntimeError = require(\"./utils/runtimeerror\");\nconst EventEmitter = require(\"events\");\n\nconst _ = require(\"lodash\");\n\nfunction Provider(options) {\n  const self = this;\n  EventEmitter.call(this);\n\n  this.options = options = self._applyDefaultOptions(options || {});\n\n  const gethApiDouble = new GethApiDouble(options, this);\n\n  this.engine = new ProviderEngine({\n    blockTracker: new BlockTracker({ blockchain: gethApiDouble.state.blockchain })\n  });\n\n  const subscriptionSubprovider = new SubscriptionSubprovider();\n\n  this.engine.manager = gethApiDouble;\n  this.engine.addProvider(new RequestFunnel());\n  this.engine.addProvider(new DelayedBlockFilter());\n  this.engine.addProvider(subscriptionSubprovider);\n  this.engine.addProvider(new GethDefaults());\n  this.engine.addProvider(gethApiDouble);\n\n  this.engine.setMaxListeners(100);\n  this.engine.start();\n\n  this.manager = gethApiDouble;\n  this.sendAsync = this.send.bind(this);\n  this.send = this.send.bind(this);\n  this.close = this.close.bind(this);\n  this._queueRequest = this._queueRequest.bind(this);\n  this._processRequestQueue = this._processRequestQueue.bind(this);\n\n  subscriptionSubprovider.on(\"data\", function(err, notification) {\n    self.emit(\"data\", err, notification);\n  });\n}\n\nconst defaultOptions = {\n  _chainId: 1,\n  _chainIdRpc: 1337,\n  vmErrorsOnRPCResponse: true,\n  verbose: false,\n  asyncRequestProcessing: false,\n  logger: {\n    log: function() {}\n  }\n};\n\nProvider.prototype = Object.create(EventEmitter.prototype);\nProvider.prototype.constructor = Provider;\n\nProvider.prototype._applyDefaultOptions = function(options) {\n  return _.merge({}, defaultOptions, options);\n};\n\nProvider.prototype.send = function(payload, callback) {\n  if (typeof callback !== \"function\") {\n    throw new Error(\n      \"No callback provided to provider's send function. As of web3 1.0, provider.send \" +\n        \"is no longer synchronous and must be passed a callback as its final argument.\"\n    );\n  }\n\n  const self = this;\n\n  const externalize = function(payload) {\n    return _.cloneDeep(payload);\n  };\n\n  if (Array.isArray(payload)) {\n    payload = payload.map(externalize);\n  } else {\n    payload = externalize(payload);\n  }\n\n  const intermediary = function(err, result) {\n    // clone result so that we can mutate the response without worrying about\n    // that messing up assumptions the calling logic might have about us\n    // mutating things\n    result = _.cloneDeep(result);\n    let response;\n    if (Array.isArray(result)) {\n      response = [];\n      for (let i = 0; i < result.length; i++) {\n        response.push(self.reportErrorInResponse(payload[i], err, result[i]));\n      }\n    } else {\n      response = self.reportErrorInResponse(payload, err, result);\n    }\n\n    if (self.options.verbose) {\n      self.options.logger.log(\n        \" <   \" +\n          JSON.stringify(response, null, 2)\n            .split(\"\\n\")\n            .join(\"\\n <   \")\n      );\n    }\n    process.nextTick(() => callback(response.error ? err : null, response));\n  };\n\n  if (self.options.verbose) {\n    self.options.logger.log(\n      \"   > \" +\n        JSON.stringify(payload, null, 2)\n          .split(\"\\n\")\n          .join(\"\\n   > \")\n    );\n  }\n\n  if (self.options.asyncRequestProcessing) {\n    self.engine.sendAsync(payload, intermediary);\n  } else {\n    self._queueRequest(payload, intermediary);\n  }\n};\n\nProvider.prototype.close = function(callback) {\n  // This is a little gross reaching, but...\n  this.manager.state.stopMining();\n  this.manager.state.blockchain.close(callback);\n  this.engine.stop();\n};\n\nProvider.prototype._queueRequest = function(payload, intermediary) {\n  if (!this._requestQueue) {\n    this._requestQueue = [];\n  }\n\n  this._requestQueue.push({\n    payload: payload,\n    callback: intermediary\n  });\n\n  setImmediate(this._processRequestQueue);\n};\n\nProvider.prototype._processRequestQueue = function() {\n  const self = this;\n\n  if (self._requestInProgress) {\n    return;\n  }\n\n  self._requestInProgress = true;\n\n  const args = self._requestQueue.shift();\n\n  if (args) {\n    self.engine.sendAsync(args.payload, (err, result) => {\n      if (self._requestQueue.length > 0) {\n        setImmediate(self._processRequestQueue);\n      }\n      args.callback(err, result);\n      self._requestInProgress = false;\n    });\n  } else {\n    // still need to free the lock\n    self._requestInProgress = false;\n\n    if (self._requestQueue.length > 0) {\n      setImmediate(self._processRequestQueue);\n    }\n  }\n};\n\nProvider.prototype.cleanUpErrorObject = function(err, response) {\n  // Our response should already have an error field at this point, if it\n  // doesn't, this was likely intentional. If not, this is the wrong place to\n  // fix that problem.\n  if (!err || !response.error) {\n    return response;\n  }\n\n  const errorObject = {\n    error: {\n      data: {}\n    }\n  };\n\n  if (err.message) {\n    // clean up the error reporting done by the provider engine so the error message isn't lost in the stack trace noise\n    errorObject.error.message = err.message;\n    errorObject.error.data.stack = err.stack;\n    errorObject.error.data.name = err.name;\n    if (\"code\" in err) {\n      errorObject.error.code = err.code;\n    }\n  } else if (!response.error) {\n    errorObject.error = {\n      message: err.toString()\n    };\n  }\n\n  return _.merge(response, errorObject);\n};\n\n// helper set of RPC methods which execute code and respond with a transaction hash as their result\nconst transactionMethods = new Set([\"eth_sendTransaction\", \"eth_sendRawTransaction\", \"personal_sendTransaction\"]);\n\nProvider.prototype._isTransactionRequest = function(request) {\n  return transactionMethods.has(request.method);\n};\n\nProvider.prototype.reportErrorInResponse = function(request, err, response) {\n  const self = this;\n\n  if (!err) {\n    return response;\n  }\n\n  // TODO: for next major release: move reporting of tx hash on error to error\n  // field to prevent poorly-written clients which assume that the existence of\n  // the \"result\" field implies no errors from breaking.\n  if (self._isTransactionRequest(request)) {\n    if (err instanceof RuntimeError) {\n      // Make sure we always return the transaction hash on failed transactions so\n      // the caller can get their tx receipt. This breaks JSONRPC 2.0, but it's how\n      // we've always done it.\n      response.result = err.hashes[0];\n\n      if (self.options.vmErrorsOnRPCResponse) {\n        if (!response.error.data) {\n          response.error.data = {};\n        }\n        response.error.data[err.hashes[0]] = err.results[err.hashes[0]];\n      } else {\n        delete response.error;\n      }\n    }\n  }\n\n  if (request.method === \"eth_call\") {\n    if (err instanceof RuntimeError) {\n      if (self.options.vmErrorsOnRPCResponse) {\n        if (!response.error.data) {\n          response.error.data = {};\n        }\n        response.error.data[err.hashes[0]] = err.results[err.hashes[0]];\n      } else {\n        response.result = err.results[err.hashes[0]].return || \"0x\";\n        delete response.error;\n      }\n    }\n  }\n\n  return self.cleanUpErrorObject(err, response);\n};\n\nmodule.exports = Provider;\n","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Buffer = require('safe-buffer').Buffer;\nvar ethUtil = require('ethereumjs-util');\nvar crypto = require('crypto');\nvar randomBytes = require('randombytes');\nvar scryptsy = require('scryptsy');\nvar uuidv4 = require('uuid/v4');\nvar bs58check = require('bs58check');\n\nfunction assert(val, msg) {\n  if (!val) {\n    throw new Error(msg || 'Assertion failed');\n  }\n}\n\nfunction runCipherBuffer(cipher, data) {\n  return Buffer.concat([cipher.update(data), cipher.final()]);\n}\n\nvar Wallet = function Wallet(priv, pub) {\n  if (priv && pub) {\n    throw new Error('Cannot supply both a private and a public key to the constructor');\n  }\n\n  if (priv && !ethUtil.isValidPrivate(priv)) {\n    throw new Error('Private key does not satisfy the curve requirements (ie. it is invalid)');\n  }\n\n  if (pub && !ethUtil.isValidPublic(pub)) {\n    throw new Error('Invalid public key');\n  }\n\n  this._privKey = priv;\n  this._pubKey = pub;\n};\n\nObject.defineProperty(Wallet.prototype, 'privKey', {\n  get: function get() {\n    assert(this._privKey, 'This is a public key only wallet');\n    return this._privKey;\n  }\n});\n\nObject.defineProperty(Wallet.prototype, 'pubKey', {\n  get: function get() {\n    if (!this._pubKey) {\n      this._pubKey = ethUtil.privateToPublic(this.privKey);\n    }\n    return this._pubKey;\n  }\n});\n\nWallet.generate = function (icapDirect) {\n  if (icapDirect) {\n    var max = new ethUtil.BN('088f924eeceeda7fe92e1f5b0fffffffffffffff', 16);\n    while (true) {\n      var privKey = randomBytes(32);\n      if (new ethUtil.BN(ethUtil.privateToAddress(privKey)).lte(max)) {\n        return new Wallet(privKey);\n      }\n    }\n  } else {\n    return new Wallet(randomBytes(32));\n  }\n};\n\nWallet.generateVanityAddress = function (pattern) {\n  if ((typeof pattern === 'undefined' ? 'undefined' : _typeof(pattern)) !== 'object') {\n    pattern = new RegExp(pattern);\n  }\n\n  while (true) {\n    var privKey = randomBytes(32);\n    var address = ethUtil.privateToAddress(privKey);\n\n    if (pattern.test(address.toString('hex'))) {\n      return new Wallet(privKey);\n    }\n  }\n};\n\nWallet.prototype.getPrivateKey = function () {\n  return this.privKey;\n};\n\nWallet.prototype.getPrivateKeyString = function () {\n  return ethUtil.bufferToHex(this.getPrivateKey());\n};\n\nWallet.prototype.getPublicKey = function () {\n  return this.pubKey;\n};\n\nWallet.prototype.getPublicKeyString = function () {\n  return ethUtil.bufferToHex(this.getPublicKey());\n};\n\nWallet.prototype.getAddress = function () {\n  return ethUtil.publicToAddress(this.pubKey);\n};\n\nWallet.prototype.getAddressString = function () {\n  return ethUtil.bufferToHex(this.getAddress());\n};\n\nWallet.prototype.getChecksumAddressString = function () {\n  return ethUtil.toChecksumAddress(this.getAddressString());\n};\n\n// https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition\nWallet.prototype.toV3 = function (password, opts) {\n  assert(this._privKey, 'This is a public key only wallet');\n\n  opts = opts || {};\n  var salt = opts.salt || randomBytes(32);\n  var iv = opts.iv || randomBytes(16);\n\n  var derivedKey;\n  var kdf = opts.kdf || 'scrypt';\n  var kdfparams = {\n    dklen: opts.dklen || 32,\n    salt: salt.toString('hex')\n  };\n\n  if (kdf === 'pbkdf2') {\n    kdfparams.c = opts.c || 262144;\n    kdfparams.prf = 'hmac-sha256';\n    derivedKey = crypto.pbkdf2Sync(Buffer.from(password), salt, kdfparams.c, kdfparams.dklen, 'sha256');\n  } else if (kdf === 'scrypt') {\n    // FIXME: support progress reporting callback\n    kdfparams.n = opts.n || 262144;\n    kdfparams.r = opts.r || 8;\n    kdfparams.p = opts.p || 1;\n    derivedKey = scryptsy(Buffer.from(password), salt, kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen);\n  } else {\n    throw new Error('Unsupported kdf');\n  }\n\n  var cipher = crypto.createCipheriv(opts.cipher || 'aes-128-ctr', derivedKey.slice(0, 16), iv);\n  if (!cipher) {\n    throw new Error('Unsupported cipher');\n  }\n\n  var ciphertext = runCipherBuffer(cipher, this.privKey);\n\n  var mac = ethUtil.keccak256(Buffer.concat([derivedKey.slice(16, 32), Buffer.from(ciphertext, 'hex')]));\n\n  return {\n    version: 3,\n    id: uuidv4({ random: opts.uuid || randomBytes(16) }),\n    address: this.getAddress().toString('hex'),\n    crypto: {\n      ciphertext: ciphertext.toString('hex'),\n      cipherparams: {\n        iv: iv.toString('hex')\n      },\n      cipher: opts.cipher || 'aes-128-ctr',\n      kdf: kdf,\n      kdfparams: kdfparams,\n      mac: mac.toString('hex')\n    }\n  };\n};\n\nWallet.prototype.getV3Filename = function (timestamp) {\n  /*\n   * We want a timestamp like 2016-03-15T17-11-33.007598288Z. Date formatting\n   * is a pain in Javascript, everbody knows that. We could use moment.js,\n   * but decide to do it manually in order to save space.\n   *\n   * toJSON() returns a pretty close version, so let's use it. It is not UTC though,\n   * but does it really matter?\n   *\n   * Alternative manual way with padding and Date fields: http://stackoverflow.com/a/7244288/4964819\n   *\n   */\n  var ts = timestamp ? new Date(timestamp) : new Date();\n\n  return ['UTC--', ts.toJSON().replace(/:/g, '-'), '--', this.getAddress().toString('hex')].join('');\n};\n\nWallet.prototype.toV3String = function (password, opts) {\n  return JSON.stringify(this.toV3(password, opts));\n};\n\nWallet.fromPublicKey = function (pub, nonStrict) {\n  if (nonStrict) {\n    pub = ethUtil.importPublic(pub);\n  }\n  return new Wallet(null, pub);\n};\n\nWallet.fromExtendedPublicKey = function (pub) {\n  assert(pub.slice(0, 4) === 'xpub', 'Not an extended public key');\n  pub = bs58check.decode(pub).slice(45);\n  // Convert to an Ethereum public key\n  return Wallet.fromPublicKey(pub, true);\n};\n\nWallet.fromPrivateKey = function (priv) {\n  return new Wallet(priv);\n};\n\nWallet.fromExtendedPrivateKey = function (priv) {\n  assert(priv.slice(0, 4) === 'xprv', 'Not an extended private key');\n  var tmp = bs58check.decode(priv);\n  assert(tmp[45] === 0, 'Invalid extended private key');\n  return Wallet.fromPrivateKey(tmp.slice(46));\n};\n\n// https://github.com/ethereum/go-ethereum/wiki/Passphrase-protected-key-store-spec\nWallet.fromV1 = function (input, password) {\n  assert(typeof password === 'string');\n  var json = (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' ? input : JSON.parse(input);\n\n  if (json.Version !== '1') {\n    throw new Error('Not a V1 wallet');\n  }\n\n  if (json.Crypto.KeyHeader.Kdf !== 'scrypt') {\n    throw new Error('Unsupported key derivation scheme');\n  }\n\n  var kdfparams = json.Crypto.KeyHeader.KdfParams;\n  var derivedKey = scryptsy(Buffer.from(password), Buffer.from(json.Crypto.Salt, 'hex'), kdfparams.N, kdfparams.R, kdfparams.P, kdfparams.DkLen);\n\n  var ciphertext = Buffer.from(json.Crypto.CipherText, 'hex');\n\n  var mac = ethUtil.keccak256(Buffer.concat([derivedKey.slice(16, 32), ciphertext]));\n\n  if (mac.toString('hex') !== json.Crypto.MAC) {\n    throw new Error('Key derivation failed - possibly wrong passphrase');\n  }\n\n  var decipher = crypto.createDecipheriv('aes-128-cbc', ethUtil.keccak256(derivedKey.slice(0, 16)).slice(0, 16), Buffer.from(json.Crypto.IV, 'hex'));\n  var seed = runCipherBuffer(decipher, ciphertext);\n\n  return new Wallet(seed);\n};\n\nWallet.fromV3 = function (input, password, nonStrict) {\n  assert(typeof password === 'string');\n  var json = (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' ? input : JSON.parse(nonStrict ? input.toLowerCase() : input);\n\n  if (json.version !== 3) {\n    throw new Error('Not a V3 wallet');\n  }\n\n  var derivedKey;\n  var kdfparams;\n  if (json.crypto.kdf === 'scrypt') {\n    kdfparams = json.crypto.kdfparams;\n\n    // FIXME: support progress reporting callback\n    derivedKey = scryptsy(Buffer.from(password), Buffer.from(kdfparams.salt, 'hex'), kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen);\n  } else if (json.crypto.kdf === 'pbkdf2') {\n    kdfparams = json.crypto.kdfparams;\n\n    if (kdfparams.prf !== 'hmac-sha256') {\n      throw new Error('Unsupported parameters to PBKDF2');\n    }\n\n    derivedKey = crypto.pbkdf2Sync(Buffer.from(password), Buffer.from(kdfparams.salt, 'hex'), kdfparams.c, kdfparams.dklen, 'sha256');\n  } else {\n    throw new Error('Unsupported key derivation scheme');\n  }\n\n  var ciphertext = Buffer.from(json.crypto.ciphertext, 'hex');\n\n  var mac = ethUtil.keccak256(Buffer.concat([derivedKey.slice(16, 32), ciphertext]));\n  if (mac.toString('hex') !== json.crypto.mac) {\n    throw new Error('Key derivation failed - possibly wrong passphrase');\n  }\n\n  var decipher = crypto.createDecipheriv(json.crypto.cipher, derivedKey.slice(0, 16), Buffer.from(json.crypto.cipherparams.iv, 'hex'));\n  var seed = runCipherBuffer(decipher, ciphertext);\n\n  return new Wallet(seed);\n};\n\n/*\n * Based on https://github.com/ethereum/pyethsaletool/blob/master/pyethsaletool.py\n * JSON fields: encseed, ethaddr, btcaddr, email\n */\nWallet.fromEthSale = function (input, password) {\n  assert(typeof password === 'string');\n  var json = (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' ? input : JSON.parse(input);\n\n  var encseed = Buffer.from(json.encseed, 'hex');\n\n  // key derivation\n  var derivedKey = crypto.pbkdf2Sync(password, password, 2000, 32, 'sha256').slice(0, 16);\n\n  // seed decoding (IV is first 16 bytes)\n  // NOTE: crypto (derived from openssl) when used with aes-*-cbc will handle PKCS#7 padding internally\n  //       see also http://stackoverflow.com/a/31614770/4964819\n  var decipher = crypto.createDecipheriv('aes-128-cbc', derivedKey, encseed.slice(0, 16));\n  var seed = runCipherBuffer(decipher, encseed.slice(16));\n\n  var wallet = new Wallet(ethUtil.keccak256(seed));\n  if (wallet.getAddress().toString('hex') !== json.ethaddr) {\n    throw new Error('Decoded key mismatch - possibly wrong passphrase');\n  }\n  return wallet;\n};\n\nmodule.exports = Wallet;","module.exports = require(\"crypto\");","var to = require(\"./utils/to.js\");\nvar Account = require(\"ethereumjs-account\").default;\nvar Block = require(\"ethereumjs-block\");\nvar Log = require(\"./utils/log\");\nvar Receipt = require(\"./utils/receipt\");\nvar VM = require(\"ethereumjs-vm\").default;\nvar Common = require(\"ethereumjs-common\").default;\nvar RuntimeError = require(\"./utils/runtimeerror\");\nvar Trie = require(\"merkle-patricia-tree\");\nvar utils = require(\"ethereumjs-util\");\nvar async = require(\"async\");\nvar Heap = require(\"heap\");\nvar Database = require(\"./database\");\nvar EventEmitter = require(\"events\");\nvar estimateGas = require(\"./utils/gas/estimateGas\");\nvar _ = require(\"lodash\");\nvar promisify = require(\"util\").promisify;\nconst BN = utils.BN;\n\nfunction BlockchainDouble(options) {\n  var self = this;\n  EventEmitter.apply(self);\n\n  this.options = options = this._applyDefaultOptions(options || {});\n\n  this.logger = options.logger || console;\n\n  this.data = new Database(options);\n\n  if (options.trie != null && options.db_path != null) {\n    throw new Error(\"Can't initialize a TestRPC with a db and a custom trie.\");\n  }\n\n  this.pending_transactions = [];\n\n  // updated periodically to keep up with the times\n  this.blockGasLimit = options.gasLimit;\n  this.defaultTransactionGasLimit = options.defaultTransactionGasLimit;\n  this.timeAdjustment = 0;\n}\n\nconst defaultOptions = {\n  gasLimit: \"0x6691b7\",\n  defaultTransactionGasLimit: \"0x15f90\",\n  time: null,\n  debug: false,\n  hardfork: \"muirGlacier\",\n  allowUnlimitedContractSize: false\n};\n\n// inheritence w/ prototype chaining\nBlockchainDouble.prototype = Object.create(EventEmitter.prototype);\nBlockchainDouble.prototype.constructor = BlockchainDouble;\n\nBlockchainDouble.prototype._applyDefaultOptions = function(options) {\n  // We want this function to mutate the options object so that we can report\n  // our settings back to our consumer application (e.g., ganache)\n  return _.merge(options, defaultOptions, Object.assign({}, options));\n};\n\nBlockchainDouble.prototype.initialize = function(accounts, callback) {\n  var self = this;\n\n  this.data.initialize(function(err) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.latestBlock(function(err, block) {\n      if (err) {\n        return callback(err);\n      }\n\n      var options = self.options;\n\n      var root = null;\n\n      if (block) {\n        root = block.header.stateRoot;\n      }\n\n      // I haven't yet found a good way to do this. Getting the trie from the\n      // forked blockchain without going through the other setup is a little gross.\n      self.stateTrie = self.createStateTrie(self.data.trie_db, root);\n\n      self.vm = options.vm || self.createVMFromStateTrie(self.stateTrie, true);\n\n      if (options.time) {\n        self.setTime(options.time);\n      }\n\n      // If we already have a block, then that means there's an existing chain.\n      // Don't create a genesis block.\n      if (block) {\n        self.emit(\"block\", block);\n        return callback();\n      }\n\n      self.createGenesisBlock(function(err, block) {\n        if (err) {\n          return callback(err);\n        }\n\n        accounts = accounts || [];\n\n        self.vm.stateManager.checkpoint(() => {\n          async.eachSeries(\n            accounts,\n            function(accountData, finished) {\n              self.vm.stateManager.putAccount(utils.toBuffer(accountData.address), accountData.account, finished);\n            },\n            function(err) {\n              if (err) {\n                return callback(err);\n              }\n\n              self.vm.stateManager.commit(() => {\n                // Create first block\n                self.putBlock(block, [], [], callback);\n              });\n            }\n          );\n        });\n      });\n    });\n  });\n};\n\nBlockchainDouble.prototype.createVMFromStateTrie = function(state, activatePrecompiles) {\n  const self = this;\n  const common = Common.forCustomChain(\n    \"mainnet\", // TODO needs to match chain id\n    {\n      name: \"ganache\",\n      networkId: self.options.network_id || self.forkVersion,\n      chainId: self.options._chainId,\n      comment: \"Local test network\",\n      bootstrapNodes: []\n    },\n    self.options.hardfork\n  );\n\n  const vm = new VM({\n    state: state,\n    common,\n    blockchain: {\n      // EthereumJS VM needs a blockchain object in order to get block information.\n      // When calling getBlock() it will pass a number that's of a Buffer type.\n      // Unfortunately, it uses a 64-character buffer (when converted to hex) to\n      // represent block numbers as well as block hashes. Since it's very unlikely\n      // any block number will get higher than the maximum safe Javascript integer,\n      // we can convert this buffer to a number ahead of time before calling our\n      // own getBlock(). If the conversion succeeds, we have a block number.\n      // If it doesn't, we have a block hash. (Note: Our implementation accepts both.)\n      getBlock: function(number, done) {\n        try {\n          number = to.number(number);\n        } catch (e) {\n          // Do nothing; must be a block hash.\n        }\n\n        self.getBlock(number, done);\n      }\n    },\n    activatePrecompiles: activatePrecompiles || false,\n    allowUnlimitedContractSize: self.options.allowUnlimitedContractSize\n  });\n\n  if (self.options.debug === true) {\n    // log executed opcodes, including args as hex\n    vm.on(\"step\", function(info) {\n      var name = info.opcode.name;\n      var argsNum = info.opcode.in;\n      if (argsNum) {\n        var args = info.stack\n          .slice(-argsNum)\n          .map((arg) => to.hex(arg))\n          .join(\" \");\n\n        self.logger.log(`${name} ${args}`);\n      } else {\n        self.logger.log(name);\n      }\n    });\n  }\n\n  return vm;\n};\n\nBlockchainDouble.prototype.createStateTrie = function(db, root) {\n  return new Trie(db, root);\n};\n\n// Overrideable so other implementations (forking) can edit it.\nBlockchainDouble.prototype.createGenesisBlock = function(callback) {\n  this.createBlock(callback);\n};\n\nBlockchainDouble.prototype.latestBlock = function(callback) {\n  this.data.blocks.last(function(err, last) {\n    if (err) {\n      return callback(err);\n    }\n    callback(null, last);\n  });\n};\n\n// number accepts number (integer, hex) or tag (e.g., \"latest\")\nBlockchainDouble.prototype.getEffectiveBlockNumber = function(number, callback) {\n  if (typeof number !== \"string\") {\n    number = to.hex(number);\n  }\n\n  // If we have a hex number\n  if (number.indexOf(\"0x\") >= 0) {\n    return callback(null, to.number(number));\n  } else {\n    if (number === \"latest\" || number === \"pending\") {\n      return this.getHeight(callback);\n    } else if (number === \"earliest\") {\n      return callback(null, 0);\n    }\n  }\n};\n\n// number accepts number (integer, hex), tag (e.g., \"latest\") or block hash\n// This function is used by ethereumjs-vm\nBlockchainDouble.prototype.getBlock = function(number, callback) {\n  var self = this;\n\n  if (typeof number !== \"string\") {\n    number = to.hex(number);\n  }\n\n  // If we have a hex number or a block hash\n  if (number.indexOf(\"0x\") >= 0) {\n    var hash = number;\n\n    // block hash\n    if (hash.length > 40) {\n      this.data.blockHashes.get(to.hex(hash), function(err, blockIndex) {\n        if (err) {\n          return callback(err);\n        }\n        return self.data.blocks.get(blockIndex, callback);\n      });\n    } else {\n      // Block number\n      return this.data.blocks.get(to.number(hash), callback);\n    }\n  } else {\n    if (number === \"latest\" || number === \"pending\") {\n      return this.latestBlock(callback);\n    } else if (number === \"earliest\") {\n      return this.data.blocks.first(callback);\n    } else {\n      process.nextTick(callback, new Error(\"Invalid `blockNumber`: \\\"\" + number + \"\\\"\"));\n    }\n  }\n};\n\nBlockchainDouble.prototype.putBlock = function(block, logs, receipts, callback) {\n  var self = this;\n\n  // Lock in the state root for this block.\n  block.header.stateRoot = this.stateTrie.root;\n\n  this.data.blocks.length(function(err, length) {\n    if (err) {\n      return callback(err);\n    }\n\n    var requests = [\n      self.data.blocks.push.bind(self.data.blocks, block),\n      self.data.blockLogs.push.bind(self.data.blockLogs, logs),\n      self.data.blockHashes.set.bind(self.data.blockHashes, to.hex(block.hash()), length)\n    ];\n\n    block.transactions.forEach(function(tx, index) {\n      var txHash = to.hex(tx.hash());\n      requests.push(\n        self.data.transactions.set.bind(self.data.transactions, txHash, tx),\n        self.data.transactionReceipts.set.bind(self.data.transactionReceipts, txHash, receipts[index])\n      );\n    });\n\n    async.parallel(requests, (err, result) => {\n      if (!err) {\n        self.emit(\"block\", block);\n      }\n      callback(err, result);\n    });\n  });\n};\n\nBlockchainDouble.prototype.popBlock = function(callback) {\n  var self = this;\n\n  this.data.blocks.last(function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n    if (block == null) {\n      return callback(null, null);\n    }\n\n    var requests = [];\n    var blockHash = to.hex(block.hash());\n\n    block.transactions.forEach(function(tx) {\n      var txHash = to.hex(tx.hash());\n\n      requests.push(\n        self.data.transactions.del.bind(self.data.transactions, txHash),\n        self.data.transactionReceipts.del.bind(self.data.transactionReceipts, txHash)\n      );\n    });\n\n    requests.push(\n      self.data.blockLogs.pop.bind(self.data.blockLogs),\n      self.data.blockHashes.del.bind(self.data.blockHashes, blockHash),\n      self.data.blocks.pop.bind(self.data.blocks) // Do this one last in case anything relies on it.\n    );\n\n    async.series(requests, function(err) {\n      if (err) {\n        return callback(err);\n      }\n\n      // Set the root to the last available, which will \"roll back\" to the previous\n      // moment in time. Note that all the old data is still in the db, but it's now just junk data.\n      self.data.blocks.last(function(err, newLastBlock) {\n        if (err) {\n          return callback(err);\n        }\n        // using setStateRoot because in the future it will automatically take care\n        // of clearing the cache for us.\n        // note setStateRoot checks for checkpoints, and if there are any, it will fail.\n        // At time of writing this comment, the only time there could be a checkpoint\n        // is in the middle of a vm.runBlock call. Once asyncRequestProcessing is reenabled\n        // this will likely cause problems.\n        self.vm.stateManager.setStateRoot(newLastBlock.header.stateRoot, function(err) {\n          // Remember: Return block we popped off.\n          callback(err, block);\n        });\n      });\n    });\n  });\n};\n\nBlockchainDouble.prototype.clearPendingTransactions = function() {\n  this.pending_transactions = [];\n};\n\n/**\n * createBlock\n *\n * Create a new block, where the parent's block is either the latest block\n * on the chain or the parent block passed in.\n *\n * @param  {Block}   parent   The block meant to be the parent block (optional)\n * @param  {Function} callback Callback function called after block is created\n * @return Block              The block created.\n */\nBlockchainDouble.prototype.createBlock = function(parent, emulateParent, callback) {\n  var self = this;\n\n  if (typeof parent === \"function\") {\n    callback = parent;\n    parent = null;\n    emulateParent = false;\n  } else if (typeof emulateParent === \"function\") {\n    callback = emulateParent;\n    emulateParent = false;\n  }\n\n  var block = new Block();\n\n  function getParent(callback) {\n    if (parent) {\n      return callback(null, parent);\n    } else {\n      self.latestBlock(callback);\n    }\n  }\n\n  getParent(function(err, parent) {\n    if (err) {\n      return callback(err);\n    }\n\n    block.header.gasLimit = self.blockGasLimit;\n\n    if (parent != null && emulateParent) {\n      block.header.number = parent.header.number;\n      block.header.timestamp = parent.header.timestamp;\n      block.header.parentHash = parent.header.parentHash;\n    } else {\n      var parentNumber = parent != null ? to.number(parent.header.number) : -1;\n\n      // Ensure we have the right block number for the VM.\n      block.header.number = to.hex(parentNumber + 1);\n\n      // Set the timestamp before processing txs\n      block.header.timestamp = to.hex(self.currentTime());\n\n      if (parent != null) {\n        block.header.parentHash = to.hex(parent.hash());\n      }\n    }\n\n    callback(null, block);\n  });\n};\n\nBlockchainDouble.prototype.getQueuedNonce = function(address, callback) {\n  var nonce = null;\n  var addressBuffer = to.buffer(address);\n  this.pending_transactions.forEach(function(tx) {\n    if (!tx.from.equals(addressBuffer)) {\n      return;\n    }\n\n    var pendingNonce = new BN(tx.nonce);\n    // If this is the first queued nonce for this address we found,\n    // or it's higher than the previous highest, note it.\n    if (nonce === null || pendingNonce.gt(nonce)) {\n      nonce = pendingNonce;\n    }\n  });\n\n  // If we found a queued transaction nonce, return one higher\n  // than the highest we found\n  if (nonce != null) {\n    return callback(null, nonce.iaddn(1).toArrayLike(Buffer));\n  }\n  this.stateTrie.get(addressBuffer, function(err, val) {\n    if (err) {\n      return callback(err);\n    }\n\n    var account = new Account(val);\n    // nonces are initiallized as an empty buffer, which isn't what we want.\n    callback(null, account.nonce.length === 0 ? Buffer.from([0]) : account.nonce);\n  });\n};\n\nBlockchainDouble.prototype.queueTransaction = function(tx) {\n  this.pending_transactions.push(tx);\n};\n\nBlockchainDouble.prototype.sortByPriceAndNonce = function() {\n  // Sorts transactions like I believe geth does.\n  // See the description of 'SortByPriceAndNonce' at\n  // https://github.com/ethereum/go-ethereum/blob/290e851f57f5d27a1d5f0f7ad784c836e017c337/core/types/transaction.go\n  var self = this;\n  var sortedByNonce = {};\n\n  self.pending_transactions.forEach((tx) => {\n    const from = tx.from.toString(\"hex\");\n    const arr = sortedByNonce[from];\n    if (arr) {\n      arr.push(tx);\n    } else {\n      sortedByNonce[from] = [tx];\n    }\n  });\n\n  var priceSort = function(a, b) {\n    return parseInt(to.hex(b.gasPrice), 16) - parseInt(to.hex(a.gasPrice), 16);\n  };\n  var nonceSort = function(a, b) {\n    return parseInt(to.hex(a.nonce), 16) - parseInt(to.hex(b.nonce), 16);\n  };\n\n  // Now sort each address by nonce\n  Object.keys(sortedByNonce).forEach((address) => {\n    sortedByNonce[address].sort(nonceSort);\n  });\n\n  // Initialise a heap, sorted by price, for the head transaction from each account.\n  var heap = new Heap(priceSort);\n  Object.keys(sortedByNonce).forEach((address) => {\n    heap.push(sortedByNonce[address].shift());\n  });\n\n  // Now reorder our transactions. Compare the next transactions from each account, and choose\n  // the one with the highest gas price.\n  const sortedTransactions = [];\n  while (heap.size() > 0) {\n    const best = heap.pop();\n    const address = best.from.toString(\"hex\");\n    if (sortedByNonce[address].length > 0) {\n      // Push on the next transaction from this account\n      heap.push(sortedByNonce[address].shift());\n    }\n    sortedTransactions.push(best);\n  }\n  self.pending_transactions = sortedTransactions;\n};\n\nBlockchainDouble.prototype.getReadyCall = function(tx, emulateParent, blockNumber, callback) {\n  const readyCall = (tx, err, parentBlock) => {\n    if (err) {\n      return callback(err);\n    }\n    // create a fake block with this fake transaction\n    this.createBlock(parentBlock, emulateParent, (err, newBlock) => {\n      if (err) {\n        return callback(err);\n      }\n\n      newBlock.transactions.push(tx);\n\n      // gas estimates and eth_calls aren't subject to block gas limits\n      newBlock.header.gasLimit = tx.gasLimit;\n\n      const runArgs = {\n        tx: tx,\n        block: newBlock,\n        skipBalance: true,\n        skipNonce: true\n      };\n\n      callback(null, parentBlock.header.stateRoot, runArgs);\n    });\n  };\n  // Delegate block selection\n  if (blockNumber === \"latest\") {\n    this.latestBlock(readyCall.bind(null, tx));\n  } else {\n    this.getBlock(blockNumber, readyCall.bind(null, tx));\n  }\n};\n\nBlockchainDouble.prototype.readyCall = function(tx, emulateParent, blockNumber, callback) {\n  this.getReadyCall(tx, emulateParent, blockNumber, (err, stateRoot, runArgs) => {\n    if (err) {\n      callback(err);\n      return;\n    }\n    const stateTrie = this.createStateTrie(this.data.trie_db, stateRoot, { persist: false });\n    const vm = this.createVMFromStateTrie(stateTrie);\n    callback(null, vm, runArgs);\n  });\n};\n\nBlockchainDouble.prototype.processCall = function(tx, blockNumber, callback) {\n  this.readyCall(tx, true, blockNumber, async(err, vm, runArgs) => {\n    if (err) {\n      callback(err);\n      return;\n    }\n\n    const result = await vm.runTx(runArgs).catch((vmerr) => ({ vmerr }));\n    let vmerr = result.vmerr;\n    // This is a check that has been in there for awhile. I'm unsure if it's required, but it can't hurt.\n    if (vmerr && vmerr instanceof Error === false) {\n      vmerr = new Error(\"VM error: \" + vmerr);\n    }\n\n    // If we're given an error back directly, it's worse than a runtime error. Expose it and get out.\n    if (vmerr) {\n      return callback(vmerr, err);\n    }\n\n    // If no error, check for a runtime error. This can return null if no runtime error.\n    vmerr = RuntimeError.fromResults([tx], { results: [result] });\n\n    callback(vmerr, result);\n  });\n};\n\nBlockchainDouble.prototype.estimateGas = function(tx, blockNumber, callback) {\n  this.getReadyCall(tx, false, blockNumber, (err, stateRoot, runArgs) => {\n    if (err) {\n      callback(err);\n      return;\n    }\n    const generateVM = () => {\n      const stateTrie = this.createStateTrie(this.data.trie_db, stateRoot);\n      return this.createVMFromStateTrie(stateTrie);\n    };\n    estimateGas(generateVM, runArgs, callback);\n  });\n};\n\n/**\n * processBlock\n *\n * Process the passed in block and included transactions\n *\n * @param  {VM} vm             the vm to use when running the block\n * @param  {Block} block       block to process\n * @param  {Boolean} commit    Whether or not changes should be committed to the state\n * trie and the block appended to the end of the chain.\n * @param  {Function} callback Callback function when transaction processing is completed.\n * @return [type]              [description]\n */\nBlockchainDouble.prototype.processBlock = async function(vm, block, commit, callback) {\n  var self = this;\n\n  if (typeof commit === \"function\") {\n    callback = commit;\n    commit = true;\n  }\n\n  const results = await vm\n    .runBlock({\n      block: block,\n      generate: true,\n      skipBlockValidation: true\n    })\n    .catch((vmerr) => ({ vmerr }));\n  let vmerr = results.vmerr;\n  // This is a check that has been in there for awhile. I'm unsure if it's required, but it can't hurt.\n  if (vmerr && vmerr instanceof Error === false) {\n    vmerr = new Error(\"VM error: \" + vmerr);\n  }\n\n  // If we're given an error back directly, it's worse than a runtime error. Expose it and get out.\n  if (vmerr) {\n    callback(vmerr);\n    return;\n  }\n  // If no error, check for a runtime error. This can return null if no runtime error.\n  vmerr = RuntimeError.fromResults(block.transactions, results);\n\n  // Note, even if we have an error, some transactions may still have succeeded.\n  // Process their logs if so, returning the error at the end.\n\n  var logs = [];\n  var receipts = [];\n\n  var totalBlockGasUsage = 0;\n\n  results.results.forEach(function(result) {\n    totalBlockGasUsage += to.number(result.gasUsed);\n  });\n\n  block.header.gasUsed = utils.toBuffer(to.hex(totalBlockGasUsage));\n\n  const txTrie = new Trie();\n  const rcptTrie = new Trie();\n  const promises = [];\n  const putInTrie = (trie, key, val) => promisify(trie.put.bind(trie))(key, val);\n\n  for (var v = 0; v < results.receipts.length; v++) {\n    var result = results.results[v];\n    var receipt = results.receipts[v];\n    var tx = block.transactions[v];\n    var txHash = tx.hash();\n    var txLogs = [];\n\n    // Only process the transaction's logs if it didn't error.\n    if (result.execResult.exceptionError === undefined) {\n      for (var i = 0; i < receipt.logs.length; i++) {\n        var receiptLog = receipt.logs[i];\n        var address = to.hex(receiptLog[0]);\n        var topics = [];\n\n        for (var j = 0; j < receiptLog[1].length; j++) {\n          topics.push(to.hex(receiptLog[1][j]));\n        }\n\n        var data = to.hex(receiptLog[2]);\n\n        var log = new Log({\n          logIndex: to.hex(i),\n          transactionIndex: to.hex(v),\n          transactionHash: txHash,\n          block: block,\n          address: address,\n          data: data,\n          topics: topics,\n          type: \"mined\"\n        });\n\n        logs.push(log);\n        txLogs.push(log);\n      }\n    }\n\n    const rcpt = new Receipt(\n      tx,\n      block,\n      txLogs,\n      result.gasUsed.toArrayLike(Buffer),\n      receipt.gasUsed,\n      result.createdAddress,\n      receipt.status,\n      to.hex(receipt.bitvector)\n    );\n    receipts.push(rcpt);\n\n    const rawReceipt = [receipt.status, receipt.gasUsed, receipt.bitvector, receipt.logs];\n    const rcptBuffer = utils.rlp.encode(rawReceipt);\n    const key = utils.rlp.encode(v);\n    promises.push(putInTrie(txTrie, key, tx.serialize()));\n    promises.push(putInTrie(rcptTrie, key, rcptBuffer));\n  }\n  await Promise.all(promises);\n\n  block.header.transactionsTrie = utils.toBuffer(txTrie.root);\n  block.header.receiptTrie = utils.toBuffer(rcptTrie.root);\n\n  if (commit) {\n    // Put that block on the end of the chain\n    self.putBlock(block, logs, receipts, done);\n  } else {\n    done();\n  }\n\n  function done(e) {\n    if (e) {\n      return callback(e);\n    }\n    // Note we return the vm err here too, if it exists.\n    callback(vmerr, block.transactions, results);\n  }\n};\n\n/**\n * processNextBlock\n *\n * Process the next block like a normal blockchain, pulling from the list of\n * pending transactions.\n *\n * @param  {number} timestamp at which the block is mined\n * @param  {Function} callback Callback when transaction processing is finished.\n * @return [type]              [description]\n */\nBlockchainDouble.prototype.processNextBlock = function(timestamp, callback) {\n  var self = this;\n\n  if (typeof timestamp === \"function\") {\n    callback = timestamp;\n    timestamp = undefined;\n  }\n\n  self.sortByPriceAndNonce();\n\n  // Grab only the transactions that can fit within the block\n  var currentTransactions = [];\n  var totalGasLimit = 0;\n  var maxGasLimit = to.number(self.blockGasLimit);\n\n  while (self.pending_transactions.length > 0) {\n    var tx = self.pending_transactions[0];\n    var gasLimit = to.number(tx.gasLimit);\n\n    if (totalGasLimit + gasLimit <= maxGasLimit) {\n      totalGasLimit += gasLimit;\n      self.pending_transactions.shift();\n      currentTransactions.push(tx);\n    } else {\n      // Next one won't fit. Break.\n      break;\n    }\n  }\n\n  // Remember, we ensured transactions had a valid gas limit when they were queued (in the state manager).\n  // If we run into a case where we can't process any because one is higher than the gas limit,\n  // then it's a serious issue. This should never happen, but let's check anyway.\n  if (currentTransactions.length === 0 && self.pending_transactions.length > 0) {\n    // Error like geth.\n    var error = \"Unexpected error condition: next transaction exceeds block gas limit\";\n    return callback(error);\n  }\n\n  // Create a new block meant to be the end of the chain\n  this.createBlock(function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n\n    // Overwrite block timestamp\n    if (timestamp) {\n      self.data.blocks.last(function(err, last) {\n        if (err) {\n          // it is safe to ignore this error as we only use the result\n          // to log a warning to the console.\n          return;\n        }\n        if (last && to.number(last.header.timestamp) > timestamp) {\n          self.logger.log(\n            \"Waring: Setting the block timestamp (\" + timestamp + \") that is earlier than the parent block one.\"\n          );\n        }\n      });\n      block.header.timestamp = to.hex(timestamp);\n      self.setTime(new Date(timestamp * 1000));\n    }\n    // Add transactions to the block.\n    Array.prototype.push.apply(block.transactions, currentTransactions);\n\n    self.processBlock(self.vm, block, true, callback);\n  });\n};\n\n/**\n * processTransactionTrace\n *\n * Run a previously-run transaction in the same state in which it occurred at the time it was run.\n * This will return the vm-level trace output for debugging purposes.\n *\n * Strategy:\n *\n *  1. Find block where transaction occurred\n *  2. Set state root of that block\n *  3. Rerun every transaction in that block prior to and including the requested transaction\n *  4. Send trace results back.\n *\n * @param  {[type]}   tx       [description]\n * @param  {Function} callback [description]\n * @return [type]              [description]\n */\nBlockchainDouble.prototype.processTransactionTrace = async function(hash, params, callback) {\n  const self = this;\n  const targetHash = to.hex(hash);\n  let txHashCurrentlyProcessing = \"\";\n  let txCurrentlyProcessing = null;\n  let vm;\n\n  const storageStack = {\n    currentDepth: -1,\n    stack: []\n  };\n\n  const returnVal = {\n    gas: 0,\n    returnValue: \"\",\n    structLogs: []\n  };\n\n  function stepListener(event, next) {\n    // See these docs:\n    // https://github.com/ethereum/go-ethereum/wiki/Management-APIs\n\n    const gasLeft = to.number(event.gasLeft);\n    const totalGasUsedAfterThisStep = to.number(txCurrentlyProcessing.gasLimit) - gasLeft;\n    const gasUsedPreviousStep = totalGasUsedAfterThisStep - returnVal.gas;\n    returnVal.gas += gasUsedPreviousStep;\n\n    let memory = null;\n    if (!params.disableMemory) {\n      // Get memory and break it up into 32-byte words.\n      // Note we may possibly have to pad the final word.\n      memory = Buffer.from(event.memory).toString(\"hex\");\n      memory = memory.match(/.{1,64}/g) || [];\n\n      if (memory.length > 0) {\n        const lastItem = memory[memory.length - 1];\n        if (lastItem.length < 64) {\n          memory[memory.length - 1] = lastItem + new Array(64 - lastItem.length + 1).join(\"0\");\n        }\n      }\n    }\n\n    let stack = null;\n    if (!params.disableStack) {\n      stack = event.stack.map((item) => {\n        return to.rpcDataHexString(item, 64).replace(\"0x\", \"\"); // non-0x prefixed.\n      });\n    }\n    let structLog = {\n      depth: event.depth,\n      error: \"\",\n      gas: gasLeft,\n      gasCost: 0,\n      memory,\n      op: event.opcode.name,\n      pc: event.pc,\n      stack,\n      storage: null\n    };\n\n    // The gas difference calculated for each step is indicative of gas consumed in\n    // the previous step. Gas consumption in the final step will always be zero.\n    if (returnVal.structLogs.length) {\n      returnVal.structLogs[returnVal.structLogs.length - 1].gasCost = gasUsedPreviousStep;\n    }\n\n    if (params.disableStorage) {\n      returnVal.structLogs.push(structLog);\n      next();\n    } else {\n      structLog = self.processStorageTrace(structLog, storageStack, event, vm, function(err, structLog) {\n        if (err) {\n          return next(err);\n        }\n        returnVal.structLogs.push(structLog);\n        next();\n      });\n    }\n  }\n\n  // #1 - get block via transaction receipt\n  this.getTransactionReceipt(targetHash, function(err, receipt) {\n    if (err) {\n      return callback(err);\n    }\n\n    if (!receipt) {\n      return callback(new Error(\"Unknown transaction \" + targetHash));\n    }\n\n    const targetBlock = receipt.block;\n\n    // Get the parent of the target block\n    self.getBlock(targetBlock.header.parentHash, function(err, parent) {\n      if (err) {\n        return callback(err);\n      }\n\n      // #2 - Set state root of original block\n      var stateTrie = self.createStateTrie(self.data.trie_db, parent.header.stateRoot, {\n        // when forking we need to make sure we also copy over the forkBlockNumber,\n        // otherwise some operations will request data from the main chain at the\n        // latest block\n        forkBlockNumber: to.number(parent.header.number)\n      });\n      vm = self.createVMFromStateTrie(stateTrie);\n\n      // Prepare the \"next\" block with necessary transactions\n      self.createBlock(parent, false, function(err, block) {\n        if (err) {\n          return callback(err);\n        }\n\n        // make sure we use the same timestamp as the target block\n        block.header.timestamp = targetBlock.header.timestamp;\n\n        for (var i = 0; i < targetBlock.transactions.length; i++) {\n          var tx = targetBlock.transactions[i];\n          block.transactions.push(tx);\n\n          // After including the target transaction, that's all we need to do.\n          if (to.hex(tx.hash()) === targetHash) {\n            break;\n          }\n        }\n\n        function beforeTxListener(tx) {\n          txCurrentlyProcessing = tx;\n          txHashCurrentlyProcessing = to.hex(tx.hash());\n          if (txHashCurrentlyProcessing === targetHash) {\n            vm.on(\"step\", stepListener);\n          }\n        }\n\n        // afterTxListener cleans up everything.\n        function afterTxListener() {\n          if (txHashCurrentlyProcessing === targetHash) {\n            removeListeners();\n          }\n        }\n\n        function removeListeners() {\n          vm.removeListener(\"step\", stepListener);\n          vm.removeListener(\"beforeTx\", beforeTxListener);\n          vm.removeListener(\"afterTx\", afterTxListener);\n        }\n\n        // Listen to beforeTx and afterTx so we know when our target transaction\n        // is processing. These events will add the event listener for getting the trace data.\n        vm.on(\"beforeTx\", beforeTxListener);\n        vm.on(\"afterTx\", afterTxListener);\n\n        // Don't even let the vm try to flush the block's _cache to the stateTrie.\n        // When forking some of the data that the traced function may request will\n        // exist only on the main chain. Because we pretty much lie to the VM by\n        // telling it we DO have data in our Trie, when we really don't, it gets\n        // lost during the commit phase when it traverses the \"borrowed\" data's\n        // trie (as it may not have a valid root). Because this is a trace, and we\n        // don't need to commit the data, duck punching the `flush` method (the\n        // simplest method I could find) is fine.\n        // Remove this and you may see the infamous\n        // `Uncaught TypeError: Cannot read property 'pop' of undefined` error!\n        vm.stateManager._cache.flush = (cb) => cb();\n\n        // #3 - Process the block without committing the data.\n        self.processBlock(vm, block, false, function(err) {\n          // Ignore runtime errors, or else erroneous transactions can't be traced.\n          if (err && err.message.indexOf(\"VM Exception\") === 0) {\n            err = null;\n          }\n\n          // Just to be safe\n          removeListeners();\n\n          // #4 - send state results back\n          callback(err, returnVal);\n        });\n      });\n    });\n  });\n};\n\nBlockchainDouble.prototype.processStorageTrace = function(structLog, storageStack, event, vm, callback) {\n  var name = event.opcode.name;\n\n  if (storageStack.currentDepth > event.depth) {\n    storageStack.stack.pop();\n  }\n  if (storageStack.currentDepth < event.depth) {\n    storageStack.stack.push({});\n  }\n\n  storageStack.currentDepth = event.depth;\n\n  var key;\n  var value;\n  switch (name) {\n    case \"SSTORE\":\n      {\n        const stack = event.stack;\n        const stackLength = stack.length;\n        key = to.rpcDataHexString(stack[stackLength - 1], 64).replace(\"0x\", \"\");\n        value = to.rpcDataHexString(stack[stackLength - 2], 64).replace(\"0x\", \"\");\n        // use Object.assign to prevent future steps from overwriting this step's storage values\n        structLog.storage = Object.assign({}, storageStack.stack[storageStack.currentDepth]);\n\n        callback(null, structLog);\n        // assign after callback because this storage change actually takes\n        // effect _after_ this opcode executes\n        storageStack.stack[storageStack.currentDepth][key] = value;\n      }\n      break;\n    case \"SLOAD\":\n      {\n        const stack = event.stack;\n        // this one's more fun, we need to get the value the contract is loading from current storage\n        key = to.rpcDataHexString(stack[stack.length - 1], 64).replace(\"0x\", \"\");\n\n        vm.stateManager.getContractStorage(event.address, Buffer.from(key, \"hex\"), function(err, result) {\n          if (err) {\n            return callback(err);\n          }\n\n          value = to.rpcDataHexString(result, 64).replace(\"0x\", \"\");\n          storageStack.stack[storageStack.currentDepth][key] = value;\n          // use Object.assign to prevent future steps from overwriting this step's storage values\n          structLog.storage = Object.assign({}, storageStack.stack[storageStack.currentDepth]);\n          callback(null, structLog);\n        });\n      }\n      break;\n    default:\n      // use Object.assign to prevent future steps from overwriting this step's storage values\n      structLog.storage = Object.assign({}, storageStack.stack[storageStack.currentDepth]);\n      callback(null, structLog);\n  }\n};\n\nBlockchainDouble.prototype.getAccount = function(address, number, callback) {\n  var self = this;\n\n  this.getBlock(number, function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n\n    var trie = self.stateTrie;\n\n    // Manipulate the state root in place to maintain checkpoints\n    var currentStateRoot = trie.root;\n    self.stateTrie.root = block.header.stateRoot;\n\n    trie.get(utils.toBuffer(address), function(err, data) {\n      // Finally, put the stateRoot back for good\n      trie.root = currentStateRoot;\n\n      if (err) {\n        return callback(err);\n      }\n\n      var account = new Account(data);\n\n      callback(null, account);\n    });\n  });\n};\n\nBlockchainDouble.prototype.getNonce = function(address, number, callback) {\n  this.getAccount(address, number, function(err, account) {\n    if (err) {\n      return callback(err);\n    }\n    callback(null, account.nonce);\n  });\n};\n\nBlockchainDouble.prototype.getBalance = function(address, number, callback) {\n  this.getAccount(address, number, function(err, account) {\n    if (err) {\n      return callback(err);\n    }\n\n    callback(null, account.balance);\n  });\n};\n\n// Note! Storage values are returned RLP encoded!\nBlockchainDouble.prototype.getStorage = function(address, position, number, callback) {\n  var self = this;\n\n  this.getBlock(number, function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n\n    var trie = self.stateTrie;\n\n    // Manipulate the state root in place to maintain checkpoints\n    var currentStateRoot = trie.root;\n    self.stateTrie.root = block.header.stateRoot;\n\n    trie.get(utils.toBuffer(address), function(err, data) {\n      if (err != null) {\n        // Put the stateRoot back if there's an error\n        trie.root = currentStateRoot;\n        return callback(err);\n      }\n\n      var account = new Account(data);\n\n      trie.root = account.stateRoot;\n\n      trie.get(utils.setLengthLeft(utils.toBuffer(position), 32), function(err, value) {\n        // Finally, put the stateRoot back for good\n        trie.root = currentStateRoot;\n\n        if (err != null) {\n          return callback(err);\n        }\n\n        callback(null, value);\n      });\n    });\n  });\n};\n\nBlockchainDouble.prototype.getCode = function(address, number, callback) {\n  var self = this;\n\n  this.getBlock(number, function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n\n    var trie = self.stateTrie;\n\n    // Manipulate the state root in place to maintain checkpoints\n    var currentStateRoot = trie.root;\n    self.stateTrie.root = block.header.stateRoot;\n\n    trie.get(utils.toBuffer(address), function(err, data) {\n      if (err != null) {\n        // Put the stateRoot back if there's an error\n        trie.root = currentStateRoot;\n        return callback(err);\n      }\n\n      var account = new Account(data);\n\n      account.getCode(trie, function(err, code) {\n        // Finally, put the stateRoot back for good\n        trie.root = currentStateRoot;\n\n        if (err) {\n          return callback(err);\n        }\n\n        callback(null, code);\n      });\n    });\n  });\n};\n\nBlockchainDouble.prototype.getTransaction = function(hash, callback) {\n  hash = to.hex(hash);\n\n  this.data.transactions.get(hash, function(err, tx) {\n    if (err) {\n      if (err.notFound) {\n        return callback(null, null);\n      } else {\n        return callback(err);\n      }\n    }\n    callback(null, tx);\n  });\n};\n\nBlockchainDouble.prototype.getTransactionReceipt = function(hash, callback) {\n  hash = to.hex(hash);\n  const pendingTxs = this.pending_transactions;\n\n  for (var i = 0; i < pendingTxs.length; i++) {\n    const pendingTxHash = to.hex(pendingTxs[i].hash());\n    if (hash === pendingTxHash) {\n      return callback(null, { tx: pendingTxs[i] });\n    }\n  }\n\n  this.data.transactionReceipts.get(hash, function(err, receipt) {\n    if (err) {\n      if (err.notFound) {\n        return callback(null, null);\n      } else {\n        return callback(err);\n      }\n    }\n\n    callback(err, receipt);\n  });\n};\n\nBlockchainDouble.prototype.getBlockLogs = function(number, callback) {\n  var self = this;\n  this.getEffectiveBlockNumber(number, function(err, effective) {\n    if (err) {\n      return callback(err);\n    }\n    self.data.blockLogs.get(effective, callback);\n  });\n};\n\nBlockchainDouble.prototype.getHeight = function(callback) {\n  this.data.blocks.length(function(err, length) {\n    if (err) {\n      return callback(err);\n    }\n    callback(null, length - 1);\n  });\n};\n\nBlockchainDouble.prototype.currentTime = function() {\n  return ((new Date().getTime() / 1000) | 0) + this.timeAdjustment;\n};\n\nBlockchainDouble.prototype.increaseTime = function(seconds) {\n  if (seconds < 0) {\n    seconds = 0;\n  }\n  this.timeAdjustment += seconds;\n  return this.timeAdjustment;\n};\n\nBlockchainDouble.prototype.setTime = function(date) {\n  var now = (new Date().getTime() / 1000) | 0;\n  var start = (date.getTime() / 1000) | 0;\n  this.timeAdjustment = start - now;\n};\n\nBlockchainDouble.prototype.close = function(callback) {\n  this.data.close(callback);\n};\n\nmodule.exports = BlockchainDouble;\n","module.exports = require(\"merkle-patricia-tree\");","module.exports = require(\"fs\");","module.exports = require(\"tmp\");","// var to = require(\"../utils/to\");\nvar Transaction = require(\"../utils/transaction\");\nvar Common = require(\"ethereumjs-common\").default;\nvar ethUtil = require(\"ethereumjs-util\");\n\nconst decode = function(json, done) {\n  const options = {\n    hash: json.hash,\n    nonce: json.nonce,\n    value: json.value,\n    to: json.to,\n    from: json.from,\n    gasLimit: json.gas || json.gasLimit,\n    gasPrice: json.gasPrice,\n    data: json.data,\n    v: json.v,\n    r: json.r,\n    s: json.s\n  };\n\n  const sigV = ethUtil.bufferToInt(options.v);\n  let chainId = Math.floor((sigV - 35) / 2);\n  if (chainId < 0) {\n    chainId = 0;\n  }\n\n  const commonOptions = {\n    name: \"ganache\",\n    chainId,\n    networkId: 1,\n    comment: \"Local test network\"\n  };\n\n  let hardfork = \"muirGlacier\";\n  if (json._options) {\n    hardfork = json._options.hardfork;\n    commonOptions.chainId = json._options.chainId;\n    commonOptions.networkId = json._options.networkId;\n  }\n\n  const common = Common.forCustomChain(\n    \"mainnet\", // TODO needs to match chain id\n    commonOptions,\n    hardfork\n  );\n  // databases generated before ganache-core@2.3.2 didn't have a `_type` and\n  // and were always fake signed. So if _type is undefined it is \"fake\" (even\n  // if we have a valid signature that can generate the tx's `from`).\n  const type = json._type === undefined ? Transaction.types.fake : json._type;\n  const tx = Transaction.fromJSON(options, type, common);\n\n  // Commenting this out because we don't want to throw if the json.hash we\n  // put in is different that the tx.hash() calculation we now have. There\n  // may have been bug fixes to the way transactions are hashed in future\n  // versions of ganache-core, but we still want tobe able to read in\n  // transactions from previously saved databases!\n  // if (to.hex(tx.hash()) !== json.hash) {\n  //   const e = new Error(\n  //     \"DB consistency check: Decoded transaction hash \" +\n  //       \"didn't match encoded hash. Expected: \" +\n  //       json.hash +\n  //       \"; actual: \" +\n  //       to.hex(tx.hash())\n  //   );\n  //   return done(e);\n  // }\n\n  done(null, tx);\n};\n\nconst encode = function(tx, done) {\n  const encoded = tx.encode();\n  done(null, encoded);\n};\n\nmodule.exports = {\n  encode,\n  decode\n};\n","module.exports = require(\"web3-core-helpers\");","module.exports = require(\"web3-core-method\");","module.exports = require(\"web3-net\");","module.exports = require(\"web3-eth-personal\");","var inherits = require(\"util\").inherits;\n\n// raised when the transaction is rejected prior to running it in the EVM.\nfunction TXRejectedError(message) {\n  // Why not just Error.apply(this, [message])? See\n  // https://gist.github.com/justmoon/15511f92e5216fa2624b#anti-patterns\n  Error.captureStackTrace(this, this.constructor);\n  this.name = this.constructor.name;\n  this.message = message;\n}\n\ninherits(TXRejectedError, Error);\n\nmodule.exports = TXRejectedError;\n","var to = require(\"./to\");\n\nmodule.exports = {\n  toJSON: function(block, includeFullTransactions) {\n    return {\n      number: to.rpcQuantityHexString(block.header.number),\n      hash: to.hex(block.hash()),\n      parentHash: to.hex(block.header.parentHash), // common.hash\n      mixHash: to.hex(block.header.mixHash),\n      nonce: to.rpcDataHexString(to.hex(block.header.nonce), 16),\n      sha3Uncles: to.hex(block.header.uncleHash),\n      logsBloom: to.hex(block.header.bloom),\n      transactionsRoot: to.hex(block.header.transactionsTrie),\n      stateRoot: to.hex(block.header.stateRoot),\n      receiptsRoot: to.hex(block.header.receiptTrie),\n      miner: to.hex(block.header.coinbase),\n      difficulty: to.rpcQuantityHexString(block.header.difficulty),\n      totalDifficulty: to.rpcQuantityHexString(block.header.difficulty), // TODO: Figure out what to do here.\n      extraData: to.rpcDataHexString(block.header.extraData),\n      size: to.hex(1000), // TODO: Do something better here\n      gasLimit: to.rpcQuantityHexString(block.header.gasLimit),\n      gasUsed: to.rpcQuantityHexString(block.header.gasUsed),\n      timestamp: to.rpcQuantityHexString(block.header.timestamp),\n      transactions: block.transactions.map(function(tx) {\n        if (includeFullTransactions) {\n          return tx.toJsonRpc(block);\n        } else {\n          return to.hex(tx.hash());\n        }\n      }),\n      uncles: [] // block.uncleHeaders.map(function(uncleHash) {return to.hex(uncleHash)})\n    };\n  }\n};\n","// make sourcemaps work!\nrequire(\"source-map-support/register\");\n\nconst Provider = require(\"./lib/provider\");\nconst Server = require(\"./lib/server\");\n\n// This interface exists so as not to cause breaking changes.\nmodule.exports = {\n  server: function(options) {\n    return Server.create(options);\n  },\n  provider: function(options) {\n    return new Provider(options);\n  },\n  _webpacked: true\n};\n","module.exports = require(\"web3-provider-engine\");","module.exports = require(\"web3-provider-engine/subproviders/subscriptions\");","var Subprovider = require(\"web3-provider-engine/subproviders/subprovider.js\");\nvar inherits = require(\"util\").inherits;\n\ninherits(RequestFunnel, Subprovider);\n\nmodule.exports = RequestFunnel;\n\n// See if any payloads for the specified methods are marked as external.\n// If they are external, and match the method list, process them one at\n// a time.\nfunction RequestFunnel() {\n  // We use an object here for O(1) lookups (speed).\n  this.methods = {\n    eth_call: true,\n    eth_getStorageAt: true,\n    eth_sendTransaction: true,\n    eth_sendRawTransaction: true,\n\n    // Ensure block filter and filter changes are process one at a time\n    // as well so filter requests that come in after a transaction get\n    // processed once that transaction has finished processing.\n    eth_newBlockFilter: true,\n    eth_getFilterChanges: true,\n    eth_getFilterLogs: true\n  };\n  this.queue = [];\n  this.isWorking = false;\n}\n\nRequestFunnel.prototype.handleRequest = function(payload, next, end) {\n  if (payload.external !== true || this.methods[payload.method] !== true) {\n    return next();\n  }\n\n  this.queue.push([payload, next]);\n\n  if (this.isWorking === false) {\n    this.processNext();\n  }\n};\n\nRequestFunnel.prototype.processNext = function() {\n  var self = this;\n\n  if (this.queue.length === 0) {\n    this.isWorking = false;\n    return;\n  }\n\n  this.isWorking = true;\n\n  var item = this.queue.shift();\n  var next = item[1];\n\n  next(function(error, request, cb) {\n    if (error) {\n      return cb(error);\n    }\n    cb();\n    self.processNext();\n  });\n};\n","// It's unforutnate we have to have this subprovider, but it's because\n// we instamine, and web3 isn't written in a way that supports instamining\n// (i.e., it sets up the filter after the transaction has been processed).\n// This block filter will ensure that each block filter will always see\n// the change from the last block to the current block.\n//\n// Note: An added benefit of this is that it shaves off a signifcant\n// amount of time from tests that use web3 and block filters.\n\nvar Subprovider = require(\"web3-provider-engine/subproviders/subprovider.js\");\nvar inherits = require(\"util\").inherits;\nvar async = require(\"async\");\nvar to = require(\"../utils/to\");\n\ninherits(DelayedBlockFilter, Subprovider);\n\nmodule.exports = DelayedBlockFilter;\n\nfunction DelayedBlockFilter() {\n  this.watching = {};\n}\n\nDelayedBlockFilter.prototype.handleRequest = function(payload, next, end) {\n  if (payload.method === \"eth_newBlockFilter\") {\n    return this.handleNewBlockFilter(payload, next, end);\n  }\n  if (payload.method === \"eth_getFilterChanges\") {\n    return this.handleGetFilterChanges(payload, next, end);\n  }\n\n  next();\n};\n\nDelayedBlockFilter.prototype.handleNewBlockFilter = function(payload, next, end) {\n  var self = this;\n\n  // Let this filter process and add it to our watch list.\n  next(function(err, result, cb) {\n    if (err) {\n      return cb();\n    }\n    self.watching[result] = true;\n    cb();\n  });\n};\n\nDelayedBlockFilter.prototype.handleGetFilterChanges = function(payload, next, end) {\n  var self = this;\n  var filterId = payload.params[0];\n\n  if (!this.watching[filterId]) {\n    return next();\n  }\n\n  // Get the changes, and then alter the result.\n  next(function(err, result, cb) {\n    if (err) {\n      return cb();\n    }\n\n    var currentBlockHash;\n    var previousBlockHash;\n    var blockNumber;\n\n    async.series(\n      [\n        function(c) {\n          // If we have a result, use it.\n          if (result.length !== 0) {\n            currentBlockHash = result[0];\n            c();\n          } else {\n            // Otherwise, get the current block number.\n            self.emitPayload(\n              {\n                method: \"eth_blockNumber\"\n              },\n              function(err, res) {\n                if (err) {\n                  return c(err);\n                }\n                blockNumber = to.number(res.result);\n                c();\n              }\n            );\n          }\n        },\n        function(c) {\n          // If we got a block number above, meaning, we didn't get a block hash,\n          // skip this step.\n          if (blockNumber) {\n            return c();\n          }\n\n          // If not skipped, then we got a block hash, and we need to get a block number from it.\n          self.emitPayload(\n            {\n              method: \"eth_getBlockByHash\",\n              params: [currentBlockHash, false]\n            },\n            function(err, res) {\n              if (err) {\n                return c(err);\n              }\n              blockNumber = to.number(res.result.number);\n              c();\n            }\n          );\n        },\n        function(c) {\n          // If we're at block 0, return no changes. See final function below.\n          blockNumber = to.number(blockNumber);\n          if (blockNumber === 0) {\n            previousBlockHash = undefined;\n            return c();\n          }\n\n          // If at this point, we do have a block number, so let's subtract one\n          // from it and get the block hash of the block before it.\n          blockNumber = blockNumber - 1;\n          self.emitPayload(\n            {\n              method: \"eth_getBlockByNumber\",\n              params: [blockNumber, false]\n            },\n            function(err, res) {\n              if (err) {\n                return c(err);\n              }\n              previousBlockHash = res.result.hash;\n              c();\n            }\n          );\n        }\n      ],\n      function(err) {\n        if (err) {\n          // Unfortunately the subprovider code doesn't let us return an error\n          // through the callback cb(). So we'll just ignore it.... (famous last words).\n        }\n\n        // If we got the previous block, use it. Otherwise do nothing.\n        // Then stop watching because we only want on getFilterChanges to react this way.\n        if (previousBlockHash) {\n          result[0] = previousBlockHash;\n        }\n\n        delete self.watching[filterId];\n        cb();\n      }\n    );\n  });\n};\n","var Subprovider = require(\"web3-provider-engine/subproviders/subprovider.js\");\nvar inherits = require(\"util\").inherits;\n\ninherits(GethDefaults, Subprovider);\n\nmodule.exports = GethDefaults;\n\nfunction GethDefaults() {}\n\n// Massage eth_estimateGas requests, setting default data (e.g., from) if\n// not specified. This is here specifically to make the testrpc\n// react like Geth.\nGethDefaults.prototype.handleRequest = function(payload, next, end) {\n  if (payload.method !== \"eth_estimateGas\" && payload.method !== \"eth_call\") {\n    return next();\n  }\n\n  var params = payload.params[0];\n\n  if (params.from == null) {\n    this.emitPayload(\n      {\n        method: \"eth_coinbase\"\n      },\n      function(err, result) {\n        if (err) {\n          return end(err);\n        }\n\n        var coinbase = result.result;\n\n        params.from = coinbase;\n        next();\n      }\n    );\n  } else {\n    next();\n  }\n};\n","var utils = require(\"ethereumjs-util\");\nvar inherits = require(\"util\").inherits;\nvar StateManager = require(\"../statemanager.js\");\nvar to = require(\"../utils/to\");\nvar TXRejectedError = require(\"../utils/txrejectederror\");\n\nvar blockHelper = require(\"../utils/block_helper\");\nvar pkg = require(\"../../package.json\");\nconst { BlockOutOfRangeError } = require(\"../utils/errorhelper\");\n\nvar Subprovider = require(\"web3-provider-engine/subproviders/subprovider.js\");\n\nconst maxSafeInt = \"0x\" + Number.MAX_SAFE_INTEGER.toString(16);\nconst vrs = [\"v\", \"r\", \"s\"];\n\ninherits(GethApiDouble, Subprovider);\n\nfunction GethApiDouble(options, provider) {\n  var self = this;\n\n  this.state = options.state || new StateManager(options, provider);\n  this.options = options;\n  this.initialized = false;\n\n  this.initialization_error = null;\n  this.post_initialization_callbacks = [];\n\n  this.state.initialize(function(err) {\n    if (err) {\n      self.initialization_error = err;\n    }\n    self.initialized = true;\n\n    var callbacks = self.post_initialization_callbacks;\n    self.post_initialization_callbacks = [];\n\n    callbacks.forEach(function(callback) {\n      setImmediate(function() {\n        callback(self.initialization_error, self.state);\n      });\n    });\n  });\n}\n\nGethApiDouble.prototype.waitForInitialization = function(callback) {\n  var self = this;\n  if (self.initialized === false) {\n    self.post_initialization_callbacks.push(callback);\n  } else {\n    callback(self.initialization_error, self.state);\n  }\n};\n\n// Function to not pass methods through until initialization is finished\nGethApiDouble.prototype.handleRequest = function(payload, next, end) {\n  var self = this;\n\n  if (self.initialization_error != null) {\n    return end(self.initialization_error);\n  }\n\n  if (self.initialized === false) {\n    self.waitForInitialization(self.getDelayedHandler(payload, next, end));\n    return;\n  }\n\n  var method = self[payload.method];\n\n  if (method == null) {\n    return end(new Error(\"Method \" + payload.method + \" not supported.\"));\n  }\n\n  var params = payload.params || [];\n  var args = [].concat(params);\n\n  var addedBlockParam = false;\n\n  if (self.requiresDefaultBlockParameter(payload.method) && args.length < method.length - 1) {\n    args.push(\"latest\");\n    addedBlockParam = true;\n  }\n\n  args.push(end);\n\n  // avoid crash by checking to make sure that we haven't specified too many arguments\n  if (\n    args.length > method.length ||\n    (method.minLength !== undefined && args.length < method.minLength) ||\n    (method.minLength === undefined && args.length < method.length)\n  ) {\n    var errorMessage = `Incorrect number of arguments. Method '${payload.method}' requires `;\n    if (method.minLength) {\n      errorMessage += `between ${method.minLength - 1} and ${method.length - 1} arguments. `;\n    } else {\n      errorMessage += `exactly ${method.length - 1} arguments. `;\n    }\n\n    if (addedBlockParam) {\n      errorMessage += \"Including the implicit block argument, r\";\n    } else {\n      // new sentence, capitalize it.\n      errorMessage += \"R\";\n    }\n    errorMessage += `equest specified ${args.length - 1} arguments: ${JSON.stringify(args)}.`;\n\n    return end(new Error(errorMessage));\n  }\n\n  method.apply(self, args);\n};\n\nGethApiDouble.prototype.getDelayedHandler = function(payload, next, end) {\n  var self = this;\n  return function(err, state) {\n    if (err) {\n      end(err);\n    }\n    self.handleRequest(payload, next, end);\n  };\n};\n\nGethApiDouble.prototype.requiresDefaultBlockParameter = function(method) {\n  // object for O(1) lookup.\n  var methods = {\n    eth_getBalance: true,\n    eth_getCode: true,\n    eth_getTransactionCount: true,\n    eth_getStorageAt: true,\n    eth_call: true,\n    eth_estimateGas: true\n  };\n\n  return methods[method] === true;\n};\n\n// Handle individual requests.\n\nGethApiDouble.prototype.eth_accounts = function(callback) {\n  callback(null, Object.keys(this.state.accounts));\n};\n\nGethApiDouble.prototype.eth_blockNumber = function(callback) {\n  this.state.blockNumber(function(err, result) {\n    if (err) {\n      return callback(err);\n    }\n    callback(null, to.hex(result));\n  });\n};\n\nGethApiDouble.prototype.eth_chainId = function(callback) {\n  callback(null, to.hex(this.options._chainIdRpc));\n};\n\nGethApiDouble.prototype.eth_coinbase = function(callback) {\n  callback(null, this.state.coinbase);\n};\n\nGethApiDouble.prototype.eth_mining = function(callback) {\n  callback(null, this.state.is_mining);\n};\n\nGethApiDouble.prototype.eth_hashrate = function(callback) {\n  callback(null, \"0x0\");\n};\n\nGethApiDouble.prototype.eth_gasPrice = function(callback) {\n  callback(null, utils.addHexPrefix(this.state.gasPrice()));\n};\n\nGethApiDouble.prototype.eth_getBalance = function(address, blockNumber, callback) {\n  this.state.getBalance(address, blockNumber, callback);\n};\n\nGethApiDouble.prototype.eth_getCode = function(address, blockNumber, callback) {\n  this.state.getCode(address, blockNumber, callback);\n};\n\nGethApiDouble.prototype.eth_getBlockByNumber = function(blockNumber, includeFullTransactions, callback) {\n  this.state.blockchain.getBlock(blockNumber, function(err, block) {\n    if (err) {\n      if (err instanceof BlockOutOfRangeError) {\n        return callback(null, null);\n      } else {\n        return callback(err);\n      }\n    }\n\n    callback(null, blockHelper.toJSON(block, includeFullTransactions));\n  });\n};\n\nGethApiDouble.prototype.eth_getBlockByHash = function(txHash, includeFullTransactions, callback) {\n  this.eth_getBlockByNumber.apply(this, arguments);\n};\n\nGethApiDouble.prototype.eth_getBlockTransactionCountByNumber = function(blockNumber, callback) {\n  this.state.blockchain.getBlock(blockNumber, function(err, block) {\n    if (err) {\n      if (err instanceof BlockOutOfRangeError) {\n        // block doesn't exist\n        return callback(null, null);\n      }\n      return callback(err);\n    }\n    callback(null, to.rpcQuantityHexString(block.transactions.length));\n  });\n};\n\nGethApiDouble.prototype.eth_getBlockTransactionCountByHash = function(blockHash, callback) {\n  this.eth_getBlockTransactionCountByNumber.apply(this, arguments);\n};\n\nGethApiDouble.prototype.eth_getTransactionReceipt = function(hash, callback) {\n  this.state.getTransactionReceipt(hash, function(err, receipt) {\n    if (err) {\n      return callback(err);\n    }\n\n    var result = null;\n\n    if (receipt && receipt.block) {\n      result = receipt.toJSON();\n      vrs.forEach((element) => {\n        delete result[element];\n      });\n    }\n    callback(null, result);\n  });\n};\n\nGethApiDouble.prototype.eth_getTransactionByHash = function(hash, callback) {\n  this.state.getTransactionReceipt(hash, function(err, receipt) {\n    if (err) {\n      return callback(err);\n    }\n\n    var result = null;\n\n    if (receipt) {\n      // if there is no block then the transaction is still pending\n      if (!receipt.block) {\n        // assemble the block object with null values for pending transactions\n        receipt.block = {\n          transactions: [],\n          hash: () => {\n            return null;\n          },\n          header: { number: null }\n        };\n\n        result = receipt.tx.toJsonRpc(receipt.block);\n      } else {\n        result = receipt.tx.toJsonRpc(receipt.block);\n      }\n    }\n    callback(null, result);\n  });\n};\n\nGethApiDouble.prototype.eth_getTransactionByBlockHashAndIndex = function(hashOrNumber, index, callback) {\n  index = to.number(index);\n\n  this.state.getBlock(hashOrNumber, function(err, block) {\n    if (err) {\n      // block doesn't exist by that hash\n      if (err.notFound) {\n        return callback(null, null);\n      } else {\n        return callback(err);\n      }\n    }\n\n    if (index >= block.transactions.length) {\n      return callback(new Error(\"Transaction at index \" + to.hex(index) + \" does not exist in block.\"));\n    }\n\n    var tx = block.transactions[index];\n    var result = tx.toJsonRpc(block);\n\n    callback(null, result);\n  });\n};\n\nGethApiDouble.prototype.eth_getTransactionByBlockNumberAndIndex = function(hashOrNumber, index, callback) {\n  this.eth_getTransactionByBlockHashAndIndex(hashOrNumber, index, callback);\n};\n\nGethApiDouble.prototype.eth_getTransactionCount = function(address, blockNumber, callback) {\n  this.state.getTransactionCount(address, blockNumber, (err, count) => {\n    if (err instanceof BlockOutOfRangeError) {\n      return callback(null, null);\n    }\n    return callback(err, count);\n  });\n};\n\nGethApiDouble.prototype.eth_sign = function(address, dataToSign, callback) {\n  var result;\n  var error;\n\n  try {\n    result = this.state.sign(address, dataToSign);\n  } catch (e) {\n    error = e;\n  }\n\n  callback(error, result);\n};\n\nGethApiDouble.prototype.eth_signTypedData = function(address, typedDataToSign, callback) {\n  var result;\n  var error;\n\n  try {\n    result = this.state.signTypedData(address, typedDataToSign);\n  } catch (e) {\n    error = e;\n  }\n\n  callback(error, result);\n};\n\nGethApiDouble.prototype.eth_sendTransaction = function(txData, callback) {\n  this.state.queueTransaction(\"eth_sendTransaction\", txData, null, callback);\n};\n\nGethApiDouble.prototype.eth_sendRawTransaction = function(rawTx, callback) {\n  let data;\n  if (rawTx) {\n    data = to.buffer(rawTx);\n  }\n\n  if (data === undefined) {\n    throw new TXRejectedError(\"rawTx must be a string, JSON-encoded Buffer, or Buffer.\");\n  }\n\n  this.state.queueRawTransaction(data, callback);\n};\n\nGethApiDouble.prototype._setCallGasLimit = function(txData) {\n  // if the caller didn't specify a gas limit make sure we set one\n  if (!txData.gas && !txData.gasLimit) {\n    const globalCallGasLimit = this.options.callGasLimit;\n    if (globalCallGasLimit != null) {\n      // if the user configured a global `callGasLimit` use it\n      txData.gas = globalCallGasLimit;\n    } else {\n      // otherwise, set a very high gas limit. We'd use Infinity, or some VM flag to ignore gasLimit checks like\n      // geth does, but the VM doesn't currently support that for `runTx`.\n      // https://github.com/ethereumjs/ethereumjs-vm/blob/4bbb6e394a344717890d618a6be1cf67b8e5b74d/lib/runTx.ts#L71\n      txData.gas = maxSafeInt;\n    }\n  }\n};\nGethApiDouble.prototype.eth_call = function(txData, blockNumber, callback) {\n  this._setCallGasLimit(txData);\n  this.state.queueTransaction(\"eth_call\", txData, blockNumber, callback);\n};\n\nGethApiDouble.prototype.eth_estimateGas = function(txData, blockNumber, callback) {\n  this._setCallGasLimit(txData);\n  this.state.queueTransaction(\"eth_estimateGas\", txData, blockNumber, callback);\n};\n\nGethApiDouble.prototype.eth_getStorageAt = function(address, position, blockNumber, callback) {\n  this.state.queueStorage(address, position, blockNumber, callback);\n};\n\nGethApiDouble.prototype.eth_newBlockFilter = function(callback) {\n  var filterId = utils.addHexPrefix(utils.intToHex(this.state.latestFilterId));\n  this.state.latestFilterId += 1;\n  callback(null, filterId);\n};\n\nGethApiDouble.prototype.eth_getFilterChanges = function(filterId, callback) {\n  var blockHash = this.state\n    .latestBlock()\n    .hash()\n    .toString(\"hex\");\n  // Mine a block after each request to getFilterChanges so block filters work.\n  this.state.mine();\n  callback(null, [blockHash]);\n};\n\nGethApiDouble.prototype.eth_getLogs = function(filter, callback) {\n  this.state.getLogs(filter, callback);\n};\n\nGethApiDouble.prototype.eth_uninstallFilter = function(filterId, callback) {\n  callback(null, true);\n};\n\nGethApiDouble.prototype.eth_protocolVersion = function(callback) {\n  callback(null, \"63\");\n};\n\nGethApiDouble.prototype.bzz_hive = function(callback) {\n  callback(null, []);\n};\n\nGethApiDouble.prototype.bzz_info = function(callback) {\n  callback(null, []);\n};\n\nGethApiDouble.prototype.shh_version = function(callback) {\n  callback(null, \"2\");\n};\n\nGethApiDouble.prototype.eth_getCompilers = function(callback) {\n  callback(null, []);\n};\n\nGethApiDouble.prototype.eth_syncing = function(callback) {\n  callback(null, false);\n};\n\nGethApiDouble.prototype.net_listening = function(callback) {\n  callback(null, true);\n};\n\nGethApiDouble.prototype.net_peerCount = function(callback) {\n  callback(null, 0);\n};\n\nGethApiDouble.prototype.web3_clientVersion = function(callback) {\n  callback(null, \"EthereumJS TestRPC/v\" + pkg.version + \"/ethereum-js\");\n};\n\nGethApiDouble.prototype.web3_sha3 = function(string, callback) {\n  callback(null, to.hex(utils.keccak256(string)));\n};\n\nGethApiDouble.prototype.net_version = function(callback) {\n  // net_version returns a string containing a base 10 integer.\n  callback(null, this.state.net_version + \"\");\n};\n\nGethApiDouble.prototype.miner_start = function(threads, callback) {\n  if (!callback && typeof threads === \"function\") {\n    callback = threads;\n    threads = null;\n  }\n\n  this.state.startMining(function(err) {\n    callback(err, true);\n  });\n};\n\n// indicate that `miner_start` only requires one argument (the callback)\nGethApiDouble.prototype.miner_start.minLength = 1;\n\nGethApiDouble.prototype.miner_stop = function(callback) {\n  this.state.stopMining(function(err) {\n    callback(err, true);\n  });\n};\n\nGethApiDouble.prototype.rpc_modules = function(callback) {\n  // returns the availible api modules and versions\n  callback(null, { eth: \"1.0\", net: \"1.0\", rpc: \"1.0\", web3: \"1.0\", evm: \"1.0\", personal: \"1.0\" });\n};\n\nGethApiDouble.prototype.personal_listAccounts = function(callback) {\n  callback(null, Object.keys(this.state.personal_accounts));\n};\n\nGethApiDouble.prototype.personal_newAccount = function(password, callback) {\n  var account = this.state.createAccount({ generate: true });\n  this.state.accounts[account.address.toLowerCase()] = account;\n  this.state.personal_accounts[account.address.toLowerCase()] = true;\n  this.state.account_passwords[account.address.toLowerCase()] = password;\n  callback(null, account.address);\n};\n\nGethApiDouble.prototype.personal_importRawKey = function(rawKey, password, callback) {\n  var account = this.state.createAccount({ secretKey: rawKey });\n  this.state.accounts[account.address.toLowerCase()] = account;\n  this.state.personal_accounts[account.address.toLowerCase()] = true;\n  this.state.account_passwords[account.address.toLowerCase()] = password;\n  callback(null, account.address);\n};\n\nGethApiDouble.prototype.personal_lockAccount = function(address, callback) {\n  var account = this.state.personal_accounts[address.toLowerCase()];\n  if (account !== true) {\n    var error = \"Account not found\";\n    return callback(error);\n  }\n  delete this.state.unlocked_accounts[address.toLowerCase()];\n  callback(null, true);\n};\n\nGethApiDouble.prototype.personal_unlockAccount = function(address, password, duration, callback) {\n  // FIXME handle duration\n  var account = this.state.personal_accounts[address.toLowerCase()];\n  if (account !== true) {\n    var accountError = \"Account not found\";\n    return callback(accountError);\n  }\n\n  var storedPassword = this.state.account_passwords[address.toLowerCase()];\n  if (storedPassword !== undefined && storedPassword !== password) {\n    var passwordError = \"Invalid password\";\n    return callback(passwordError);\n  }\n\n  this.state.unlocked_accounts[address.toLowerCase()] = true;\n  callback(null, true);\n};\n\nGethApiDouble.prototype.personal_sendTransaction = function(txData, password, callback) {\n  if (txData.from == null) {\n    var error = \"Sender not found\";\n    callback(error);\n    return;\n  }\n\n  var from = utils.addHexPrefix(txData.from).toLowerCase();\n\n  var self = this;\n  self.personal_unlockAccount(from, password, null, function(err) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.state.queueTransaction(\"eth_sendTransaction\", txData, null, function(err, ret) {\n      self.state.unlocked_accounts[from.toLowerCase()] = false;\n      callback(err, ret);\n    });\n  });\n};\n\n/* Functions for testing purposes only. */\n\nGethApiDouble.prototype.evm_snapshot = function(callback) {\n  this.state.snapshot(callback);\n};\n\nGethApiDouble.prototype.evm_revert = function(snapshotId, callback) {\n  this.state.revert(snapshotId, callback);\n};\n\nGethApiDouble.prototype.evm_increaseTime = function(seconds, callback) {\n  callback(null, this.state.blockchain.increaseTime(seconds));\n};\n\nGethApiDouble.prototype.evm_setTime = function(date, callback) {\n  callback(null, this.state.blockchain.setTime(new Date(date)));\n};\n\nGethApiDouble.prototype.evm_mine = function(timestamp, callback) {\n  if (typeof timestamp === \"function\") {\n    callback = timestamp;\n    timestamp = undefined;\n  }\n  this.state.processBlock(timestamp, function(err) {\n    if (err) {\n      return callback(err);\n    }\n    callback(err, \"0x0\");\n  });\n};\n\n// indicate that `evm_mine` only requires one argument (the callback)\nGethApiDouble.prototype.evm_mine.minLength = 1;\n\n/**\n * Unlocks any unknown account.\n *\n * Note: accounts known to the `personal` namespace and accounts returned by\n * `eth_accounts` cannot be unlocked using this method.\n *\n * @param {*} address the address of the account to unlock\n * @param {*} callback\n * @returns `true` if the account was unlocked successfully, `false` if the\n * account was already unlocked. Throws an error if the account could not be\n * unlocked.\n */\nGethApiDouble.prototype.evm_unlockUnknownAccount = function(address, callback) {\n  // check if given address is already unlocked\n  address = address.toLowerCase();\n  if (this.state.unlocked_accounts[address] !== true) {\n    if (this.state.personal_accounts[address] !== true) {\n      // unlock the account\n      this.state.unlocked_accounts[address] = true;\n      return callback(null, true);\n    } else {\n      // if the account is known to the `personal` namespace we may not unlock\n      // it\n      return callback(new Error(\"cannot unlock known/personal account\"));\n    }\n  }\n  // account was already unlocked, return `false`\n  callback(null, false);\n};\n\n/**\n * Locks any unknown account.\n *\n * Note: accounts known to the `personal` namespace and accounts returned by\n * `eth_accounts` cannot be locked using this method.\n *\n * @param {*} address the address of the account to lock\n * @param {*} callback\n * @returns `true` if the account was locked successfully, `false` if the\n * account was already locked. Throws an error if the account could not be\n * locked.\n */\nGethApiDouble.prototype.evm_lockUnknownAccount = function(address, callback) {\n  // Checks if given address is already unlocked\n  address = address.toLowerCase();\n  if (this.state.unlocked_accounts[address]) {\n    if (this.state.personal_accounts[address]) {\n      // if the account is known to the `personal` namespace we may not lock it\n      return callback(new Error(\"cannot lock known/personal account\"));\n    } else {\n      // unlock the account\n      delete this.state.unlocked_accounts[address];\n      return callback(null, true);\n    }\n  }\n  // account wasn't locked to begin with, return `false`\n  callback(null, false);\n};\n\nGethApiDouble.prototype.debug_traceTransaction = function(txHash, params, callback) {\n  if (typeof params === \"function\") {\n    callback = params;\n    params = [];\n  }\n\n  this.state.queueTransactionTrace(txHash, params, callback);\n};\n\n/*\n  RPC AUDIT:\n  TODO ETH: eth_getUncleCountByBlockHash, eth_getUncleCountByBlockNumber, eth_getUncleByBlockHashAndIndex,\n        eth_getUncleByBlockNumberAndIndex, eth_getWork, eth_submitWork, eth_submitHashrate\n\n  TODO DB: db_putString, db_getString, db_putHex, db_getHex\n\n  TODO WHISPER: shh_post, shh_newIdentity, shh_hasIdentity, shh_newGroup, shh_addToGroup,\n        shh_newFilter, shh_uninstallFilter, shh_getFilterChanges, shh_getMessages\n*/\n\n/**\n * Returns the number of uncles in a block from a block matching the given block hash.\n *\n * @param {DATA, 32 Bytes} hash - hash of a block.\n * @callback callback\n * @param {error} err - Error Object\n * @param {QUANTITY} result - integer of the number of uncles in this block.\n */\nGethApiDouble.prototype.eth_getUncleCountByBlockHash = function(hash, callback) {\n  callback(null, \"0x0\");\n};\n\n/**\n * Returns the number of uncles in a block from a block matching the given block number.\n *\n * @param {QUANTITY} blockNumber -\n *  ^integer of a block number, or the string \"latest\", \"earliest\" or \"pending\". Ex: '0xe8', // 232\n * @callback callback\n * @param {error} err - Error Object\n * @param {QUANTITY} result - integer of the number of uncles in this block.\n */\nGethApiDouble.prototype.eth_getUncleCountByBlockNumber = function(blockNumber, callback) {\n  callback(null, \"0x0\");\n};\n\n/**\n * Returns information about a uncle of a block by hash and uncle index position.\n *\n * @param {DATA, 32 Bytes} hash - hash of a block\n * @param {QUANTITY} index - the uncle's index position.\n * @callback callback\n * @param {error} err - Error Object\n * @param {Object} result - A block object,\n */\nGethApiDouble.prototype.eth_getUncleByBlockHashAndIndex = function(hash, index, callback) {\n  callback(null, {});\n};\n\n/**\n * Returns information about a uncle of a block by number and uncle index position.\n *\n * @param {QUANTITY} blockNumber -\n * ^a block number, or the string \"earliest\", \"latest\" or \"pending\", as in the default block parameter.\n * @param {QUANTITY} uncleIndex - the uncle's index position.\n * @callback callback\n * @param {error} err - Error object\n * @param {Object} resutl - A block object,\n */\nGethApiDouble.prototype.eth_getUncleByBlockNumberAndIndex = function(blockNumber, uncleIndex, callback) {\n  callback(null, {});\n};\n\n/**\n * Returns: An Array with the following elements\n * 1: DATA, 32 Bytes - current block header pow-hash\n * 2: DATA, 32 Bytes - the seed hash used for the DAG.\n * 3: DATA, 32 Bytes - the boundary condition (\"target\"), 2^256 / difficulty.\n *\n * @param {QUANTITY} filterId - A filter id\n * @callback callback\n * @param {error} err - Error object\n * @param {Array} result - the hash of the current block, the seedHash, and the boundary condition to be met (\"target\").\n */\nGethApiDouble.prototype.eth_getWork = function(filterId, callback) {\n  callback(null, []);\n};\n\n/**\n * Used for submitting a proof-of-work solution\n *\n * @param {DATA, 8 Bytes} nonce - The nonce found (64 bits)\n * @param {DATA, 32 Bytes} powHash - The header's pow-hash (256 bits)\n * @param {DATA, 32 Bytes} digest - The mix digest (256 bits)\n * @callback callback\n * @param {error} err - Error object\n * @param {Boolean} result - returns true if the provided solution is valid, otherwise false.\n */\nGethApiDouble.prototype.eth_submitWork = function(nonce, powHash, digest, callback) {\n  callback(null, false);\n};\n\n/**\n * Used for submitting mining hashrate.\n *\n * @param {String} hashRate - a hexadecimal string representation (32 bytes) of the hash rate\n * @param {String} clientID - A random hexadecimal(32 bytes) ID identifying the client\n * @callback callback\n * @param {error} err - Error object\n * @param {Boolean} result - returns true if submitting went through succesfully and false otherwise.\n */\nGethApiDouble.prototype.eth_submitHashrate = function(hashRate, clientID, callback) {\n  callback(null, false);\n};\n\n/**\n * Stores a string in the local database.\n *\n * @param {String} dbName - Database name.\n * @param {String} key - Key name.\n * @param {String} value - String to store.\n * @callback callback\n * @param {error} err - Error object\n * @param {Boolean} result - returns true if the value was stored, otherwise false.\n */\nGethApiDouble.prototype.db_putString = function(dbName, key, value, callback) {\n  callback(null, false);\n};\n\n/**\n * Returns string from the local database\n *\n * @param {String} dbName - Database name.\n * @param {String} key - Key name.\n * @callback callback\n * @param {error} - Error Object\n * @param {String} result - The previously stored string.\n */\nGethApiDouble.prototype.db_getString = function(dbName, key, callback) {\n  callback(null, \"\");\n};\n\n/**\n * Stores binary data in the local database.\n *\n * @param {String} dbName - Database name.\n * @param {String} key - Key name.\n * @param {DATA} data - Data to store.\n * @callback callback\n * @param {error} err - Error Object\n * @param {Boolean} result - returns true if the value was stored, otherwise false.\n */\nGethApiDouble.prototype.db_putHex = function(dbName, key, data, callback) {\n  callback(null, false);\n};\n\n/**\n * Returns binary data from the local database\n *\n * @param {String} dbName - Database name.\n * @param {String} key - Key name.\n * @callback callback\n * @param {error} err - Error Object\n * @param {DATA} result - The previously stored data.\n */\nGethApiDouble.prototype.db_getHex = function(dbName, key, callback) {\n  callback(null, \"0x00\");\n};\n\n/**\n * Sends a whisper message.\n *\n * @param {DATA, 60 Bytes} from - (optional) The identity of the sender.\n * @param {DATA, 60 Bytes} to -\n *  ^(optional) The identity of the receiver. When present whisper will encrypt the message so that\n *  only the receiver can decrypt it.\n * @param {Array of DATA} topics - Array of DATA topics, for the receiver to identify messages.\n * @param {DATA} payload - The payload of the message.\n * @param {QUANTITY} priority - The integer of the priority in a range from ... (?).\n * @param {QUANTITY} ttl - integer of the time to live in seconds.\n * @callback callback\n * @param {error} err - Error Object\n * @param {Boolean} result - returns true if the message was sent, otherwise false.\n */\nGethApiDouble.prototype.shh_post = function(from, to, topics, payload, priority, ttl, callback) {\n  callback(null, false);\n};\n\n/**\n * Creates new whisper identity in the client.\n *\n * @callback callback\n * @param {error} err - Error Object\n * @param {DATA, 60 Bytes} result - the address of the new identiy.\n */\nGethApiDouble.prototype.shh_newIdentity = function(callback) {\n  callback(null, \"0x00\");\n};\n\n/**\n * Checks if the client hold the private keys for a given identity.\n *\n * @param {DATA, 60 Bytes} address - The identity address to check.\n * @callback callback\n * @param {error} err - Error Object\n * @param {Boolean} result - returns true if the client holds the privatekey for that identity, otherwise false.\n */\nGethApiDouble.prototype.shh_hasIdentity = function(address, callback) {\n  callback(null, false);\n};\n\n/**\n * Creates a new group.\n *\n * @callback callback\n * @param {error} err - Error Object\n * @param {DATA, 60 Bytes} result - the address of the new group.\n */\nGethApiDouble.prototype.shh_newGroup = function(callback) {\n  callback(null, \"0x00\");\n};\n\n/**\n * Adds a whisper identity to the group\n *\n * @param {DATA, 60 Bytes} - The identity address to add to a group.\n * @callback callback\n * @param {error} err - Error Object\n * @param {Boolean} result - returns true if the identity was successfully added to the group, otherwise false.\n */\nGethApiDouble.prototype.shh_addToGroup = function(address, callback) {\n  callback(null, false);\n};\n\n/**\n * Creates filter to notify, when client receives whisper message matching the filter options.\n *\n * @param {DATA, 60 Bytes} to -\n * ^(optional) Identity of the receiver. When present it will try to decrypt any incoming message\n *  if the client holds the private key to this identity.\n * @param {Array of DATA} topics - Array of DATA topics which the incoming message's topics should match.\n * @callback callback\n * @param {error} err - Error Object\n * @param {Boolean} result - returns true if the identity was successfully added to the group, otherwise false.\n */\nGethApiDouble.prototype.shh_newFilter = function(to, topics, callback) {\n  callback(null, false);\n};\n\n/**\n * Uninstalls a filter with given id. Should always be called when watch is no longer needed.\n * Additonally Filters timeout when they aren't requested with shh_getFilterChanges for a period of time.\n *\n * @param {QUANTITY} id - The filter id. Ex: \"0x7\"\n * @callback callback\n * @param {error} err - Error Object\n * @param {Boolean} result - true if the filter was successfully uninstalled, otherwise false.\n */\nGethApiDouble.prototype.shh_uninstallFilter = function(id, callback) {\n  callback(null, false);\n};\n\n/**\n * Polling method for whisper filters. Returns new messages since the last call of this method.\n *\n * @param {QUANTITY} id - The filter id. Ex: \"0x7\"\n * @callback callback\n * @param {error} err - Error Object\n * @param {Array} result - More Info: https://github.com/ethereum/wiki/wiki/JSON-RPC#shh_getfilterchanges\n */\nGethApiDouble.prototype.shh_getFilterChanges = function(id, callback) {\n  callback(null, []);\n};\n\n/**\n * Get all messages matching a filter. Unlike shh_getFilterChanges this returns all messages.\n *\n * @param {QUANTITY} id - The filter id. Ex: \"0x7\"\n * @callback callback\n * @param {error} err - Error Object\n * @param {Array} result - See: shh_getFilterChanges\n */\nGethApiDouble.prototype.shh_getMessages = function(id, callback) {\n  callback(null, false);\n};\n\nmodule.exports = GethApiDouble;\n","var Account = require(\"ethereumjs-account\").default;\nvar RuntimeError = require(\"./utils/runtimeerror\");\nvar Transaction = require(\"./utils/transaction\");\nvar utils = require(\"ethereumjs-util\");\nvar seedrandom = require(\"seedrandom\");\nvar bip39 = require(\"bip39\");\nvar wallet = require(\"ethereumjs-wallet\");\nvar hdkey = require(\"ethereumjs-wallet/hdkey\");\nvar async = require(\"async\");\nvar BlockchainDouble = require(\"./blockchain_double.js\");\nvar ForkedBlockchain = require(\"./forking/forked_blockchain.js\");\nvar Web3 = require(\"web3\");\nvar fs = require(\"fs\");\nvar sigUtil = require(\"eth-sig-util\");\nvar _ = require(\"lodash\");\nconst { BlockOutOfRangeError } = require(\"./utils/errorhelper\");\nconst BN = utils.BN;\nconst rlp = require(\"rlp\");\nconst Common = require(\"ethereumjs-common\").default;\n\nconst ZERO_BUFFER = Buffer.from([0]);\n\nvar to = require(\"./utils/to\");\nvar random = require(\"./utils/random\");\nvar TXRejectedError = require(\"./utils/txrejectederror\");\n\nfunction StateManager(options, provider) {\n  this.options = options = this._applyDefaultOptions(options || {});\n\n  if (options.fork) {\n    this.blockchain = new ForkedBlockchain(options);\n  } else {\n    this.blockchain = new BlockchainDouble(options);\n  }\n\n  this.vm = this.blockchain.vm;\n  this.stateTrie = this.blockchain.stateTrie;\n\n  this.accounts = {};\n  this.secure = !!options.secure;\n  this.account_passwords = {};\n  this.personal_accounts = {};\n  this.total_accounts = options.total_accounts;\n  this.coinbase = null;\n\n  this.latest_filter_id = 1;\n\n  // This queue manages actions that shouldn't be run in parallel.\n  // The action_processing flag ensures new actions are queued instead of\n  // run immediately.\n  this.action_queue = [];\n  this.action_processing = false;\n\n  this.snapshots = [];\n  this.logger = options.logger;\n  this.net_version = options.network_id;\n  this.mnemonic = options.mnemonic;\n  this.wallet = hdkey.fromMasterSeed(bip39.mnemonicToSeed(this.mnemonic));\n  this.wallet_hdpath = options.hd_path || options.hdPath;\n\n  this.gasPriceVal = to.rpcQuantityHexString(options.gasPrice);\n\n  this.is_mining = true;\n  this.blockTime = options.blockTime;\n  this.is_mining_on_interval = !!options.blockTime;\n  this.mining_interval_timeout = null;\n\n  this._provider = provider;\n}\n\nconst defaultOptions = {\n  forkCacheSize: 1024 * 1024 * 1024,\n  total_accounts: 10,\n  gasPrice: \"0x77359400\", // 2 gwei\n  default_balance_ether: 100,\n  unlocked_accounts: [],\n  hdPath: \"m/44'/60'/0'/0/\"\n};\n\nStateManager.prototype._applyDefaultOptions = function(options) {\n  // do this so that we can use the same seed on our next run and get the same\n  // results without explicitly setting a seed up front\n  if (!options.seed) {\n    options.seed = random.randomAlphaNumericString(10, seedrandom());\n  }\n\n  // generate a randomized default mnemonic\n  if (!options.mnemonic) {\n    const randomBytes = random.randomBytes(16, seedrandom(options.seed));\n    options.mnemonic = bip39.entropyToMnemonic(randomBytes.toString(\"hex\"));\n  }\n\n  if (!options.fork && !options.network_id) {\n    options.network_id = new Date().getTime();\n  }\n\n  // We want this function to mutate the options object so that we can report\n  // our settings back to our consumer application (e.g., ganache)\n  return _.merge(options, defaultOptions, Object.assign({}, options));\n};\n\nStateManager.prototype.initialize = function(callback) {\n  var self = this;\n\n  var accounts = [];\n\n  const defaultBalanceWei = to.hex(Web3.utils.toWei(self.options.default_balance_ether.toString(), \"ether\"));\n\n  if (self.options.accounts) {\n    accounts = self.options.accounts.map(self.createAccount.bind(self));\n  } else {\n    if (!self.total_accounts) {\n      return callback(\n        new Error(\"Cannot initialize chain: either options.accounts or options.total_accounts must be specified\")\n      );\n    }\n\n    for (var i = 0; i < self.total_accounts; i++) {\n      accounts.push(\n        self.createAccount({\n          index: i,\n          balance: defaultBalanceWei\n        })\n      );\n    }\n  }\n\n  self.coinbase = to.hex(accounts[0].address);\n  self.accounts = {};\n\n  accounts.forEach(function(data) {\n    self.accounts[data.address] = data;\n    self.personal_accounts[data.address.toLowerCase()] = true;\n  });\n\n  // Turn array into object, mostly for speed purposes.\n  // No need for caller to specify private keys.\n  self.unlocked_accounts = self.options.unlocked_accounts.reduce(function(obj, address) {\n    // If it doesn't have a hex prefix, must be a number (either a string or number type).\n    if ((address + \"\").indexOf(\"0x\") !== 0) {\n      const idx = parseInt(address);\n      const account = accounts[idx];\n      if (!account) {\n        throw new Error(`Account at index ${idx} not found. Max index available is ${accounts.length - 1}.`);\n      }\n      address = account.address.toLowerCase();\n    }\n\n    obj[address.toLowerCase()] = true; // can be any value\n    return obj;\n  }, {});\n\n  if (!self.secure) {\n    accounts.forEach(function(data) {\n      self.unlocked_accounts[data.address.toLowerCase()] = data;\n    });\n  }\n\n  if (self.options.account_keys_path) {\n    const fileData = {\n      addresses: {},\n      private_keys: {}\n    };\n    accounts.forEach(function(account) {\n      fileData.private_keys[account.address] = account.secretKey.toString(\"hex\");\n      fileData.addresses[account.address] = account;\n    });\n    const json = JSON.stringify(fileData);\n    fs.writeFileSync(self.options.account_keys_path, json, \"utf8\");\n  }\n\n  self.blockchain.initialize(accounts, function(err) {\n    if (err) {\n      return callback(err);\n    }\n\n    // If the user didn't pass a specific version id in, then use the\n    // forked blockchain's version (if it exists) or create our own.\n    if (!self.net_version) {\n      self.net_version = self.blockchain.forkVersion;\n    }\n\n    if (self.is_mining_on_interval) {\n      self.mineOnInterval();\n    }\n    callback();\n  });\n};\n\nStateManager.prototype._minerCancellationToken = null;\nStateManager.prototype.mineOnInterval = function() {\n  // cancel the a previous miner's timeout\n  clearTimeout(this.mining_interval_timeout);\n\n  // make sure a pending eth_mine doesn't come back and execute mineOnInterval\n  // again...\n  if (this._minerCancellationToken !== null) {\n    this._minerCancellationToken.cancelled = true;\n  }\n\n  // if mining was stopped `mineOnInterval` shouldn't start mining again\n  if (!this.is_mining) {\n    this.logger.log(\"Warning: mineOnInterval called when miner was stopped\");\n    return;\n  }\n\n  const cancellationToken = { cancelled: false };\n  this._minerCancellationToken = cancellationToken;\n\n  const timeout = (this.mining_interval_timeout = setTimeout(\n    this._provider.send.bind(this._provider),\n    this.blockTime * 1000,\n    { method: \"evm_mine\" },\n    () => {\n      if (!cancellationToken.cancelled) {\n        this.mineOnInterval.bind(this)();\n      }\n    }\n  ));\n\n  // Ensure this won't keep a node process open.\n  if (typeof timeout.unref === \"function\") {\n    timeout.unref();\n  }\n};\n\nStateManager.prototype.createAccount = function(opts, i) {\n  var secretKey;\n\n  if (opts.generate) {\n    secretKey = wallet.generate().getPrivateKey();\n  } else if (opts.secretKey) {\n    secretKey = utils.toBuffer(to.hex(opts.secretKey));\n  } else {\n    var index = typeof opts.index === \"undefined\" ? i : opts.index;\n    var acct = this.wallet.derivePath(this.wallet_hdpath + index); // index is a number\n    secretKey = acct.getWallet().getPrivateKey(); // Buffer\n  }\n\n  var publicKey = utils.privateToPublic(secretKey);\n  var address = utils.publicToAddress(publicKey);\n\n  var account = new Account();\n\n  account.balance = to.hex(opts.balance);\n\n  var data = {\n    secretKey: secretKey,\n    publicKey: publicKey,\n    address: to.hex(address).toLowerCase(),\n    account: account\n  };\n\n  return data;\n};\n\nStateManager.prototype.blockNumber = function(callback) {\n  return this.blockchain.getHeight(callback);\n};\n\nStateManager.prototype.gasPrice = function() {\n  return this.gasPriceVal;\n};\n\nStateManager.prototype.getBalance = function(address, number, callback) {\n  this.blockchain.getBalance(address, number, function(err, balance) {\n    if (balance) {\n      balance = to.rpcQuantityHexString(balance);\n    }\n    callback(err, balance);\n  });\n};\n\nStateManager.prototype.getTransactionCount = function(address, number, callback) {\n  this.blockchain.getNonce(address, number, function(err, nonce) {\n    if (nonce) {\n      nonce = to.rpcQuantityHexString(nonce);\n    }\n    callback(err, nonce);\n  });\n};\n\nStateManager.prototype.getCode = function(address, number, callback) {\n  this.blockchain.getCode(address, number, function(err, code) {\n    if (code) {\n      code = to.hex(code);\n    }\n    callback(err, code);\n  });\n};\n\nStateManager.prototype.queueRawTransaction = function(data, callback) {\n  // a hack until we get chainid and networkId alignment\n  // in the next major (breaking_change) version:\n  // Reason: historically we didn't validate chain ids.\n  let chainId;\n  if (Buffer.isBuffer(data)) {\n    const decodedData = rlp.decode(data);\n    let v = decodedData[6];\n    if (v !== undefined) {\n      v = utils.bufferToInt(v);\n      chainId = Math.floor((v - 35) / 2);\n      if (chainId < 0) {\n        chainId = 0;\n      }\n    }\n  }\n  const common = !chainId\n    ? this.blockchain.vm.opts.common\n    : Common.forCustomChain(\n      \"mainnet\", // TODO needs to match chain id\n      {\n        name: \"ganache\",\n        networkId: this.options.network_id || this.blockchain.forkVersion,\n        chainId,\n        comment: \"Local test network\",\n        bootstrapNodes: []\n      },\n      this.options.hardfork\n    );\n  const tx = new Transaction(data, Transaction.types.signed, common);\n  // use toLowerCase() to properly handle from addresses meant to be validated.\n  const from = to.hex(tx.from).toLowerCase();\n  this._queueTransaction(\"eth_sendRawTransaction\", tx, from, null, callback);\n};\n\nStateManager.prototype.queueStorage = function(address, position, block, callback) {\n  this.action_queue.push({\n    method: \"eth_getStorageAt\",\n    address: utils.addHexPrefix(address),\n    position: utils.addHexPrefix(position),\n    block: block,\n    callback: callback\n  });\n\n  // We know there's work, so get started.\n  this.processNextAction();\n};\n\nStateManager.prototype.queueTransaction = function(method, txJsonRpc, blockNumber, callback) {\n  // use toLowerCase() to properly handle from addresses meant to be validated.\n  const from = txJsonRpc.from ? to.hex(txJsonRpc.from).toLowerCase() : null;\n\n  if (from == null) {\n    callback(new TXRejectedError(\"from not found; is required\"));\n    return;\n  }\n\n  // Error checks. It's possible to JSON.stringify a Buffer to JSON.\n  // we actually now handle this \"properly\" (not sure about spec), but for\n  // legacy reasons we don't allow it.\n  if (txJsonRpc.to && typeof txJsonRpc.to !== \"string\") {\n    return callback(new TXRejectedError(\"Invalid to address\"));\n  }\n\n  const hasOwnProperty = Object.prototype.hasOwnProperty;\n  const isKnownAccount = hasOwnProperty.call(this.accounts, from);\n\n  if (method === \"eth_sendTransaction\" && !hasOwnProperty.call(this.unlocked_accounts, from)) {\n    const msg = isKnownAccount ? \"signer account is locked\" : \"sender account not recognized\";\n    return callback(new TXRejectedError(msg));\n  }\n\n  let type = Transaction.types.none;\n  if (!isKnownAccount || method === \"eth_call\" || method === \"eth_estimateGas\") {\n    type |= Transaction.types.fake;\n  }\n\n  let tx;\n  try {\n    tx = Transaction.fromJSON(txJsonRpc, type, this.blockchain.vm.opts.common);\n    this._setTransactionDefaults(tx, method === \"eth_sendTransaction\");\n  } catch (e) {\n    callback(e);\n    return;\n  }\n  this._queueTransaction(method, tx, from, blockNumber, callback);\n};\n\nStateManager.prototype._setTransactionDefaults = function(tx, isTransaction) {\n  if (isTransaction && tx.gasLimit.length === 0) {\n    tx.gasLimit = utils.toBuffer(this.blockchain.defaultTransactionGasLimit);\n  }\n\n  if (tx.gasPrice.length === 0) {\n    tx.gasPrice = utils.toBuffer(this.gasPriceVal);\n  }\n\n  if (tx.value.length === 0) {\n    tx.value = Buffer.from([0]);\n  }\n\n  if (tx.to.length === 0 || tx.to.equals(ZERO_BUFFER)) {\n    tx.to = Buffer.allocUnsafe(0);\n  }\n};\n\nStateManager.prototype._queueTransaction = function(method, tx, from, blockNumber, callback) {\n  if (!(tx instanceof Transaction)) {\n    throw new TXRejectedError(\"tx must be of type Transaction\");\n  }\n\n  // If the transaction has a higher gas limit than the block gas limit, error.\n  if (\n    (method === \"eth_sendRawTransaction\" || method === \"eth_sendTransaction\") &&\n    to.number(tx.gasLimit) > to.number(this.blockchain.blockGasLimit)\n  ) {\n    return callback(new TXRejectedError(\"Exceeds block gas limit\"));\n  }\n\n  this.action_queue.push({\n    method,\n    from,\n    tx,\n    callback,\n    blockNumber\n  });\n\n  // We know there's work, so get started.\n  this.processNextAction();\n};\n\nStateManager.prototype.queueTransactionTrace = function(txHash, params, callback) {\n  this.action_queue.push({\n    method: \"debug_traceTransaction\",\n    hash: to.hex(txHash),\n    params: params,\n    callback: callback\n  });\n\n  // We know there's work, so get started.\n  this.processNextAction();\n};\n\nStateManager.prototype.processNextAction = function(override) {\n  var self = this;\n\n  if (override !== true) {\n    if (this.action_processing === true || this.action_queue.length === 0) {\n      return;\n    }\n  }\n\n  var queued = this.action_queue.shift();\n\n  // Set the flag that we're currently processing something.\n  this.action_processing = true;\n\n  var intermediary = function(err, result) {\n    queued.callback(err, result);\n\n    if (self.action_queue.length > 0) {\n      self.processNextAction(true);\n    } else {\n      self.action_processing = false;\n    }\n  };\n\n  if (typeof queued.method === \"function\") {\n    var result = queued.method();\n    return intermediary(null, result);\n  } else if (queued.method === \"eth_getStorageAt\") {\n    this.blockchain.getStorage(queued.address, queued.position, queued.block, function(err, result) {\n      if (err) {\n        return intermediary(err);\n      }\n\n      if (result) {\n        result = utils.rlp.decode(result);\n      }\n\n      result = to.hex(result || 0);\n      intermediary(null, result);\n    });\n  } else if (queued.method === \"debug_traceTransaction\") {\n    this.blockchain.processTransactionTrace(queued.hash, queued.params, intermediary);\n  } else if (queued.method === \"eth_sendTransaction\" || queued.method === \"eth_sendRawTransaction\") {\n    this.processTransaction(queued.from, queued.tx, intermediary);\n  } else if (queued.method === \"eth_call\") {\n    this.processCall(queued.from, queued.tx, queued.blockNumber, intermediary);\n  } else if (queued.method === \"eth_estimateGas\") {\n    this.processGasEstimate(queued.from, queued.tx, queued.blockNumber, intermediary);\n  }\n};\n\nStateManager.prototype.sign = function(address, dataToSign) {\n  var account = this.accounts[to.hex(address).toLowerCase()];\n\n  if (!account) {\n    throw new Error(\"cannot sign data; no private key\");\n  }\n\n  var secretKey = account.secretKey;\n  var msg = to.buffer(dataToSign, \"hex\");\n  var msgHash = utils.hashPersonalMessage(msg);\n  var sgn = utils.ecsign(msgHash, Buffer.from(secretKey));\n  // ethereumjs-utils changed the behavior of toRpcSig so that the `v` value\n  // output by `toRpcSig` is always `sgn.v - 27` (basically `0` or `1`). In\n  // order to avoid a breaking change in Ganache at this time we are calculating\n  // a chain ID that will always a) validate the v, and b) generate an output v\n  // of `0` or `1`, like it used to.\n  const v = sgn.v - 27;\n  const chainId = (v - 35) / 2;\n  return utils.toRpcSig(v, sgn.r, sgn.s, chainId);\n};\n\nStateManager.prototype.signTypedData = function(address, typedDataToSign) {\n  var account = this.accounts[to.hex(address).toLowerCase()];\n  if (!account) {\n    throw new Error(\"cannot sign data; no private key\");\n  }\n\n  if (!typedDataToSign.types) {\n    throw new Error(\"cannot sign data; types missing\");\n  }\n\n  if (!typedDataToSign.types.EIP712Domain) {\n    throw new Error(\"cannot sign data; EIP712Domain definition missing\");\n  }\n\n  if (!typedDataToSign.domain) {\n    throw new Error(\"cannot sign data; domain missing\");\n  }\n\n  if (!typedDataToSign.primaryType) {\n    throw new Error(\"cannot sign data; primaryType missing\");\n  }\n\n  if (!typedDataToSign.message) {\n    throw new Error(\"cannot sign data; message missing\");\n  }\n\n  return sigUtil.signTypedData_v4(account.secretKey, { data: typedDataToSign });\n};\n\nStateManager.prototype.printTransactionReceipt = function(txHash, error, callback) {\n  var self = this;\n\n  self.blockchain.getTransactionReceipt(txHash, function(err, receipt) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.blockchain.latestBlock(function(err, block) {\n      if (err) {\n        return callback(err);\n      }\n\n      receipt = receipt.toJSON();\n\n      self.logger.log(\"\");\n      self.logger.log(\"  Transaction: \" + txHash);\n\n      if (receipt.contractAddress != null) {\n        self.logger.log(\"  Contract created: \" + receipt.contractAddress);\n      }\n\n      self.logger.log(\"  Gas usage: \" + parseInt(receipt.gasUsed, 16));\n      self.logger.log(\"  Block Number: \" + parseInt(receipt.blockNumber, 16));\n      self.logger.log(\"  Block Time: \" + new Date(to.number(block.header.timestamp) * 1000).toString());\n\n      if (error) {\n        self.logger.log(\"  Runtime Error: \" + error.error);\n        if (error.reason) {\n          self.logger.log(\"  Revert reason: \" + error.reason);\n        }\n      }\n\n      self.logger.log(\"\");\n\n      callback(null, txHash);\n    });\n  });\n};\n\nStateManager.prototype.processBlock = function(timestamp, callback) {\n  var self = this;\n\n  if (typeof timestamp === \"function\") {\n    callback = timestamp;\n    timestamp = null;\n  }\n\n  self.blockchain.processNextBlock(timestamp, function(runtimeError, transactions, vmOutput) {\n    if (runtimeError && runtimeError instanceof RuntimeError === false) {\n      // This is bad. Get out.\n      return callback(runtimeError, transactions, vmOutput);\n    }\n\n    // TODO: Can we refactor printTransactionReceipt so it's synchronous?\n    // We technically have the raw vm receipts (though they're not full receipts here...).\n    async.eachSeries(\n      transactions,\n      function(tx, finishedPrinting) {\n        var hash = to.hex(tx.hash());\n        var error = runtimeError == null ? { results: {} } : runtimeError;\n        self.printTransactionReceipt(hash, error.results[hash], finishedPrinting);\n      },\n      callback(runtimeError, transactions, vmOutput)\n    );\n  });\n};\n\nStateManager.prototype.processBlocks = function(totalBlocks, callback) {\n  var self = this;\n\n  if (typeof totalBlocks === \"function\") {\n    callback = totalBlocks;\n    totalBlocks = null;\n  }\n\n  // Note: VM errors (errors that the VM directly returns) trump all runtime errors.\n  var runtimeError = null;\n  var amountProcessed = 0;\n\n  async.whilst(\n    function() {\n      var shouldContinue;\n\n      if (totalBlocks == null) {\n        shouldContinue = self.blockchain.pending_transactions.length > 0;\n      } else {\n        shouldContinue = amountProcessed < totalBlocks;\n      }\n\n      return shouldContinue;\n    },\n    function(done) {\n      self.processBlock(function(err, transactions, vmOutput) {\n        amountProcessed += 1;\n\n        if (err) {\n          if (err instanceof RuntimeError === false) {\n            // This is bad. Get out.\n            return done(err);\n          }\n\n          // We must have a RuntimeError. Merge results if we've found\n          // other runtime errors during this execution.\n          if (runtimeError == null) {\n            runtimeError = err;\n          } else {\n            runtimeError.combine(err);\n          }\n        }\n\n        // Note we don't quit on runtime errors. We keep processing transactions.\n        done();\n      });\n    },\n    function(err) {\n      // Remember: vm errors trump runtime errors\n      callback(err || runtimeError);\n    }\n  );\n};\n\nStateManager.prototype.processCall = function(from, tx, blockNumber, callback) {\n  var self = this;\n\n  function next(err, tx) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.blockchain.processCall(tx, blockNumber, function(err, results) {\n      if (err) {\n        if (err instanceof BlockOutOfRangeError) {\n          // block doesn't exist\n          return callback(null, null);\n        }\n        return callback(err);\n      }\n\n      var result = \"0x\";\n      if (!results.error && results.execResult.returnValue) {\n        result = to.hex(results.execResult.returnValue);\n      } else if (results.error) {\n        self.logger.log(`Error processing call: ${results.error}`);\n      }\n\n      return callback(null, result);\n    });\n  }\n\n  // `eth_call` should never need to validate an existing nonce\n  if (tx.nonce.length === 0) {\n    self.createTransactionWithCorrectNonce(tx, from, next);\n  } else {\n    next(null, tx);\n  }\n};\n\nStateManager.prototype.processGasEstimate = function(from, tx, blockNumber, callback) {\n  var self = this;\n\n  function next(err, tx) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.blockchain.estimateGas(tx, blockNumber, function(err, results) {\n      if (err) {\n        return callback(err);\n      }\n      var result = \"0x\";\n      if (!results.error) {\n        result = to.hex(results.gasEstimate);\n      } else {\n        self.logger.log(`Error calculating gas estimate: ${results.error}`);\n      }\n      return callback(null, result);\n    });\n  }\n\n  // `eth_estimateGas` should never need to validate an existing nonce\n  if (tx.nonce.length === 0) {\n    self.createTransactionWithCorrectNonce(tx, from, next);\n  } else {\n    next(null, tx);\n  }\n};\n\nStateManager.prototype.processTransaction = function(from, tx, callback) {\n  var self = this;\n\n  self.createTransactionWithCorrectNonce(tx, from, function(err, tx) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.blockchain.queueTransaction(tx);\n\n    var txHash = to.hex(tx.hash());\n\n    // If we're not currently mining or we're mining on an interval,\n    // only queue the transaction, don't process it.\n    if (self.is_mining === false || self.is_mining_on_interval) {\n      return callback(null, txHash);\n    }\n\n    self.processBlocks(function(err) {\n      if (err) {\n        return callback(err);\n      }\n      callback(null, txHash);\n    });\n  });\n};\n\nStateManager.prototype.getTransactionReceipt = function(hash, callback) {\n  this.blockchain.getTransactionReceipt(hash, function(err, receipt) {\n    if (err && err.notFound) {\n      // Return null if the receipt's not found.\n      return callback(null, null);\n    }\n    callback(err, receipt);\n  });\n};\n\nStateManager.prototype.getBlock = function(hashOrNumber, callback) {\n  this.blockchain.getBlock(hashOrNumber, callback);\n};\n\nStateManager.prototype.getLogs = function(filter, callback) {\n  var self = this;\n\n  // filter.address may be a single address or an array\n  // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_getlogs\n  var expectedAddress = filter.address && (Array.isArray(filter.address) ? filter.address : [filter.address]);\n  expectedAddress =\n    expectedAddress &&\n    expectedAddress.map(function(a) {\n      return a.toLowerCase();\n    });\n  var expectedTopics = filter.topics || [];\n\n  async.parallel(\n    {\n      fromBlock: this.blockchain.getEffectiveBlockNumber.bind(this.blockchain, filter.fromBlock || \"latest\"),\n      toBlock: this.blockchain.getEffectiveBlockNumber.bind(this.blockchain, filter.toBlock || \"latest\"),\n      latestBlock: this.blockchain.getEffectiveBlockNumber.bind(this.blockchain, \"latest\"),\n      block: this.blockchain.getBlock.bind(this.blockchain, filter.blockHash || 0)\n    },\n    function(err, results) {\n      if (err) {\n        return callback(err);\n      }\n      var fromBlock = results.fromBlock;\n      var toBlock = results.toBlock;\n      var latestBlock = results.latestBlock;\n      var block = results.block;\n\n      if (toBlock > latestBlock) {\n        toBlock = latestBlock;\n      }\n\n      if (filter.blockHash) {\n        fromBlock = to.number(block.header.number);\n        toBlock = to.number(block.header.number);\n      }\n\n      var logs = [];\n      var current = fromBlock;\n\n      async.whilst(\n        function() {\n          return current <= toBlock;\n        },\n        function(finished) {\n          self.blockchain.getBlockLogs(current, function(err, blockLogs) {\n            if (err) {\n              return finished(err);\n            }\n\n            // Filter logs that match the address\n            var filtered = !expectedAddress\n              ? blockLogs\n              : blockLogs.filter(function(log) {\n                return expectedAddress.indexOf(log.address.toLowerCase()) > -1;\n              });\n\n            // Now filter based on topics.\n            filtered = filtered.filter(function(log) {\n              var keep = true;\n              for (var i = 0; i < expectedTopics.length; i++) {\n                var expectedTopic = expectedTopics[i];\n                var logTopic = log.topics[i];\n                if (expectedTopic == null) {\n                  continue;\n                }\n                var isMatch = Array.isArray(expectedTopic)\n                  ? expectedTopic.includes(logTopic)\n                  : expectedTopic === logTopic;\n                if (i >= log.topics.length || !isMatch) {\n                  keep = false;\n                  break;\n                }\n              }\n              return keep;\n            });\n\n            logs.push.apply(logs, filtered);\n\n            current += 1;\n            finished();\n          });\n        },\n        function(err) {\n          if (err) {\n            return callback(err);\n          }\n\n          logs = logs.map(function(log) {\n            return log.toJSON();\n          });\n\n          callback(err, logs);\n        }\n      );\n    }\n  );\n};\n\n// Note: Snapshots have 1-based ids.\nStateManager.prototype.snapshot = function(callback) {\n  var self = this;\n\n  this.blockchain.getHeight(function(err, blockNumber) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.snapshots.push({\n      blockNumber: blockNumber,\n      timeAdjustment: self.blockchain.timeAdjustment\n    });\n\n    self.logger.log(\"Saved snapshot #\" + self.snapshots.length);\n\n    callback(null, to.hex(self.snapshots.length));\n  });\n};\n\nStateManager.prototype.revert = function(snapshotId, callback) {\n  var self = this;\n\n  if (snapshotId === null || snapshotId === undefined) {\n    callback(new Error(\"invalid snapshotId\"));\n    return;\n  }\n  // Convert from hex.\n  try {\n    snapshotId = utils.bufferToInt(snapshotId);\n  } catch (e) {\n    callback(e);\n    return;\n  }\n\n  this.logger.log(\"Reverting to snapshot #\" + snapshotId);\n\n  if (snapshotId > this.snapshots.length || snapshotId <= 0) {\n    // the snapshot doesn't exist now, or it has already been reverted\n    callback(null, false);\n    return false;\n  }\n\n  // Convert to zero based.\n  snapshotId = snapshotId - 1;\n  var timeAdjustment = this.snapshots[snapshotId].timeAdjustment;\n\n  // Loop through each snapshot with a higher id than the current one.\n  async.whilst(\n    function() {\n      return self.snapshots.length > snapshotId;\n    },\n    function(nextSnapshot) {\n      var snapshot = self.snapshots.pop();\n\n      // For each snapshot, asynchronously pop off the blocks it represents.\n      async.during(\n        function(doneWithTest) {\n          self.blockchain.getHeight(function(err, blockNumber) {\n            if (err) {\n              return doneWithTest(err);\n            }\n\n            doneWithTest(null, blockNumber > snapshot.blockNumber);\n          });\n        },\n        function(nextBlock) {\n          self.blockchain.popBlock(function(err) {\n            if (err) {\n              return nextBlock(err);\n            }\n            nextBlock();\n          });\n        },\n        nextSnapshot\n      );\n    },\n    function(err) {\n      if (err) {\n        return callback(err);\n      }\n\n      // Pending transactions are removed when you revert.\n      self.blockchain.clearPendingTransactions();\n      // The time adjustment is restored to its prior state\n      self.blockchain.timeAdjustment = timeAdjustment;\n\n      callback(null, true);\n    }\n  );\n};\n\nStateManager.prototype.hasContractCode = function(address, callback) {\n  this.vm.stateManager.getContractCode(address, function(err, result) {\n    if (err != null) {\n      callback(err, false);\n    } else {\n      callback(null, true);\n    }\n  });\n};\n\nStateManager.prototype.startMining = function(callback) {\n  if (this.is_mining) {\n    process.nextTick(callback);\n    this.logger.log(\"Warning: startMining called when miner was already started\");\n    return;\n  }\n\n  this.is_mining = true;\n\n  if (this.is_mining_on_interval) {\n    this.mineOnInterval();\n    process.nextTick(callback);\n  } else {\n    this.processBlocks(callback);\n  }\n};\n\nStateManager.prototype.stopMining = function(callback) {\n  if (this.is_mining) {\n    if (this._minerCancellationToken) {\n      this._minerCancellationToken.cancelled = true;\n      this._minerCancellationToken = null;\n    }\n    this.is_mining = false;\n    clearTimeout(this.mining_interval_timeout);\n    this.mining_interval_timeout = null;\n  } else {\n    this.logger.log(\"Warning: stopMining called when miner was already stopped\");\n  }\n  callback && process.nextTick(callback);\n};\n\nStateManager.prototype.isUnlocked = function(address) {\n  return this.unlocked_accounts[address.toLowerCase()] != null;\n};\n\nStateManager.prototype.createTransactionWithCorrectNonce = function(tx, from, callback) {\n  // account for transactions waiting in the tx queue\n  this.blockchain.getQueuedNonce(from, (err, expectedNonce) => {\n    if (err) {\n      return callback(err);\n    }\n\n    const validateNonce = (tx, expectedNonce) => {\n      if (tx.validateNonce(expectedNonce)) {\n        return Promise.resolve(tx);\n      } else {\n        const expected = new BN(expectedNonce).toString(10);\n        const actual = new BN(tx.nonce).toString(10);\n        return Promise.reject(\n          new TXRejectedError(\n            `the tx doesn't have the correct nonce. account has nonce of: ${expected} tx has nonce of: ${actual}`\n          )\n        );\n      }\n    };\n    const done = (tx) => callback(null, tx);\n\n    if (tx.isSigned()) {\n      validateNonce(tx, expectedNonce)\n        .then(done)\n        .catch(callback);\n    } else {\n      const sign = (tx) => {\n        // we need to sign transactions if they haven't been signed already\n        // but we never sign fake transactions\n        if (!tx.isFake() && !tx.isSigned()) {\n          const account = this.accounts[from];\n          if (account) {\n            tx.sign(account.secretKey);\n          }\n        }\n        return Promise.resolve(tx);\n      };\n\n      // Validate the tx's nonce and then sign the transaction.\n      // By signing this transaction now we ensure all future calls to tx.hash()\n      // return the same signed transaction hash. It's sort of an unintuitive\n      // quirk of etheremjs-tx that:\n      //   tx.hash(includeSignature);\n      //   tx.sign(secretKey);\n      //   tx.hash(includeSignature);\n      // will produce different hashes.\n      if (tx.nonce.length === 0) {\n        // Since this transaction is unsigned and the nonce was not defined\n        // we can go ahead and change the nonce and not worry about\n        // invalidating the tx hash the client may be expecting (automatic nonce\n        // calculation should have been expected by the client in this case).\n        tx.nonce = expectedNonce;\n        sign(tx).then(done);\n      } else {\n        validateNonce(tx, expectedNonce)\n          .then(sign)\n          .then(done)\n          .catch(callback);\n      }\n    }\n  });\n};\nmodule.exports = StateManager;\n","module.exports = require(\"ethereumjs-abi\");","module.exports = require(\"assert\");","module.exports = require(\"seedrandom\");","module.exports = require(\"bip39\");","module.exports = require(\"safe-buffer\");","module.exports = require(\"randombytes\");","module.exports = require(\"scryptsy\");","module.exports = require(\"uuid/v4\");","module.exports = require(\"bs58check\");","'use strict';\n\nvar _require = require('ethereum-cryptography/hdkey'),\n    HDKey = _require.HDKey;\n\nvar Wallet = require('./index.js');\n\nfunction EthereumHDKey() {}\n\n/*\n * Horrible wrapping.\n */\nfunction fromHDKey(hdkey) {\n  var ret = new EthereumHDKey();\n  ret._hdkey = hdkey;\n  return ret;\n}\n\nEthereumHDKey.fromMasterSeed = function (seedBuffer) {\n  return fromHDKey(HDKey.fromMasterSeed(seedBuffer));\n};\n\nEthereumHDKey.fromExtendedKey = function (base58key) {\n  return fromHDKey(HDKey.fromExtendedKey(base58key));\n};\n\nEthereumHDKey.prototype.privateExtendedKey = function () {\n  if (!this._hdkey.privateExtendedKey) {\n    throw new Error('This is a public key only wallet');\n  }\n  return this._hdkey.privateExtendedKey;\n};\n\nEthereumHDKey.prototype.publicExtendedKey = function () {\n  return this._hdkey.publicExtendedKey;\n};\n\nEthereumHDKey.prototype.derivePath = function (path) {\n  return fromHDKey(this._hdkey.derive(path));\n};\n\nEthereumHDKey.prototype.deriveChild = function (index) {\n  return fromHDKey(this._hdkey.deriveChild(index));\n};\n\nEthereumHDKey.prototype.getWallet = function () {\n  if (this._hdkey._privateKey) {\n    return Wallet.fromPrivateKey(this._hdkey._privateKey);\n  } else {\n    return Wallet.fromPublicKey(this._hdkey._publicKey, true);\n  }\n};\n\nmodule.exports = EthereumHDKey;","module.exports = require(\"ethereum-cryptography/hdkey\");","module.exports = require(\"ethereumjs-vm\");","module.exports = require(\"heap\");","var LevelUpArrayAdapter = require(\"./database/leveluparrayadapter\");\nvar LevelUpObjectAdapter = require(\"./database/levelupobjectadapter\");\nvar levelup = require(\"levelup\");\nvar encode = require(\"encoding-down\");\nvar filedown = require(\"./database/filedown\");\nvar cachedown = require(\"cachedown\");\nvar txserializer = require(\"./database/txserializer\");\nvar blockserializer = require(\"./database/blockserializer\");\nvar bufferserializer = require(\"./database/bufferserializer\");\nvar BlockLogsSerializer = require(\"./database/blocklogsserializer\");\nvar ReceiptSerializer = require(\"./database/receiptserializer\");\nvar tmp = require(\"tmp\");\n\nfunction Database(options) {\n  this.options = options;\n  this.directory = null;\n}\n\nDatabase.prototype.initialize = function(callback) {\n  var self = this;\n\n  function getDir(cb) {\n    if (self.options.db_path) {\n      cb(null, self.options.db_path);\n    } else {\n      tmp.dir(cb);\n    }\n  }\n\n  getDir(function(err, directory) {\n    if (err) {\n      return callback(err);\n    }\n    const levelupOptions = { valueEncoding: \"json\" };\n    if (self.options.db) {\n      const store = self.options.db;\n      levelup(store, levelupOptions, finishInitializing);\n    } else {\n      self.directory = directory;\n      const store = encode(cachedown(directory, filedown).maxSize(100), levelupOptions);\n      levelup(store, {}, finishInitializing);\n    }\n  });\n\n  function finishInitializing(err, db) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.db = db;\n\n    // Blocks, keyed by array index (not necessarily by block number) (0-based)\n    self.blocks = new LevelUpArrayAdapter(\"blocks\", self.db, blockserializer);\n\n    // Logs triggered in each block, keyed by block id (ids in the blocks array; not necessarily block number) (0-based)\n    self.blockLogs = new LevelUpArrayAdapter(\"blockLogs\", self.db, new BlockLogsSerializer(self));\n\n    // Block hashes -> block ids (ids in the blocks array; not necessarily block number) for quick lookup\n    self.blockHashes = new LevelUpObjectAdapter(\"blockHashes\", self.db);\n\n    // Transaction hash -> transaction objects\n    self.transactions = new LevelUpObjectAdapter(\"transactions\", self.db, txserializer);\n\n    // Transaction hash -> transaction receipts\n    self.transactionReceipts = new LevelUpObjectAdapter(\"transactionReceipts\", self.db, new ReceiptSerializer(self));\n\n    self.trie_db = new LevelUpObjectAdapter(\"trie_db\", self.db, bufferserializer, bufferserializer);\n\n    callback();\n  }\n};\n\nDatabase.prototype.close = function(callback) {\n  callback();\n};\n\nmodule.exports = Database;\n","var Sublevel = require(\"level-sublevel\");\nconst { LevelUpOutOfRangeError, BlockOutOfRangeError } = require(\"../utils/errorhelper\");\n\n// Level up adapter that looks like an array. Doesn't support inserts.\n\nfunction LevelUpArrayAdapter(name, db, serializer) {\n  this.db = Sublevel(db);\n  this.db = this.db.sublevel(name);\n  this.name = name;\n  this.serializer = serializer || {\n    encode: function(val, callback) {\n      callback(null, val);\n    },\n    decode: function(val, callback) {\n      callback(null, val);\n    }\n  };\n}\n\nLevelUpArrayAdapter.prototype.length = function(callback) {\n  this.db.get(\"length\", function(err, result) {\n    if (err) {\n      if (err.notFound) {\n        return callback(null, 0);\n      } else {\n        return callback(err);\n      }\n    }\n\n    callback(null, result);\n  });\n};\n\nLevelUpArrayAdapter.prototype._get = function(key, callback) {\n  var self = this;\n  this.db.get(key, function(err, val) {\n    if (err) {\n      return callback(err);\n    }\n    self.serializer.decode(val, callback);\n  });\n};\n\nLevelUpArrayAdapter.prototype._put = function(key, value, callback) {\n  var self = this;\n  this.serializer.encode(value, function(err, encoded) {\n    if (err) {\n      return callback(err);\n    }\n    self.db.put(key, encoded, callback);\n  });\n};\n\nLevelUpArrayAdapter.prototype.get = function(index, callback) {\n  var self = this;\n\n  this.length(function(err, length) {\n    if (err) {\n      return callback(err);\n    }\n    if (index >= length) {\n      // index out of range\n      const RangeError =\n        self.name === \"blocks\"\n          ? new BlockOutOfRangeError(index, length)\n          : new LevelUpOutOfRangeError(self.name, index, length);\n      return callback(RangeError);\n    }\n    self._get(index, callback);\n  });\n};\n\nLevelUpArrayAdapter.prototype.push = function(val, callback) {\n  var self = this;\n  this.length(function(err, length) {\n    if (err) {\n      return callback(err);\n    }\n\n    // TODO: Do this in atomic batch.\n    self._put(length + \"\", val, function(err) {\n      if (err) {\n        return callback(err);\n      }\n      self.db.put(\"length\", length + 1, callback);\n    });\n  });\n};\n\nLevelUpArrayAdapter.prototype.pop = function(callback) {\n  var self = this;\n\n  this.length(function(err, length) {\n    if (err) {\n      return callback(err);\n    }\n\n    var newLength = length - 1;\n\n    // TODO: Do this in atomic batch.\n    self._get(newLength + \"\", function(err, val) {\n      if (err) {\n        return callback(err);\n      }\n      self.db.del(newLength + \"\", function(err) {\n        if (err) {\n          return callback(err);\n        }\n        self.db.put(\"length\", newLength, function(err) {\n          if (err) {\n            return callback(err);\n          }\n\n          callback(null, val);\n        });\n      });\n    });\n  });\n};\n\nLevelUpArrayAdapter.prototype.last = function(callback) {\n  var self = this;\n  this.length(function(err, length) {\n    if (err) {\n      return callback(err);\n    }\n\n    if (length === 0) {\n      return callback(null, null);\n    }\n\n    self._get(length - 1 + \"\", callback);\n  });\n};\n\nLevelUpArrayAdapter.prototype.first = function(callback) {\n  this._get(\"0\", callback);\n};\n\nmodule.exports = LevelUpArrayAdapter;\n","var Sublevel = require(\"level-sublevel\");\nvar async = require(\"async\");\n\nfunction LevelUpObjectAdapter(name, db, valueserializer, keyserializer, options) {\n  this.db = Sublevel(db, options);\n  this.db = this.db.sublevel(name);\n  this.name = name;\n  this.valueserializer = valueserializer || {\n    encode: function(val, callback) {\n      callback(null, val);\n    },\n    decode: function(val, callback) {\n      callback(null, val);\n    }\n  };\n  this.keyserializer = keyserializer || {\n    encode: function(val, callback) {\n      callback(null, val);\n    },\n    decode: function(val, callback) {\n      callback(null, val);\n    }\n  };\n}\n\nLevelUpObjectAdapter.prototype.get = function(key, options, callback) {\n  var self = this;\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n\n  this.keyserializer.encode(key, function(err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.db.get(encodedKey, function(err, val) {\n      if (err) {\n        return callback(err);\n      }\n\n      self.valueserializer.decode(val, function(err, decodedValue) {\n        if (err) {\n          return callback(err);\n        }\n\n        callback(null, decodedValue);\n      });\n    });\n  });\n};\n\nLevelUpObjectAdapter.prototype.put = function(key, value, options, callback) {\n  var self = this;\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n\n  this.keyserializer.encode(key, function(err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.valueserializer.encode(value, function(err, encoded) {\n      if (err) {\n        return callback(err);\n      }\n\n      self.db.put(encodedKey, encoded, callback);\n    });\n  });\n};\n\nLevelUpObjectAdapter.prototype.set = LevelUpObjectAdapter.prototype.put;\n\nLevelUpObjectAdapter.prototype.del = function(key, callback) {\n  var self = this;\n\n  this.keyserializer.encode(key, function(err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.db.del(encodedKey, callback);\n  });\n};\n\nLevelUpObjectAdapter.prototype.batch = function(array, options, callback) {\n  var self = this;\n\n  async.each(\n    array,\n    function(item, finished) {\n      if (item.type === \"put\") {\n        self.put(item.key, item.value, options, finished);\n      } else if (item.type === \"del\") {\n        self.del(item.key, finished);\n      } else {\n        finished(new Error(\"Unknown batch type\", item.type));\n      }\n    },\n    function(err) {\n      if (err) {\n        return callback(err);\n      }\n      callback();\n    }\n  );\n};\n\nLevelUpObjectAdapter.prototype.isOpen = function() {\n  return true;\n};\n\nmodule.exports = LevelUpObjectAdapter;\n","module.exports = require(\"levelup\");","module.exports = require(\"encoding-down\");","var util = require(\"util\");\nvar AbstractLevelDOWN = require(\"abstract-leveldown\").AbstractLevelDOWN;\nvar async = require(\"async\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar tmp = require(\"tmp\");\n\nutil.inherits(FileDown, AbstractLevelDOWN);\n\nfunction FileDown(location) {\n  this.location = location;\n  const tmpDir = path.join(location, \"_tmp\");\n  try {\n    // Fixes https://github.com/trufflesuite/ganache/issues/1617\n    fs.mkdirSync(tmpDir, { recursive: true, mode: 0o1777 });\n  } catch (e) {\n    // `recursive` doesn't throw if the file exists, but `recursive` doesn't\n    // exist in Node 8, so we catch the EEXISTS error in that case and ignore it.\n    // once we drop node 8 suport we can remove this try/catch\n    if (e.code !== \"EEXIST\") {\n      throw e;\n    }\n  }\n  this.tmpOptions = { keep: true, dir: tmpDir };\n  AbstractLevelDOWN.call(this, location);\n}\n\nFileDown.prototype._open = function(options, callback) {\n  var self = this;\n  callback(null, self);\n};\nconst accessQueue = {\n  next: (lKey) => {\n    const cont = accessQueue.cache[lKey].shift();\n    if (cont) {\n      cont();\n    } else {\n      delete accessQueue.cache[lKey];\n    }\n  },\n  execute: (lKey, callback) => {\n    const cache = accessQueue.cache[lKey];\n    if (cache) {\n      cache.push(callback);\n    } else {\n      accessQueue.cache[lKey] = [];\n      callback();\n    }\n  },\n  cache: {}\n};\n\nconst fds = new Set();\nconst cleanup = (exit) => {\n  try {\n    fds.forEach((fdPath) => {\n      const [fd, path] = fdPath;\n      try {\n        fs.closeSync(fd);\n      } catch (e) {\n        // ignore\n      } finally {\n        try {\n          fs.unlinkSync(path);\n        } catch (e) {\n          // ignore\n        }\n      }\n    });\n    fds.clear();\n  } finally {\n    if (exit) {\n      process.exit(0);\n    }\n  }\n};\nprocess.on(\"SIGINT\", cleanup);\nprocess.on(\"exit\", () => cleanup(false));\n\nFileDown.prototype._put = function(key, value, options, callback) {\n  const lKey = path.join(this.location, key);\n  // This fixes an issue caused by writing AND reading the same key multiple times\n  // simultaneously. Sometimes the read operation would end up reading the value as 0 bytes\n  // due to the way writes are performed in node. To fix this, we implemented a queue so only a\n  // single read or write operation can occur at a time for each key; basically an in-memory lock.\n  // Additionally, during testing we found that it was possible for a write operation to fail\n  // due to program termination. This failure would sometimes cause the key to _exist_ but contain\n  // 0 bytes (which is always invalid). To fix this we write to a temp file, and only if it works\n  // do we move this temp file to its correct key location. This prevents early termination from\n  // writing partial/empty values.\n  // Of course, all this will eventually be for nothing as we are migrating the db to actual an\n  // leveldb implementation that doesn't use a separate file for every key Soon(TM).\n  accessQueue.execute(lKey, () => {\n    // get a tmp file to write the contents to...\n    tmp.file(this.tmpOptions, (err, path, fd, cleanupTmpFile) => {\n      if (err) {\n        callback(err);\n        accessQueue.next(lKey);\n        return;\n      }\n      const pair = [fd, path];\n      fds.add(pair);\n      const cleanupAndCallback = (err) => {\n        err && cleanupTmpFile();\n        fds.delete(pair);\n        callback(err);\n        accessQueue.next(lKey);\n      };\n\n      // write the value to our temporary file\n      fs.writeFile(fd, value, \"utf8\", (err) => {\n        if (err) {\n          cleanupAndCallback(err);\n          return;\n        }\n\n        // It worked! Move the temporary file to its final destination\n        fs.rename(path, lKey, (err) => {\n          if (err) {\n            cleanupAndCallback(err);\n            return;\n          }\n\n          // make sure we close this file descriptor now that the file is no\n          // longer \"temporary\" (because we successfully moved it)\n          fs.close(fd, () => cleanupAndCallback());\n        });\n      });\n    });\n  });\n};\n\nFileDown.prototype._get = function(key, options, callback) {\n  const lKey = path.join(this.location, key);\n  accessQueue.execute(lKey, () => {\n    fs.readFile(lKey, \"utf8\", (err, data) => {\n      if (err) {\n        callback(new Error(\"NotFound\"));\n      } else {\n        callback(null, data);\n      }\n      accessQueue.next(lKey);\n    });\n  });\n};\n\nFileDown.prototype._del = function(key, options, callback) {\n  fs.unlink(path.join(this.location, key), function(err) {\n    // Ignore when we try to delete a file that doesn't exist.\n    // I'm not sure why this happens. Worth looking into.\n    if (err) {\n      if (err.message.indexOf(\"ENOENT\") >= 0) {\n        return callback();\n      } else {\n        return callback(err);\n      }\n    }\n    callback();\n  });\n};\n\nFileDown.prototype._batch = function(array, options, callback) {\n  var self = this;\n  async.each(\n    array,\n    function(item, finished) {\n      if (item.type === \"put\") {\n        self.put(item.key, item.value, options, finished);\n      } else if (item.type === \"del\") {\n        self.del(item.key, options, finished);\n      } else {\n        finished(new Error(\"Unknown batch type\", item.type));\n      }\n    },\n    function(err) {\n      if (err) {\n        return callback(err);\n      }\n      callback();\n    }\n  );\n};\n\nmodule.exports = function(location) {\n  return new FileDown(location);\n};\n","module.exports = require(\"abstract-leveldown\");","module.exports = require(\"path\");","module.exports = require(\"cachedown\");","var txserializer = require(\"./txserializer\");\nvar async = require(\"async\");\nvar Block = require(\"ethereumjs-block\");\n\nmodule.exports = {\n  encode: function(block, done) {\n    var encoded = block.toJSON(true);\n\n    async.map(\n      block.transactions,\n      function(tx, finished) {\n        txserializer.encode(tx, finished);\n      },\n      function(err, transactions) {\n        if (err) {\n          return done(err);\n        }\n        encoded.transactions = transactions;\n        done(null, encoded);\n      }\n    );\n  },\n  decode: function(json, done) {\n    var transactions = json.transactions;\n    json.transactions = [];\n\n    var block = new Block(json);\n\n    async.eachSeries(\n      transactions,\n      function(txJson, finished) {\n        txserializer.decode(txJson, function(err, tx) {\n          if (err) {\n            return finished(err);\n          }\n          block.transactions.push(tx);\n          finished();\n        });\n      },\n      function(err) {\n        if (err) {\n          return done(err);\n        }\n\n        done(null, block);\n      }\n    );\n  }\n};\n","var utils = require(\"ethereumjs-util\");\nvar to = require(\"../utils/to\");\n\nmodule.exports = {\n  encode: function(val, cb) {\n    var hex = to.hex(val);\n    cb(null, hex);\n  },\n  decode: function(json, cb) {\n    cb(null, utils.toBuffer(json));\n  }\n};\n","var Log = require(\"../utils/log\");\nvar async = require(\"async\");\n\nfunction BlockLogsSerializer(database) {\n  this.database = database;\n}\n\nBlockLogsSerializer.prototype.encode = function(logs, done) {\n  logs = logs.map(function(log) {\n    return log.toJSON();\n  });\n\n  done(null, logs);\n};\n\nBlockLogsSerializer.prototype.decode = function(json, done) {\n  var self = this;\n\n  if (json.length === 0) {\n    return done(null, []);\n  }\n\n  this.database.blockHashes.get(json[0].blockHash, function(err, blockIndex) {\n    if (err) {\n      return done(err);\n    }\n\n    self.database.blocks.get(blockIndex, function(err, block) {\n      if (err) {\n        return done(err);\n      }\n\n      async.map(\n        json,\n        function(log, finished) {\n          finished(\n            null,\n            new Log({\n              block: block,\n              logIndex: log.logIndex,\n              transactionIndex: log.transactionIndex,\n              transactionHash: log.transactionHash,\n              address: log.address,\n              data: log.data,\n              topics: log.topics,\n              type: log.type\n            })\n          );\n        },\n        function(err, logs) {\n          if (err) {\n            return done(err);\n          }\n          done(null, logs);\n        }\n      );\n    });\n  });\n};\n\nmodule.exports = BlockLogsSerializer;\n","var Receipt = require(\"../utils/receipt\");\nvar async = require(\"async\");\n\nfunction ReceiptSerializer(database) {\n  this.database = database;\n}\n\nReceiptSerializer.prototype.encode = function(receipt, done) {\n  done(null, receipt.toJSON());\n};\n\nReceiptSerializer.prototype.decode = function(json, done) {\n  var self = this;\n  // Make sure we can handle mixed/upper-case transaction hashes\n  // it doesn't seem possible to record a transaction hash that isn't\n  // already lower case, as that's the way ganache generates them, however\n  // I don't think it will hurt anything to normalize here anyway.\n  // If you can figure out how to test this please feel free to add a test!\n  var txHash = json.transactionHash.toLowerCase();\n\n  this.database.transactions.get(json.transactionHash, function(err, tx) {\n    if (err) {\n      return done(err);\n    }\n\n    self.database.blockHashes.get(json.blockHash, function(err, blockIndex) {\n      if (err) {\n        return done(err);\n      }\n\n      async.parallel(\n        {\n          block: self.database.blocks.get.bind(self.database.blocks, blockIndex),\n          logs: self.database.blockLogs.get.bind(self.database.blockLogs, blockIndex)\n        },\n        function(err, result) {\n          if (err) {\n            return done(err);\n          }\n\n          done(\n            null,\n            new Receipt(\n              tx,\n              result.block,\n              result.logs.filter((log) => log.transactionHash.toLowerCase() === txHash),\n              json.gasUsed,\n              json.cumulativeGasUsed,\n              json.contractAddress,\n              json.status,\n              json.logsBloom\n            )\n          );\n        }\n      );\n    });\n  });\n};\n\nmodule.exports = ReceiptSerializer;\n","const estimateGas = require(\"./guestimation\");\nconst binSearch = require(\"./binSearch\");\n\nmodule.exports = async(generateVM, runArgs, callback) => {\n  const vm = generateVM();\n  estimateGas(vm, runArgs, async(err, result) => {\n    if (err) {\n      callback(err);\n      return;\n    }\n\n    await binSearch(generateVM, runArgs, result, callback);\n  });\n};\n","const RuntimeError = require(\"../runtimeerror\");\n\nconst { BN } = require(\"ethereumjs-util\");\nconst bn = (val = 0) => new BN(val);\nconst STIPEND = bn(2300);\n\nconst check = (set) => (opname) => set.has(opname);\nconst isCall = check(new Set([\"CALL\", \"DELEGATECALL\", \"STATICCALL\", \"CALLCODE\"]));\nconst isCallOrCallcode = check(new Set([\"CALL\", \"CALLCODE\"]));\nconst isCreate = check(new Set([\"CREATE\", \"CREATE2\"]));\nconst isTerminator = check(new Set([\"STOP\", \"RETURN\", \"REVERT\", \"INVALID\", \"SELFDESTRUCT\"]));\n\nmodule.exports = async(vm, runArgs, callback) => {\n  const steps = stepTracker();\n  vm.on(\"step\", steps.collect);\n\n  const Context = (index, fee) => {\n    const base = index === 0;\n    let start = index;\n    let stop = 0;\n    const cost = bn();\n    let sixtyFloorths = bn();\n    const op = steps.ops[index];\n    const next = steps.ops[index + 1];\n    const intermediateCost = op.gasLeft.sub(next.gasLeft);\n    const callingFee = fee || bn();\n    let compositeContext = false;\n\n    function addGas(val) {\n      // Add to our current context, but accounted for in sixtyfloorths\n      if (sixtyFloorths.gtn(0)) {\n        if (val.gte(sixtyFloorths)) {\n          sixtyFloorths = bn();\n        } else {\n          sixtyFloorths.isub(val);\n        }\n      }\n      cost.iadd(val);\n    }\n\n    return {\n      start: () => start,\n      stop: () => stop,\n      setStart: (val) => {\n        start = val;\n        compositeContext = true;\n      },\n      setStop: (val) => {\n        stop = val;\n      },\n      getCost: () => ({ cost, sixtyFloorths }),\n      transfer: (ctx) => {\n        const values = ctx.getCost();\n        addGas(values.cost);\n        sixtyFloorths.iadd(values.sixtyFloorths);\n      },\n      addSixtyFloorth: (sixtyFloorth) => {\n        sixtyFloorths.iadd(sixtyFloorth);\n      },\n      addRange: (fee = bn()) => {\n        // only occurs on stack increasing ops\n        addGas(steps.ops[base || compositeContext ? start : start + 1].gasLeft.sub(steps.ops[stop].gasLeft).add(fee));\n      },\n      finalizeRange: () => {\n        let range;\n        // if we have a composite context and we are NOT at the final terminator\n        if (compositeContext && stop !== steps.ops.length - 1) {\n          range = steps.ops[start].gasLeft.sub(steps.ops[stop - 1].gasLeft);\n          addGas(range);\n          const tail = steps.ops[stop - 1].gasLeft.sub(steps.ops[stop].gasLeft);\n          range = tail.add(intermediateCost);\n        } else {\n          range = steps.ops[start].gasLeft.sub(steps.ops[stop].gasLeft);\n        }\n        range.isub(callingFee);\n        addGas(range);\n        if (isCallOrCallcode(op.opcode.name) && !op.stack[op.stack.length - 3].isZero()) {\n          cost.iadd(sixtyFloorths);\n          const innerCost = next.gasLeft.sub(steps.ops[stop - 1].gasLeft);\n          if (innerCost.gt(STIPEND)) {\n            sixtyFloorths = cost.divn(63);\n          } else if (innerCost.lte(STIPEND)) {\n            sixtyFloorths = STIPEND.sub(innerCost);\n          }\n        } else if (stop !== steps.ops.length - 1) {\n          cost.iadd(sixtyFloorths);\n          sixtyFloorths = cost.divn(63);\n        }\n      }\n    };\n  };\n\n  const getTotal = () => {\n    const sysops = steps.systemOps;\n    const ops = steps.ops;\n    const opIndex = (cursor) => sysops[cursor].index;\n    const stack = [];\n    let cursor = 0;\n    let context = Context(0);\n    while (cursor < sysops.length) {\n      const currentIndex = opIndex(cursor);\n      const current = ops[currentIndex];\n      const name = current.opcode.name;\n      if (isCall(name) || isCreate(name)) {\n        if (steps.isPrecompile(currentIndex)) {\n          context.setStop(currentIndex + 1);\n          context.addRange();\n          context.setStart(currentIndex + 1);\n          context.addSixtyFloorth(STIPEND);\n        } else {\n          context.setStop(currentIndex);\n          context.addRange(bn(current.opcode.fee));\n          stack.push(context);\n          context = Context(currentIndex, bn(current.opcode.fee)); // setup next context\n        }\n      } else if (isTerminator(name)) {\n        // only on the last operation\n        context.setStop(currentIndex + 1 < steps.ops.length ? currentIndex + 1 : currentIndex);\n        context.finalizeRange();\n        const ctx = stack.pop();\n        if (ctx) {\n          ctx.transfer(context);\n          context = ctx;\n          context.setStart(currentIndex + 1);\n        } else {\n          break;\n        }\n      } else {\n        throw new Error(\"INVALID OPCODE\");\n      }\n      cursor++;\n    }\n    const gas = context.getCost();\n    return gas.cost.add(gas.sixtyFloorths);\n  };\n\n  const result = await vm.runTx(runArgs).catch((vmerr) => ({ vmerr }));\n  const vmerr = result.vmerr;\n  if (vmerr) {\n    return callback(vmerr);\n  } else if (result.execResult.exceptionError) {\n    const vmerr = RuntimeError.fromResults([runArgs.tx], { results: [result] });\n    return callback(vmerr, result);\n  } else if (steps.done()) {\n    const estimate = result.gasUsed;\n    result.gasEstimate = estimate;\n  } else {\n    const actualUsed = steps.ops[0].gasLeft.sub(steps.ops[steps.ops.length - 1].gasLeft);\n    const sixtyFloorths = getTotal().sub(actualUsed);\n    result.gasEstimate = result.gasUsed.add(sixtyFloorths);\n  }\n  callback(vmerr, result);\n};\n\nconst stepTracker = () => {\n  const sysOps = [];\n  const allOps = [];\n  const preCompile = new Set();\n  let preCompileCheck = false;\n  let precompileCallDepth = 0;\n  return {\n    collect: (info) => {\n      if (preCompileCheck) {\n        if (info.depth === precompileCallDepth) {\n          // If the current depth is unchanged.\n          // we record its position.\n          preCompile.add(allOps.length - 1);\n        }\n        // Reset the flag immediately here\n        preCompileCheck = false;\n      }\n      if (isCall(info.opcode.name)) {\n        info.stack = info.stack.map((val) => val.clone());\n        preCompileCheck = true;\n        precompileCallDepth = info.depth;\n        sysOps.push({ index: allOps.length, depth: info.depth, name: info.opcode.name });\n      } else if (isCreate(info.opcode.name) || isTerminator(info.opcode.name)) {\n        sysOps.push({ index: allOps.length, depth: info.depth, name: info.opcode.name });\n      }\n      // This goes last so we can use the length for the index ^\n      allOps.push(info);\n    },\n    isPrecompile: (index) => preCompile.has(index),\n    done: () => !allOps.length || sysOps.length < 2 || !isTerminator(allOps[allOps.length - 1].opcode.name),\n    ops: allOps,\n    systemOps: sysOps\n  };\n};\n","const { BN } = require(\"ethereumjs-util\");\nconst hexToBn = (val = 0) => new BN(parseInt(\"0x\" + val.toString(\"hex\"), 16));\nconst MULTIPLE = 64 / 63;\n\nmodule.exports = async function binSearch(generateVM, runArgs, result, callback) {\n  const MAX = hexToBn(runArgs.block.header.gasLimit);\n  const gasRefund = result.execResult.gasRefund;\n  const startingGas = gasRefund ? result.gasEstimate.add(gasRefund) : result.gasEstimate;\n  const range = { lo: startingGas, hi: startingGas };\n  const isEnoughGas = async(gas) => {\n    const vm = generateVM(); // Generate fresh VM\n    runArgs.tx.gasLimit = gas.toBuffer();\n    const result = await vm.runTx(runArgs).catch((vmerr) => ({ vmerr }));\n    return !result.vmerr && !result.execResult.exceptionError;\n  };\n\n  if (!(await isEnoughGas(range.hi))) {\n    do {\n      range.hi = range.hi.muln(MULTIPLE);\n    } while (!(await isEnoughGas(range.hi)));\n    while (range.lo.addn(1).lt(range.hi)) {\n      const mid = range.lo.add(range.hi).divn(2);\n      if (await isEnoughGas(mid)) {\n        range.hi = mid;\n      } else {\n        range.lo = mid;\n      }\n    }\n    if (range.hi.gte(MAX)) {\n      if (!(await isEnoughGas(range.hi))) {\n        return callback(new Error(\"gas required exceeds allowance or always failing transaction\"));\n      }\n    }\n  }\n\n  result.gasEstimate = range.hi;\n  callback(null, result);\n};\n","var BlockchainDouble = require(\"../blockchain_double.js\");\nvar Account = require(\"ethereumjs-account\").default;\nvar Block = require(\"ethereumjs-block\");\nvar Log = require(\"../utils/log.js\");\nvar Receipt = require(\"../utils/receipt.js\");\nvar utils = require(\"ethereumjs-util\");\nvar ForkedStorageTrie = require(\"./forked_storage_trie.js\");\nvar Web3 = require(\"web3\");\nvar to = require(\"../utils/to.js\");\nvar Transaction = require(\"../utils/transaction\");\nvar async = require(\"async\");\nvar LRUCache = require(\"lru-cache\");\nconst Sublevel = require(\"level-sublevel\");\nconst BN = utils.BN;\n\nvar inherits = require(\"util\").inherits;\n\ninherits(ForkedBlockchain, BlockchainDouble);\n\nconst httpReg = /^https?:/i;\nconst protocolReg = /^[A-Za-z][A-Za-z0-9+\\-.]*:/;\nconst validProtocolReg = /^(?:http|ws)s?:/i;\nconst blockNumberReg = /@([0-9]+)$/;\n\nfunction cloneWithoutId(obj) {\n  return Object.assign({}, obj, { id: null });\n}\n\nfunction ForkedBlockchain(options) {\n  this.options = options || {};\n\n  if (options.fork == null || (typeof options.fork === \"string\" && options.fork.trim().length === 0)) {\n    throw new Error(\"ForkedBlockchain must be passed a fork parameter.\");\n  }\n\n  this.forkVersion = null;\n\n  if (typeof options.fork === \"string\") {\n    const blockNumber = blockNumberReg.exec(options.fork);\n\n    if (blockNumber) {\n      options.fork = options.fork.slice(0, blockNumber.index);\n      options.fork_block_number = parseInt(blockNumber[1], 10);\n    }\n\n    let fork;\n    if (!protocolReg.test(options.fork)) {\n      // we don't have a protocol at all, assume ws\n      options.fork = \"ws://\" + options.fork;\n      fork = new Web3.providers.WebsocketProvider(options.fork);\n    } else if (validProtocolReg.test(options.fork)) {\n      if (httpReg.test(options.fork)) {\n        fork = new Web3.providers.HttpProvider(options.fork);\n      } else {\n        fork = new Web3.providers.WebsocketProvider(options.fork);\n      }\n    } else {\n      throw new Error(`Invalid scheme for fork url: ${options.fork}. Supported schemes are: http, https, ws, and wss.`);\n    }\n\n    this.fork = fork;\n  } else {\n    this.fork = options.fork;\n  }\n\n  this.forkBlockNumber = options.fork_block_number;\n  this.forkCacheSize = parseInt(options.forkCacheSize);\n\n  // if forkCacheSize is `0`, it means it is \"off\"\n  if (!isNaN(this.forkCacheSize) && this.forkCacheSize !== 0) {\n    const send = this.fork.send;\n    const cache = new LRUCache({\n      // `-1` means `Infinity`, which is represented by `0` in LRUCache's options\n      max: this.forkCacheSize === -1 ? 0 : this.forkCacheSize,\n      length: (bufValue, strKey) => {\n        // compute the rough byte size of the stored key + value\n        return Buffer.byteLength(bufValue) + Buffer.byteLength(strKey, \"utf8\");\n      }\n    });\n\n    // Patch the `send` method of the underlying fork provider. We can\n    // simply cache every non-error result because all requests to the\n    // fork should be deterministic.\n    const pendingRequests = new Map();\n    this.fork.send = (payload, callback) => {\n      let payloads;\n      const sendArray = Array.isArray(payload);\n      if (sendArray) {\n        payloads = payload;\n      } else {\n        payloads = [payload];\n      }\n      Promise.all(\n        payloads.map(async(payload) => {\n          const key = JSON.stringify(cloneWithoutId(payload));\n          let pendingRequest = pendingRequests.get(key);\n          // if a request is in flight just wait for it instead of sending another\n          // note: web3 actually polls on `.send`, resending the `payload`, so don't wait\n          // if the new `payload` is the same as the `pendingRequest`.\n          if (pendingRequest && pendingRequest.payload !== payload) {\n            await pendingRequest.promise;\n          }\n\n          const cachedItem = cache.get(key);\n          if (cachedItem) {\n            const result = JSON.parse(cachedItem.toString());\n            result.id = payload.id;\n            return Promise.resolve({ error: null, result });\n          } else {\n            const promise = new Promise((resolve) => {\n              send.call(this.fork, payload, (error, result) => {\n                if (!error) {\n                  cache.set(key, Buffer.from(JSON.stringify(cloneWithoutId(result))));\n                }\n                resolve({ error, result });\n              });\n            });\n            pendingRequest = {\n              payload,\n              promise\n            };\n\n            pendingRequests.set(key, pendingRequest);\n            // Node 8 doesn't have Promise.finally\n            promise\n              .catch(() => {})\n              .then(() => {\n                pendingRequests.delete(key);\n              });\n            return promise;\n          }\n        })\n      ).then((errResults) => {\n        if (!sendArray) {\n          const errResult = errResults[0];\n          callback(errResult.error, errResult.result);\n        } else {\n          let hasError = false;\n          const errors = [];\n          const results = [];\n          errResults.forEach(({ error, result }) => {\n            if (error) {\n              hasError = true;\n            }\n            errors.push(error);\n            results.push(result);\n          });\n          callback(hasError ? errors : null, results);\n        }\n      });\n    };\n  }\n\n  this.time = options.time;\n  this.storageTrieCache = {};\n\n  BlockchainDouble.call(this, options);\n\n  this.createVMFromStateTrie = function() {\n    var vm = BlockchainDouble.prototype.createVMFromStateTrie.apply(this, arguments);\n    this.patchVM(vm);\n    return vm;\n  };\n\n  this.web3 = new Web3(this.fork);\n  this._touchedKeys = [];\n}\n\nForkedBlockchain.prototype.initialize = async function(accounts, callback) {\n  try {\n    const forkVersion = await new Promise((resolve, reject) => {\n      this.web3.eth.net.getId((err, version) => {\n        if (err) {\n          if (this.options.network_id) {\n            resolve(this.options.network_id);\n          } else {\n            Error.captureStackTrace(err);\n            err.message = `The fork provider errored when checking net_version: ${err.message}`;\n            reject(err);\n          }\n        } else {\n          resolve(version);\n        }\n      });\n    });\n\n    this.forkVersion = forkVersion;\n\n    const forkBlock = (this.forkBlock = await new Promise((resolve, reject) => {\n      const queriedBlock = this.forkBlockNumber || \"latest\";\n      this.web3.eth.getBlock(queriedBlock, (err, json) => {\n        if (err) {\n          Error.captureStackTrace(err);\n          err.message =\n            `The fork provider errored when checking for block '${\n              queriedBlock\n            }': ${err.message}`;\n          reject(err);\n        } else {\n          resolve(json);\n        }\n      });\n    }));\n\n    // If no start time was passed, set the time to where we forked from.\n    // We only want to do this if a block was explicitly passed. If a block\n    // number wasn't passed, then we're using the last block and the current time.\n    if (!this.time && this.forkBlockNumber) {\n      this.time = this.options.time = new Date(to.number(forkBlock.timestamp) * 1000);\n      this.setTime(this.time);\n    }\n\n    this.forkBlockNumber = this.options.fork_block_number = forkBlock.number;\n    this.forkBlockHash = forkBlock.hash;\n\n    // Fetch the nonce for all the accounts before we prime them in our state manager.\n    // This is necessary to prevent conflicting contract deployments.\n    const nonces = await Promise.all(\n      accounts.map((account) => {\n        return new Promise((resolve, reject) => {\n          this.web3.eth.getTransactionCount(account.address, this.forkBlockNumber, (err, nonce) => {\n            if (err) {\n              Error.captureStackTrace(err);\n              err.message =\n                `The fork provider errored when checking the nonce for account ${\n                  account.address\n                }: ${err.message}`;\n              reject(err);\n            } else {\n              resolve(nonce);\n            }\n          });\n        });\n      })\n    );\n\n    nonces.forEach((nonce, index) => {\n      accounts[index].account.nonce = nonce;\n    });\n\n    BlockchainDouble.prototype.initialize.call(this, accounts, callback);\n  } catch (err) {\n    callback(err);\n  }\n};\n\nForkedBlockchain.prototype.patchVM = function(vm) {\n  const trie = vm.stateManager._trie;\n  const lookupAccount = this.getLookupAccount(trie);\n  // Unfortunately forking requires a bit of monkey patching, but it gets the job done.\n  vm.stateManager._cache._lookupAccount = lookupAccount;\n  vm.stateManager._lookupStorageTrie = this.getLookupStorageTrie(trie, lookupAccount);\n};\n\n/**\n * @param db\n * @param root\n * @param options Allows overriding the options passed to the ForkedStorageTrie,\n * like `forkBlockNumber` (required for tracing transactions)\n */\nForkedBlockchain.prototype.createStateTrie = function(db, root, options) {\n  options = Object.assign(\n    {\n      fork: this.fork,\n      forkBlockNumber: this.forkBlockNumber,\n      blockchain: this\n    },\n    options\n  );\n  // never allow the forkBlockNumber to go beyond our root forkBlockNumber\n  if (options.forkBlockNumber > this.forkBlockNumber) {\n    options.forkBlockNumber = this.forkBlockNumber;\n  }\n  return new ForkedStorageTrie(db, root, options);\n};\n\nForkedBlockchain.prototype.createGenesisBlock = function(callback) {\n  const forkBlock = this.forkBlock;\n\n  this.createBlock(function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n\n    block.header.number = forkBlock.number + 1;\n    block.header.parentHash = forkBlock.hash;\n\n    callback(null, block);\n  });\n};\n\nForkedBlockchain.prototype.getLookupStorageTrie = function(stateTrie, lookupAccount) {\n  lookupAccount = lookupAccount || this.getLookupAccount(stateTrie);\n  return (address, callback) => {\n    const storageTrie = stateTrie.copy();\n    storageTrie.address = address;\n    lookupAccount(address, (err, account) => {\n      if (err) {\n        return callback(err);\n      }\n\n      storageTrie.root = account.stateRoot;\n      callback(null, storageTrie);\n    });\n  };\n};\n\nForkedBlockchain.prototype.isFallbackBlock = function(value, callback) {\n  var self = this;\n\n  self.getEffectiveBlockNumber(value, function(err, number) {\n    if (err) {\n      return callback(err);\n    }\n\n    callback(null, number <= to.number(self.forkBlockNumber));\n  });\n};\n\nForkedBlockchain.prototype.isBlockHash = function(value) {\n  const isHash = typeof value === \"string\" && value.indexOf(\"0x\") === 0 && value.length > 42;\n  return isHash || (Buffer.isBuffer(value) && value.byteLength > 20);\n};\n\nForkedBlockchain.prototype.isFallbackBlockHash = function(value, callback) {\n  var self = this;\n\n  if (!this.isBlockHash(value)) {\n    return callback(null, false);\n  }\n\n  if (Buffer.isBuffer(value)) {\n    value = to.hex(value);\n  }\n\n  self.data.blockHashes.get(value, function(err, blockIndex) {\n    if (err) {\n      if (err.notFound) {\n        // If the block isn't found in our database, then it must be a fallback block.\n        return callback(null, true);\n      } else {\n        return callback(err);\n      }\n    }\n    callback(null, false);\n  });\n};\n\nForkedBlockchain.prototype.getFallbackBlock = function(numberOrHash, cb) {\n  var self = this;\n\n  if (Buffer.isBuffer(numberOrHash)) {\n    // When tracing a transaction the VM sometimes ask for a block numbers as\n    // buffers instead of numbers.\n    numberOrHash = to.rpcDataHexString(numberOrHash);\n  }\n  if (typeof numberOrHash === \"string\" && numberOrHash.length !== 66) {\n    numberOrHash = to.number(numberOrHash);\n  }\n\n  self.web3.eth.getBlock(numberOrHash, true, function(err, json) {\n    if (err) {\n      return cb(err);\n    }\n\n    if (json == null) {\n      return cb(new Error(\"Block not found\"));\n    }\n\n    var block = new Block();\n\n    block.header.parentHash = utils.toBuffer(json.parentHash);\n    block.header.uncleHash = utils.toBuffer(json.sha3Uncles);\n    block.header.coinbase = utils.toBuffer(json.miner);\n    block.header.stateRoot = utils.toBuffer(json.stateRoot); // Should we include the following three?\n    block.header.transactionsTrie = utils.toBuffer(json.transactionsRoot);\n    block.header.receiptTrie = utils.toBuffer(json.receiptsRoot);\n    block.header.bloom = utils.toBuffer(json.logsBloom);\n    block.header.difficulty = utils.toBuffer(\"0x\" + json.totalDifficulty.toString(16)); // BigNumber\n    block.header.number = utils.toBuffer(json.number);\n    block.header.gasLimit = utils.toBuffer(json.gasLimit);\n    block.header.gasUsed = utils.toBuffer(json.gasUsed);\n    block.header.timestamp = utils.toBuffer(json.timestamp);\n    block.header.extraData = utils.toBuffer(json.extraData);\n\n    (json.transactions || []).forEach(function(txJson, index) {\n      block.transactions.push(\n        Transaction.fromJSON(txJson, Transaction.types.real, null, self.forkVersion, self.options.hardfork)\n      );\n    });\n\n    // Fake block. Let's do the worst.\n    // TODO: Attempt to fill out all block data so as to produce the same hash! (can we?)\n    block.hash = function() {\n      return utils.toBuffer(json.hash);\n    };\n\n    cb(null, block);\n  });\n};\n\nForkedBlockchain.prototype.getBlock = function(number, callback) {\n  let checkFn;\n  const isBlockHash = this.isBlockHash(number);\n  if (isBlockHash) {\n    checkFn = this.isFallbackBlockHash;\n  } else {\n    checkFn = this.isFallbackBlock;\n  }\n  checkFn.call(this, number, (err, isFallback) => {\n    if (err) {\n      return callback(err);\n    }\n    if (isFallback) {\n      return this.getFallbackBlock(number, callback);\n    }\n\n    const getBlock = BlockchainDouble.prototype.getBlock.bind(this);\n    if (isBlockHash) {\n      getBlock(number, callback);\n    } else {\n      this.getRelativeBlockNumber(number, (err, number) => {\n        if (err) {\n          return callback(err);\n        }\n        getBlock(number, callback);\n      });\n    }\n  });\n};\n\nForkedBlockchain.prototype.getStorage = function(address, key, number, callback) {\n  var self = this;\n\n  this.getEffectiveBlockNumber(number, (err, blockNumber) => {\n    if (err) {\n      return callback(err);\n    }\n\n    if (blockNumber > self.forkBlockNumber) {\n      // we should have this block\n\n      self.getBlock(blockNumber, function(err, block) {\n        if (err) {\n          return callback(err);\n        }\n\n        const trie = self.stateTrie;\n\n        // Manipulate the state root in place to maintain checkpoints\n        const currentStateRoot = trie.root;\n        self.stateTrie.root = block.header.stateRoot;\n\n        self.getLookupStorageTrie(self.stateTrie)(address, (err, trie) => {\n          if (err) {\n            return callback(err);\n          }\n\n          trie.get(utils.setLengthLeft(utils.toBuffer(key), 32), function(err, value) {\n            // Finally, put the stateRoot back for good\n            trie.root = currentStateRoot;\n\n            if (err != null) {\n              return callback(err);\n            }\n\n            callback(null, value);\n          });\n        });\n      });\n    } else {\n      // we're looking for something prior to forking, so let's\n      // hit eth_getStorageAt\n      self.web3.eth.getStorageAt(to.rpcDataHexString(address), to.rpcDataHexString(key), blockNumber, function(\n        err,\n        value\n      ) {\n        if (err) {\n          return callback(err);\n        }\n\n        value = utils.rlp.encode(value);\n\n        callback(null, value);\n      });\n    }\n  });\n};\n\nForkedBlockchain.prototype.getCode = function(address, number, callback) {\n  var self = this;\n\n  if (typeof number === \"function\") {\n    callback = number;\n    number = \"latest\";\n  }\n\n  if (!number) {\n    number = \"latest\";\n  }\n\n  this.getEffectiveBlockNumber(number, function(err, effective) {\n    if (err) {\n      return callback(err);\n    }\n    number = effective;\n\n    self.stateTrie.getTouchedAt(address, (err, touchedAt) => {\n      if (err) {\n        return callback(err);\n      }\n\n      if (typeof touchedAt !== \"undefined\" && touchedAt <= number) {\n        BlockchainDouble.prototype.getCode.call(self, address, number, callback);\n      } else {\n        if (number > to.number(self.forkBlockNumber)) {\n          number = \"latest\";\n        }\n\n        self.fetchCodeFromFallback(address, number, function(err, code) {\n          if (code) {\n            code = utils.toBuffer(code);\n          }\n          callback(err, code);\n        });\n      }\n    });\n  });\n};\n\nForkedBlockchain.prototype.getLookupAccount = function(trie) {\n  return (address, callback) => {\n    // If the account doesn't exist in our state trie, get it off the wire.\n    trie.keyExists(address, (err, exists) => {\n      if (err) {\n        return callback(err);\n      }\n      if (exists) {\n        trie.get(address, (err, data) => {\n          if (err) {\n            return callback(err);\n          }\n          const account = new Account(data);\n          callback(null, account);\n        });\n      } else {\n        this.fetchAccountFromFallback(address, to.number(trie.forkBlockNumber), callback);\n      }\n    });\n  };\n};\n\nForkedBlockchain.prototype.getAccount = function(address, number, callback) {\n  var self = this;\n\n  if (typeof number === \"function\") {\n    callback = number;\n    number = \"latest\";\n  }\n\n  this.getEffectiveBlockNumber(number, function(err, effective) {\n    if (err) {\n      return callback(err);\n    }\n    number = effective;\n\n    // If the account doesn't exist in our state trie, get it off the wire.\n    self.stateTrie.keyExists(address, function(err, exists) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (exists && number > to.number(self.forkBlockNumber)) {\n        BlockchainDouble.prototype.getAccount.call(self, address, number, function(err, acc) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, acc);\n        });\n      } else {\n        self.fetchAccountFromFallback(address, number, callback);\n      }\n    });\n  });\n};\n\nForkedBlockchain.prototype.getTransaction = function(hash, callback) {\n  var self = this;\n  BlockchainDouble.prototype.getTransaction.call(this, hash, function(err, tx) {\n    if (err) {\n      return callback(err);\n    }\n    if (tx != null) {\n      return callback(null, tx);\n    }\n\n    self.web3.eth.getTransaction(hash, function(err, result) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (result) {\n        result = Transaction.fromJSON(result, Transaction.types.signed, null, self.forkVersion, self.options.hardfork);\n      }\n\n      callback(null, result);\n    });\n  });\n};\n\nForkedBlockchain.prototype.getTransactionReceipt = function(hash, callback) {\n  var self = this;\n  BlockchainDouble.prototype.getTransactionReceipt.call(this, hash, function(err, receipt) {\n    if (err) {\n      return callback(err);\n    }\n    if (receipt) {\n      return callback(null, receipt);\n    }\n\n    self.web3.eth.getTransactionReceipt(hash, function(err, receiptJson) {\n      if (err) {\n        return callback(err);\n      }\n      if (!receiptJson) {\n        return callback();\n      }\n\n      async.parallel(\n        {\n          tx: self.getTransaction.bind(self, hash),\n          block: self.getBlock.bind(self, receiptJson.blockNumber)\n        },\n        function(err, result) {\n          if (err) {\n            return callback(err);\n          }\n\n          var logs = receiptJson.logs.map(function(log) {\n            log.block = result.block;\n            return new Log(log);\n          });\n\n          var receipt = new Receipt(\n            result.tx,\n            result.block,\n            logs,\n            receiptJson.gasUsed,\n            receiptJson.cumulativeGasUsed,\n            receiptJson.contractAddress,\n            receiptJson.status,\n            to.hex(receiptJson.logsBloom)\n          );\n\n          callback(null, receipt);\n        }\n      );\n    });\n  });\n};\n\nForkedBlockchain.prototype.fetchAccountFromFallback = function(address, blockNumber, callback) {\n  var self = this;\n  address = to.hex(address);\n\n  async.parallel(\n    {\n      code: this.fetchCodeFromFallback.bind(this, address, blockNumber),\n      balance: this.fetchBalanceFromFallback.bind(this, address, blockNumber),\n      nonce: this.fetchNonceFromFallback.bind(this, address, blockNumber)\n    },\n    function(err, results) {\n      if (err) {\n        return callback(err);\n      }\n\n      var code = results.code;\n      var balance = results.balance;\n      var nonce = results.nonce;\n\n      var account = new Account({\n        nonce: nonce,\n        balance: balance\n      });\n\n      // This puts the code on the trie, keyed by the hash of the code.\n      // It does not actually link an account to code in the trie.\n      account.setCode(self.stateTrie, utils.toBuffer(code), function(err) {\n        if (err) {\n          return callback(err);\n        }\n        callback(null, account);\n      });\n    }\n  );\n};\n\nForkedBlockchain.prototype.fetchCodeFromFallback = function(address, blockNumber, callback) {\n  var self = this;\n  address = to.hex(address);\n\n  // Allow an optional blockNumber\n  if (typeof blockNumber === \"function\") {\n    callback = blockNumber;\n    blockNumber = this.forkBlockNumber;\n  }\n\n  this.getSafeFallbackBlockNumber(blockNumber, function(err, safeBlockNumber) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.web3.eth.getCode(address, safeBlockNumber, function(err, code) {\n      if (err) {\n        return callback(err);\n      }\n\n      code = \"0x\" + utils.toBuffer(code).toString(\"hex\");\n      callback(null, code);\n    });\n  });\n};\n\nForkedBlockchain.prototype.fetchBalanceFromFallback = function(address, blockNumber, callback) {\n  var self = this;\n  address = to.hex(address);\n\n  // Allow an optional blockNumber\n  if (typeof blockNumber === \"function\") {\n    callback = blockNumber;\n    blockNumber = this.forkBlockNumber;\n  }\n\n  this.getSafeFallbackBlockNumber(blockNumber, function(err, safeBlockNumber) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.web3.eth.getBalance(address, safeBlockNumber, function(err, balance) {\n      if (err) {\n        return callback(err);\n      }\n\n      balance = \"0x\" + new BN(balance).toString(16);\n      callback(null, balance);\n    });\n  });\n};\n\nForkedBlockchain.prototype.fetchNonceFromFallback = function(address, blockNumber, callback) {\n  var self = this;\n  address = to.hex(address);\n\n  // Allow an optional blockNumber\n  if (typeof blockNumber === \"function\") {\n    callback = blockNumber;\n    blockNumber = this.forkBlockNumber;\n  }\n\n  this.getSafeFallbackBlockNumber(blockNumber, function(err, safeBlockNumber) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.web3.eth.getTransactionCount(address, safeBlockNumber, function(err, nonce) {\n      if (err) {\n        return callback(err);\n      }\n\n      nonce = \"0x\" + self.web3.utils.toBN(nonce).toString(16);\n      callback(null, nonce);\n    });\n  });\n};\n\nForkedBlockchain.prototype.getHeight = function(callback) {\n  this.latestBlock(function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n    callback(null, to.number(block.header.number));\n  });\n};\n\nForkedBlockchain.prototype.getRelativeBlockNumber = function(number, callback) {\n  var self = this;\n  this.getEffectiveBlockNumber(number, function(err, effective) {\n    if (err) {\n      return callback(err);\n    }\n    callback(null, effective - to.number(self.forkBlockNumber) - 1);\n  });\n};\n\nForkedBlockchain.prototype.getSafeFallbackBlockNumber = function(blockNumber, callback) {\n  var forkBlockNumber = to.number(this.forkBlockNumber);\n\n  if (blockNumber == null) {\n    return callback(null, forkBlockNumber);\n  }\n\n  this.getEffectiveBlockNumber(blockNumber, function(err, effective) {\n    if (err) {\n      return callback(err);\n    }\n    if (effective > forkBlockNumber) {\n      effective = forkBlockNumber;\n    }\n\n    callback(null, effective);\n  });\n};\n\nForkedBlockchain.prototype.getBlockLogs = function(number, callback) {\n  var self = this;\n\n  this.getEffectiveBlockNumber(number, function(err, effective) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.getRelativeBlockNumber(effective, function(err, relative) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (relative < 0) {\n        self.getBlock(number, function(err, block) {\n          if (err) {\n            return callback(err);\n          }\n\n          self.web3.currentProvider.send(\n            {\n              jsonrpc: \"2.0\",\n              method: \"eth_getLogs\",\n              params: [\n                {\n                  fromBlock: to.hex(number),\n                  toBlock: to.hex(number)\n                }\n              ],\n              id: new Date().getTime()\n            },\n            function(err, res) {\n              if (err) {\n                return callback(err);\n              }\n\n              var logs = res.result.map(function(log) {\n                // To make this result masquerade as the right information.\n                log.block = block;\n                return new Log(log);\n              });\n\n              callback(null, logs);\n            }\n          );\n        });\n      } else {\n        BlockchainDouble.prototype.getBlockLogs.call(self, relative, callback);\n      }\n    });\n  });\n};\n\nForkedBlockchain.prototype.getQueuedNonce = function(address, callback) {\n  var nonce = null;\n  var addressBuffer = to.buffer(address);\n  this.pending_transactions.forEach(function(tx) {\n    if (!tx.from.equals(addressBuffer)) {\n      return;\n    }\n\n    var pendingNonce = new BN(tx.nonce);\n    // If this is the first queued nonce for this address we found,\n    // or it's higher than the previous highest, note it.\n    if (nonce === null || pendingNonce.gt(nonce)) {\n      nonce = pendingNonce;\n    }\n  });\n\n  // If we found a queued transaction nonce, return one higher\n  // than the highest we found\n  if (nonce != null) {\n    return callback(null, nonce.iaddn(1).toArrayLike(Buffer));\n  }\n  this.getLookupAccount(this.stateTrie)(addressBuffer, function(err, account) {\n    if (err) {\n      return callback(err);\n    }\n\n    // nonces are initialized as an empty buffer, which isn't what we want.\n    callback(null, account.nonce.length === 0 ? Buffer.from([0]) : account.nonce);\n  });\n};\n\nForkedBlockchain.prototype.processCall = function(tx, blockNumber, callback) {\n  const self = this;\n\n  this.getEffectiveBlockNumber(blockNumber, function(err, effectiveBlockNumber) {\n    if (err) {\n      return callback(err);\n    }\n\n    if (effectiveBlockNumber > self.forkBlockNumber) {\n      BlockchainDouble.prototype.processCall.call(self, tx, blockNumber, callback);\n    } else {\n      self.web3.eth.call({\n        from: to.rpcDataHexString(tx.from),\n        to: to.nullableRpcDataHexString(tx.to),\n        data: to.rpcDataHexString(tx.data)\n      }, effectiveBlockNumber, function(err, result) {\n        if (err) {\n          return callback(err);\n        }\n\n        callback(null, {\n          execResult: {\n            returnValue: result\n          }\n        });\n      });\n    }\n  });\n};\n\nForkedBlockchain.prototype.processBlock = async function(vm, block, commit, callback) {\n  const self = this;\n\n  self._touchedKeys = [];\n  BlockchainDouble.prototype.processBlock.call(self, vm, block, commit, callback);\n};\n\nForkedBlockchain.prototype.putBlock = function(block, logs, receipts, callback) {\n  const self = this;\n  const touched = Sublevel(self.data.trie_db).sublevel(\"touched\");\n  const blockKey = `block-${to.number(block.header.number)}`;\n\n  BlockchainDouble.prototype.putBlock.call(self, block, logs, receipts, function(err, result) {\n    if (err) {\n      return callback(err);\n    }\n\n    touched.put(blockKey, JSON.stringify(self._touchedKeys), (err) => {\n      if (err) {\n        return callback(err);\n      }\n\n      callback(null, result);\n    });\n  });\n};\n\nForkedBlockchain.prototype.popBlock = function(callback) {\n  const self = this;\n  const touched = Sublevel(this.data.trie_db).sublevel(\"touched\");\n\n  this.data.blocks.last(function(err, block) {\n    if (err) {\n      return callback(err);\n    }\n    if (block == null) {\n      return callback(null, null);\n    }\n\n    const blockKey = `block-${to.number(block.header.number)}`;\n    touched.get(blockKey, function(err, value) {\n      if (err) {\n        return callback(err);\n      }\n\n      const touchedKeys = value ? JSON.parse(value) : [];\n      async.eachSeries(\n        touchedKeys,\n        function(touchedKey, finished) {\n          touched.del(touchedKey, finished);\n        },\n        function(err) {\n          if (err) {\n            return callback(err);\n          }\n\n          touched.del(blockKey, function(err) {\n            if (err) {\n              return callback(err);\n            }\n\n            BlockchainDouble.prototype.popBlock.call(self, callback);\n          });\n        }\n      );\n    });\n  });\n};\n\nForkedBlockchain.prototype.close = function(callback) {\n  if (this.fork.disconnect) {\n    this.fork.disconnect();\n  }\n  BlockchainDouble.prototype.close.call(this, callback);\n};\n\nmodule.exports = ForkedBlockchain;\n","const Sublevel = require(\"level-sublevel\");\nconst MerklePatriciaTree = require(\"merkle-patricia-tree\");\nconst BaseTrie = require(\"merkle-patricia-tree/baseTrie\");\nconst checkpointInterface = require(\"merkle-patricia-tree/checkpoint-interface\");\nvar utils = require(\"ethereumjs-util\");\nvar inherits = require(\"util\").inherits;\nvar Web3 = require(\"web3\");\nvar to = require(\"../utils/to.js\");\n\ninherits(ForkedStorageBaseTrie, BaseTrie);\n\nfunction ForkedStorageBaseTrie(db, root, options) {\n  BaseTrie.call(this, db, root);\n  this._touched = Sublevel(this.db).sublevel(\"touched\");\n\n  this.options = options;\n  this.address = options.address;\n  this.forkBlockNumber = options.forkBlockNumber;\n  this.blockchain = options.blockchain;\n  this.fork = options.fork;\n  this.web3 = new Web3(this.fork);\n  this.persist = typeof options.persist === \"undefined\" ? true : options.persist;\n}\n\n// Note: This overrides a standard method whereas the other methods do not.\nForkedStorageBaseTrie.prototype.get = function(key, callback) {\n  var self = this;\n\n  key = utils.toBuffer(key);\n\n  self.keyExists(key, function(err, keyExists) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.getTouchedAt(key, function(err, touchedAt) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (keyExists && typeof touchedAt !== \"undefined\") {\n        MerklePatriciaTree.prototype.get.call(self, key, function(err, r) {\n          callback(err, r);\n        });\n      } else {\n        // If this is the main trie, get the whole account.\n        if (self.address == null) {\n          self.blockchain.fetchAccountFromFallback(key, self.forkBlockNumber, function(err, account) {\n            if (err) {\n              return callback(err);\n            }\n\n            callback(null, account.serialize());\n          });\n        } else {\n          self.web3.eth.getStorageAt(\n            to.rpcDataHexString(self.address),\n            to.rpcDataHexString(key),\n            self.forkBlockNumber,\n            function(err, value) {\n              if (err) {\n                return callback(err);\n              }\n\n              value = to.rpcQuantityBuffer(value);\n\n              callback(null, value);\n            }\n          );\n        }\n      }\n    });\n  });\n};\n\nForkedStorageBaseTrie.prototype.keyExists = function(key, callback) {\n  key = utils.toBuffer(key);\n  this.findPath(key, (err, node, remainder, stack) => {\n    const exists = node && remainder.length === 0;\n    callback(err, exists);\n  });\n};\n\nForkedStorageBaseTrie.prototype.touch = function(key, callback) {\n  if (!this.persist) {\n    return callback();\n  }\n\n  const self = this;\n  let rpcKey = to.rpcDataHexString(key);\n  if (this.address) {\n    rpcKey = `${to.rpcDataHexString(this.address)};${rpcKey}`;\n  }\n  rpcKey = rpcKey.toLowerCase();\n\n  this._touched.get(rpcKey, (err, result) => {\n    if (err && err.type !== \"NotFoundError\") {\n      return callback(err);\n    }\n\n    if (typeof result === \"undefined\") {\n      // key doesn't exist\n      this.blockchain.data.blocks.last((err, lastBlock) => {\n        if (err) {\n          return callback(err);\n        }\n\n        const number = lastBlock === null ? self.forkBlockNumber : to.number(lastBlock.header.number);\n        this._touched.put(rpcKey, number + 1);\n        this.blockchain._touchedKeys.push(rpcKey);\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n};\n\nconst originalPut = ForkedStorageBaseTrie.prototype.put;\nForkedStorageBaseTrie.prototype.put = function(key, value, callback) {\n  const self = this;\n  this.touch(key, function(err) {\n    if (err) {\n      return callback(err);\n    }\n\n    originalPut.call(self, key, value, callback);\n  });\n};\n\nForkedStorageBaseTrie.prototype.getTouchedAt = function(key, callback) {\n  let rpcKey = to.rpcDataHexString(key);\n  if (this.address) {\n    rpcKey = `${to.rpcDataHexString(this.address)};${rpcKey}`;\n  }\n  rpcKey = rpcKey.toLowerCase();\n\n  this._touched.get(rpcKey, function(err, result) {\n    if (err && err.type !== \"NotFoundError\") {\n      return callback(err);\n    }\n\n    callback(null, result);\n  });\n};\n\nForkedStorageBaseTrie.prototype.del = function(key, callback) {\n  this.put(key, 0, callback);\n};\n\nForkedStorageBaseTrie.prototype.copy = function() {\n  return new ForkedStorageBaseTrie(this.db, this.root, this.options);\n};\n\ninherits(ForkedStorageTrie, ForkedStorageBaseTrie);\n\nfunction ForkedStorageTrie(db, root, options) {\n  ForkedStorageBaseTrie.call(this, db, root, options);\n  checkpointInterface.call(this, this);\n}\n\nForkedStorageTrie.prove = MerklePatriciaTree.prove;\nForkedStorageTrie.verifyProof = MerklePatriciaTree.verifyProof;\n\nmodule.exports = ForkedStorageTrie;\n","module.exports = require(\"merkle-patricia-tree/baseTrie\");","module.exports = require(\"merkle-patricia-tree/checkpoint-interface\");","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\n\"use strict\";\n\nvar _ = require('underscore');\nvar core = require('web3-core');\nvar helpers = require('web3-core-helpers');\nvar Subscriptions = require('web3-core-subscriptions').subscriptions;\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar Net = require('web3-net');\n\nvar ENS = require('web3-eth-ens');\nvar Personal = require('web3-eth-personal');\nvar BaseContract = require('web3-eth-contract');\nvar Iban = require('web3-eth-iban');\nvar Accounts = require('web3-eth-accounts');\nvar abi = require('web3-eth-abi');\n\nvar getNetworkType = require('./getNetworkType.js');\nvar formatter = helpers.formatters;\n\n\nvar blockCall = function (args) {\n    return (_.isString(args[0]) && args[0].indexOf('0x') === 0) ? \"eth_getBlockByHash\" : \"eth_getBlockByNumber\";\n};\n\nvar transactionFromBlockCall = function (args) {\n    return (_.isString(args[0]) && args[0].indexOf('0x') === 0) ? 'eth_getTransactionByBlockHashAndIndex' : 'eth_getTransactionByBlockNumberAndIndex';\n};\n\nvar uncleCall = function (args) {\n    return (_.isString(args[0]) && args[0].indexOf('0x') === 0) ? 'eth_getUncleByBlockHashAndIndex' : 'eth_getUncleByBlockNumberAndIndex';\n};\n\nvar getBlockTransactionCountCall = function (args) {\n    return (_.isString(args[0]) && args[0].indexOf('0x') === 0) ? 'eth_getBlockTransactionCountByHash' : 'eth_getBlockTransactionCountByNumber';\n};\n\nvar uncleCountCall = function (args) {\n    return (_.isString(args[0]) && args[0].indexOf('0x') === 0) ? 'eth_getUncleCountByBlockHash' : 'eth_getUncleCountByBlockNumber';\n};\n\n\nvar Eth = function Eth() {\n    var _this = this;\n\n    // sets _requestmanager\n    core.packageInit(this, arguments);\n\n    // overwrite package setRequestManager\n    var setRequestManager = this.setRequestManager;\n    this.setRequestManager = function (manager) {\n        setRequestManager(manager);\n\n        _this.net.setRequestManager(manager);\n        _this.personal.setRequestManager(manager);\n        _this.accounts.setRequestManager(manager);\n        _this.Contract._requestManager = _this._requestManager;\n        _this.Contract.currentProvider = _this._provider;\n\n        return true;\n    };\n\n    // overwrite setProvider\n    var setProvider = this.setProvider;\n    this.setProvider = function () {\n        setProvider.apply(_this, arguments);\n\n        _this.setRequestManager(_this._requestManager);\n\n        // Set detectedAddress/lastSyncCheck back to null because the provider could be connected to a different chain now\n        _this.ens._detectedAddress = null;\n        _this.ens._lastSyncCheck = null;\n    };\n\n\n    var handleRevert = false;\n    var defaultAccount = null;\n    var defaultBlock = 'latest';\n    var transactionBlockTimeout = 50;\n    var transactionConfirmationBlocks = 24;\n    var transactionPollingTimeout = 750;\n    var maxListenersWarningThreshold = 100;\n    var defaultChain, defaultHardfork, defaultCommon;\n\n    Object.defineProperty(this, 'handleRevert', {\n        get: function () {\n            return handleRevert;\n        },\n        set: function (val) {\n            handleRevert = val;\n\n            // also set on the Contract object\n            _this.Contract.handleRevert = handleRevert;\n\n            // update handleRevert\n            methods.forEach(function(method) {\n                method.handleRevert = handleRevert;\n            });\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultCommon', {\n        get: function () {\n            return defaultCommon;\n        },\n        set: function (val) {\n            defaultCommon = val;\n\n            // also set on the Contract object\n            _this.Contract.defaultCommon = defaultCommon;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.defaultCommon = defaultCommon;\n            });\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultHardfork', {\n        get: function () {\n            return defaultHardfork;\n        },\n        set: function (val) {\n            defaultHardfork = val;\n\n            // also set on the Contract object\n            _this.Contract.defaultHardfork = defaultHardfork;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.defaultHardfork = defaultHardfork;\n            });\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultChain', {\n        get: function () {\n            return defaultChain;\n        },\n        set: function (val) {\n            defaultChain = val;\n\n            // also set on the Contract object\n            _this.Contract.defaultChain = defaultChain;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.defaultChain = defaultChain;\n            });\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionPollingTimeout', {\n        get: function () {\n            return transactionPollingTimeout;\n        },\n        set: function (val) {\n            transactionPollingTimeout = val;\n\n            // also set on the Contract object\n            _this.Contract.transactionPollingTimeout = transactionPollingTimeout;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.transactionPollingTimeout = transactionPollingTimeout;\n            });\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionConfirmationBlocks', {\n        get: function () {\n            return transactionConfirmationBlocks;\n        },\n        set: function (val) {\n            transactionConfirmationBlocks = val;\n\n            // also set on the Contract object\n            _this.Contract.transactionConfirmationBlocks = transactionConfirmationBlocks;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.transactionConfirmationBlocks = transactionConfirmationBlocks;\n            });\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionBlockTimeout', {\n        get: function () {\n            return transactionBlockTimeout;\n        },\n        set: function (val) {\n            transactionBlockTimeout = val;\n\n            // also set on the Contract object\n            _this.Contract.transactionBlockTimeout = transactionBlockTimeout;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.transactionBlockTimeout = transactionBlockTimeout;\n            });\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultAccount', {\n        get: function () {\n            return defaultAccount;\n        },\n        set: function (val) {\n            if(val) {\n                defaultAccount = utils.toChecksumAddress(formatter.inputAddressFormatter(val));\n            }\n\n            // also set on the Contract object\n            _this.Contract.defaultAccount = defaultAccount;\n            _this.personal.defaultAccount = defaultAccount;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.defaultAccount = defaultAccount;\n            });\n\n            return val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultBlock', {\n        get: function () {\n            return defaultBlock;\n        },\n        set: function (val) {\n            defaultBlock = val;\n            // also set on the Contract object\n            _this.Contract.defaultBlock = defaultBlock;\n            _this.personal.defaultBlock = defaultBlock;\n\n            // update defaultBlock\n            methods.forEach(function(method) {\n                method.defaultBlock = defaultBlock;\n            });\n\n            return val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'maxListenersWarningThreshold', {\n        get: function () {\n            return maxListenersWarningThreshold;\n        },\n        set: function (val) {\n            if (_this.currentProvider && _this.currentProvider.setMaxListeners){\n                maxListenersWarningThreshold = val;\n                _this.currentProvider.setMaxListeners(val);\n            }\n        },\n        enumerable: true\n    });\n\n\n    this.clearSubscriptions = _this._requestManager.clearSubscriptions.bind(_this._requestManager);\n\n    // add net\n    this.net = new Net(this);\n    // add chain detection\n    this.net.getNetworkType = getNetworkType.bind(this);\n\n    // add accounts\n    this.accounts = new Accounts(this);\n\n    // add personal\n    this.personal = new Personal(this);\n    this.personal.defaultAccount = this.defaultAccount;\n\n    // set warnings threshold\n    this.maxListenersWarningThreshold = maxListenersWarningThreshold;\n\n    // create a proxy Contract type for this instance, as a Contract's provider\n    // is stored as a class member rather than an instance variable. If we do\n    // not create this proxy type, changing the provider in one instance of\n    // web3-eth would subsequently change the provider for _all_ contract\n    // instances!\n    var self = this;\n    var Contract = function Contract() {\n        BaseContract.apply(this, arguments);\n\n        // when Eth.setProvider is called, call packageInit\n        // on all contract instances instantiated via this Eth\n        // instances. This will update the currentProvider for\n        // the contract instances\n        var _this = this;\n        var setProvider = self.setProvider;\n        self.setProvider = function() {\n          setProvider.apply(self, arguments);\n          core.packageInit(_this, [self]);\n        };\n    };\n\n    Contract.setProvider = function() {\n        BaseContract.setProvider.apply(this, arguments);\n    };\n\n    // make our proxy Contract inherit from web3-eth-contract so that it has all\n    // the right functionality and so that instanceof and friends work properly\n    Contract.prototype = Object.create(BaseContract.prototype);\n    Contract.prototype.constructor = Contract;\n\n    // add contract\n    this.Contract = Contract;\n    this.Contract.defaultAccount = this.defaultAccount;\n    this.Contract.defaultBlock = this.defaultBlock;\n    this.Contract.transactionBlockTimeout = this.transactionBlockTimeout;\n    this.Contract.transactionConfirmationBlocks = this.transactionConfirmationBlocks;\n    this.Contract.transactionPollingTimeout = this.transactionPollingTimeout;\n    this.Contract.handleRevert = this.handleRevert;\n    this.Contract._requestManager = this._requestManager;\n    this.Contract._ethAccounts = this.accounts;\n    this.Contract.currentProvider = this._requestManager.provider;\n\n    // add IBAN\n    this.Iban = Iban;\n\n    // add ABI\n    this.abi = abi;\n\n    // add ENS\n    this.ens = new ENS(this);\n\n    var methods = [\n        new Method({\n            name: 'getNodeInfo',\n            call: 'web3_clientVersion'\n        }),\n        new Method({\n            name: 'getProtocolVersion',\n            call: 'eth_protocolVersion',\n            params: 0\n        }),\n        new Method({\n            name: 'getCoinbase',\n            call: 'eth_coinbase',\n            params: 0\n        }),\n        new Method({\n            name: 'isMining',\n            call: 'eth_mining',\n            params: 0\n        }),\n        new Method({\n            name: 'getHashrate',\n            call: 'eth_hashrate',\n            params: 0,\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'isSyncing',\n            call: 'eth_syncing',\n            params: 0,\n            outputFormatter: formatter.outputSyncingFormatter\n        }),\n        new Method({\n            name: 'getGasPrice',\n            call: 'eth_gasPrice',\n            params: 0,\n            outputFormatter: formatter.outputBigNumberFormatter\n        }),\n        new Method({\n            name: 'getAccounts',\n            call: 'eth_accounts',\n            params: 0,\n            outputFormatter: utils.toChecksumAddress\n        }),\n        new Method({\n            name: 'getBlockNumber',\n            call: 'eth_blockNumber',\n            params: 0,\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'getBalance',\n            call: 'eth_getBalance',\n            params: 2,\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter],\n            outputFormatter: formatter.outputBigNumberFormatter\n        }),\n        new Method({\n            name: 'getStorageAt',\n            call: 'eth_getStorageAt',\n            params: 3,\n            inputFormatter: [formatter.inputAddressFormatter, utils.numberToHex, formatter.inputDefaultBlockNumberFormatter]\n        }),\n        new Method({\n            name: 'getCode',\n            call: 'eth_getCode',\n            params: 2,\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter]\n        }),\n        new Method({\n            name: 'getBlock',\n            call: blockCall,\n            params: 2,\n            inputFormatter: [formatter.inputBlockNumberFormatter, function (val) { return !!val; }],\n            outputFormatter: formatter.outputBlockFormatter\n        }),\n        new Method({\n            name: 'getUncle',\n            call: uncleCall,\n            params: 2,\n            inputFormatter: [formatter.inputBlockNumberFormatter, utils.numberToHex],\n            outputFormatter: formatter.outputBlockFormatter,\n\n        }),\n        new Method({\n            name: 'getBlockTransactionCount',\n            call: getBlockTransactionCountCall,\n            params: 1,\n            inputFormatter: [formatter.inputBlockNumberFormatter],\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'getBlockUncleCount',\n            call: uncleCountCall,\n            params: 1,\n            inputFormatter: [formatter.inputBlockNumberFormatter],\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'getTransaction',\n            call: 'eth_getTransactionByHash',\n            params: 1,\n            inputFormatter: [null],\n            outputFormatter: formatter.outputTransactionFormatter\n        }),\n        new Method({\n            name: 'getTransactionFromBlock',\n            call: transactionFromBlockCall,\n            params: 2,\n            inputFormatter: [formatter.inputBlockNumberFormatter, utils.numberToHex],\n            outputFormatter: formatter.outputTransactionFormatter\n        }),\n        new Method({\n            name: 'getTransactionReceipt',\n            call: 'eth_getTransactionReceipt',\n            params: 1,\n            inputFormatter: [null],\n            outputFormatter: formatter.outputTransactionReceiptFormatter\n        }),\n        new Method({\n            name: 'getTransactionCount',\n            call: 'eth_getTransactionCount',\n            params: 2,\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter],\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'sendSignedTransaction',\n            call: 'eth_sendRawTransaction',\n            params: 1,\n            inputFormatter: [null],\n            abiCoder: abi\n        }),\n        new Method({\n            name: 'signTransaction',\n            call: 'eth_signTransaction',\n            params: 1,\n            inputFormatter: [formatter.inputTransactionFormatter]\n        }),\n        new Method({\n            name: 'sendTransaction',\n            call: 'eth_sendTransaction',\n            params: 1,\n            inputFormatter: [formatter.inputTransactionFormatter],\n            abiCoder: abi\n        }),\n        new Method({\n            name: 'sign',\n            call: 'eth_sign',\n            params: 2,\n            inputFormatter: [formatter.inputSignFormatter, formatter.inputAddressFormatter],\n            transformPayload: function (payload) {\n                payload.params.reverse();\n                return payload;\n            }\n        }),\n        new Method({\n            name: 'call',\n            call: 'eth_call',\n            params: 2,\n            inputFormatter: [formatter.inputCallFormatter, formatter.inputDefaultBlockNumberFormatter],\n            abiCoder: abi\n        }),\n        new Method({\n            name: 'estimateGas',\n            call: 'eth_estimateGas',\n            params: 1,\n            inputFormatter: [formatter.inputCallFormatter],\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'submitWork',\n            call: 'eth_submitWork',\n            params: 3\n        }),\n        new Method({\n            name: 'getWork',\n            call: 'eth_getWork',\n            params: 0\n        }),\n        new Method({\n            name: 'getPastLogs',\n            call: 'eth_getLogs',\n            params: 1,\n            inputFormatter: [formatter.inputLogFormatter],\n            outputFormatter: formatter.outputLogFormatter\n        }),\n        new Method({\n            name: 'getChainId',\n            call: 'eth_chainId',\n            params: 0,\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'requestAccounts',\n            call: 'eth_requestAccounts',\n            params: 0,\n            outputFormatter: utils.toChecksumAddress\n        }),\n        new Method({\n            name: 'getProof',\n            call: 'eth_getProof',\n            params: 3,\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputStorageKeysFormatter, formatter.inputDefaultBlockNumberFormatter],\n            outputFormatter: formatter.outputProofFormatter\n        }),\n        new Method({\n            name: 'getPendingTransactions',\n            call: 'eth_pendingTransactions',\n            params: 0,\n            outputFormatter: formatter.outputTransactionFormatter\n        }),\n\n        // subscriptions\n        new Subscriptions({\n            name: 'subscribe',\n            type: 'eth',\n            subscriptions: {\n                'newBlockHeaders': {\n                    // TODO rename on RPC side?\n                    subscriptionName: 'newHeads', // replace subscription with this name\n                    params: 0,\n                    outputFormatter: formatter.outputBlockFormatter\n                },\n                'pendingTransactions': {\n                    subscriptionName: 'newPendingTransactions', // replace subscription with this name\n                    params: 0\n                },\n                'logs': {\n                    params: 1,\n                    inputFormatter: [formatter.inputLogFormatter],\n                    outputFormatter: formatter.outputLogFormatter,\n                    // DUBLICATE, also in web3-eth-contract\n                    subscriptionHandler: function (output) {\n                        if(output.removed) {\n                            this.emit('changed', output);\n                        } else {\n                            this.emit('data', output);\n                        }\n\n                        if (_.isFunction(this.callback)) {\n                            this.callback(null, output, this);\n                        }\n                    }\n                },\n                'syncing': {\n                    params: 0,\n                    outputFormatter: formatter.outputSyncingFormatter,\n                    subscriptionHandler: function (output) {\n                        var _this = this;\n\n                        // fire TRUE at start\n                        if(this._isSyncing !== true) {\n                            this._isSyncing = true;\n                            this.emit('changed', _this._isSyncing);\n\n                            if (_.isFunction(this.callback)) {\n                                this.callback(null, _this._isSyncing, this);\n                            }\n\n                            setTimeout(function () {\n                                _this.emit('data', output);\n\n                                if (_.isFunction(_this.callback)) {\n                                    _this.callback(null, output, _this);\n                                }\n                            }, 0);\n\n                            // fire sync status\n                        } else {\n                            this.emit('data', output);\n                            if (_.isFunction(_this.callback)) {\n                                this.callback(null, output, this);\n                            }\n\n                            // wait for some time before fireing the FALSE\n                            clearTimeout(this._isSyncingTimeout);\n                            this._isSyncingTimeout = setTimeout(function () {\n                                if(output.currentBlock > output.highestBlock - 200) {\n                                    _this._isSyncing = false;\n                                    _this.emit('changed', _this._isSyncing);\n\n                                    if (_.isFunction(_this.callback)) {\n                                        _this.callback(null, _this._isSyncing, _this);\n                                    }\n                                }\n                            }, 500);\n                        }\n                    }\n                }\n            }\n        })\n    ];\n\n    methods.forEach(function(method) {\n        method.attachToObject(_this);\n        method.setRequestManager(_this._requestManager, _this.accounts); // second param is the eth.accounts module (necessary for signing transactions locally)\n        method.defaultBlock = _this.defaultBlock;\n        method.defaultAccount = _this.defaultAccount;\n        method.transactionBlockTimeout = _this.transactionBlockTimeout;\n        method.transactionConfirmationBlocks = _this.transactionConfirmationBlocks;\n        method.transactionPollingTimeout = _this.transactionPollingTimeout;\n        method.handleRevert = _this.handleRevert;\n    });\n\n};\n\n// Adds the static givenProvider and providers property to the Eth module\ncore.addProviders(Eth);\n\n\nmodule.exports = Eth;\n\n","module.exports = require(\"web3-core-subscriptions\");","module.exports = require(\"web3-eth-ens\");","module.exports = require(\"web3-eth-contract\");","module.exports = require(\"web3-eth-iban\");","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file accounts.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\n'use strict';\n\nvar _ = require('underscore');\nvar core = require('web3-core');\nvar Method = require('web3-core-method');\nvar Account = require('eth-lib/lib/account');\nvar Hash = require('eth-lib/lib/hash');\nvar RLP = require('eth-lib/lib/rlp');// jshint ignore:line\nvar Bytes = require('eth-lib/lib/bytes');// jshint ignore:line\nvar cryp = (typeof global === 'undefined') ? require('crypto-browserify') : require('crypto');\nvar scrypt = require('scrypt-js');\nvar uuid = require('uuid');\nvar utils = require('web3-utils');\nvar helpers = require('web3-core-helpers');\nvar Transaction = require('ethereumjs-tx').Transaction;\nvar Common = require('ethereumjs-common').default;\n\n\nvar isNot = function(value) {\n    return (_.isUndefined(value) || _.isNull(value));\n};\n\nvar Accounts = function Accounts() {\n    var _this = this;\n\n    // sets _requestmanager\n    core.packageInit(this, arguments);\n\n    // remove unecessary core functions\n    delete this.BatchRequest;\n    delete this.extend;\n\n    var _ethereumCall = [\n        new Method({\n            name: 'getNetworkId',\n            call: 'net_version',\n            params: 0,\n            outputFormatter: parseInt\n        }),\n        new Method({\n            name: 'getChainId',\n            call: 'eth_chainId',\n            params: 0,\n            outputFormatter: utils.hexToNumber\n        }),\n        new Method({\n            name: 'getGasPrice',\n            call: 'eth_gasPrice',\n            params: 0\n        }),\n        new Method({\n            name: 'getTransactionCount',\n            call: 'eth_getTransactionCount',\n            params: 2,\n            inputFormatter: [function(address) {\n                if (utils.isAddress(address)) {\n                    return address;\n                } else {\n                    throw new Error('Address ' + address + ' is not a valid address to get the \"transactionCount\".');\n                }\n            }, function() {\n                return 'latest';\n            }]\n        })\n    ];\n    // attach methods to this._ethereumCall\n    this._ethereumCall = {};\n    _.each(_ethereumCall, function(method) {\n        method.attachToObject(_this._ethereumCall);\n        method.setRequestManager(_this._requestManager);\n    });\n\n\n    this.wallet = new Wallet(this);\n};\n\nAccounts.prototype._addAccountFunctions = function(account) {\n    var _this = this;\n\n    // add sign functions\n    account.signTransaction = function signTransaction(tx, callback) {\n        return _this.signTransaction(tx, account.privateKey, callback);\n    };\n    account.sign = function sign(data) {\n        return _this.sign(data, account.privateKey);\n    };\n\n    account.encrypt = function encrypt(password, options) {\n        return _this.encrypt(account.privateKey, password, options);\n    };\n\n\n    return account;\n};\n\nAccounts.prototype.create = function create(entropy) {\n    return this._addAccountFunctions(Account.create(entropy || utils.randomHex(32)));\n};\n\nAccounts.prototype.privateKeyToAccount = function privateKeyToAccount(privateKey, ignoreLength) {\n    if (!privateKey.startsWith('0x')) {\n        privateKey = '0x' + privateKey;\n    }\n\n    // 64 hex characters + hex-prefix\n    if (!ignoreLength && privateKey.length !== 66) {\n        throw new Error(\"Private key must be 32 bytes long\");\n    }\n\n    return this._addAccountFunctions(Account.fromPrivate(privateKey));\n};\n\nAccounts.prototype.signTransaction = function signTransaction(tx, privateKey, callback) {\n    var _this = this,\n        error = false,\n        transactionOptions = {},\n        hasTxSigningOptions = !!(tx && ((tx.chain && tx.hardfork) || tx.common));\n\n    callback = callback || function() {\n    };\n\n    if (!tx) {\n        error = new Error('No transaction object given!');\n\n        callback(error);\n        return Promise.reject(error);\n    }\n\n    function signed(tx) {\n        if (tx.common && (tx.chain && tx.hardfork)) {\n            error = new Error(\n                'Please provide the ethereumjs-common object or the chain and hardfork property but not all together.'\n            );\n        }\n\n        if ((tx.chain && !tx.hardfork) || (tx.hardfork && !tx.chain)) {\n            error = new Error(\n                'When specifying chain and hardfork, both values must be defined. ' +\n                'Received \"chain\": ' + tx.chain + ', \"hardfork\": ' + tx.hardfork\n            );\n        }\n\n        if (!tx.gas && !tx.gasLimit) {\n            error = new Error('\"gas\" is missing');\n        }\n\n        if (tx.nonce < 0 ||\n            tx.gas < 0 ||\n            tx.gasPrice < 0 ||\n            tx.chainId < 0) {\n            error = new Error('Gas, gasPrice, nonce or chainId is lower than 0');\n        }\n\n        if (error) {\n            callback(error);\n            return Promise.reject(error);\n        }\n\n        try {\n            var transaction = helpers.formatters.inputCallFormatter(_.clone(tx));\n            transaction.to = transaction.to || '0x';\n            transaction.data = transaction.data || '0x';\n            transaction.value = transaction.value || '0x';\n            transaction.chainId = utils.numberToHex(transaction.chainId);\n\n            // Because tx has no ethereumjs-tx signing options we use fetched vals.\n            if (!hasTxSigningOptions) {\n                transactionOptions.common = Common.forCustomChain(\n                    'mainnet',\n                    {\n                        name: 'custom-network',\n                        networkId: transaction.networkId,\n                        chainId: transaction.chainId\n                    },\n                    'petersburg'\n                );\n\n                delete transaction.networkId;\n            } else {\n                if (transaction.common) {\n                    transactionOptions.common = Common.forCustomChain(\n                        transaction.common.baseChain || 'mainnet',\n                        {\n                            name: transaction.common.customChain.name || 'custom-network',\n                            networkId: transaction.common.customChain.networkId,\n                            chainId: transaction.common.customChain.chainId\n                        },\n                        transaction.common.hardfork || 'petersburg'\n                    );\n\n                    delete transaction.common;\n                }\n\n                if (transaction.chain) {\n                    transactionOptions.chain = transaction.chain;\n                    delete transaction.chain;\n                }\n\n                if (transaction.hardfork) {\n                    transactionOptions.hardfork = transaction.hardfork;\n                    delete transaction.hardfork;\n                }\n            }\n\n            if (privateKey.startsWith('0x')) {\n                privateKey = privateKey.substring(2);\n            }\n\n            var ethTx = new Transaction(transaction, transactionOptions);\n\n            ethTx.sign(Buffer.from(privateKey, 'hex'));\n\n            var validationResult = ethTx.validate(true);\n\n            if (validationResult !== '') {\n                throw new Error('Signer Error: ' + validationResult);\n            }\n\n            var rlpEncoded = ethTx.serialize().toString('hex');\n            var rawTransaction = '0x' + rlpEncoded;\n            var transactionHash = utils.keccak256(rawTransaction);\n\n            var result = {\n                messageHash: '0x' + Buffer.from(ethTx.hash(false)).toString('hex'),\n                v: '0x' + Buffer.from(ethTx.v).toString('hex'),\n                r: '0x' + Buffer.from(ethTx.r).toString('hex'),\n                s: '0x' + Buffer.from(ethTx.s).toString('hex'),\n                rawTransaction: rawTransaction,\n                transactionHash: transactionHash\n            };\n\n            callback(null, result);\n            return result;\n\n        } catch (e) {\n            callback(e);\n            return Promise.reject(e);\n        }\n    }\n\n\n    // Resolve immediately if nonce, chainId, price and signing options are provided\n    if (tx.nonce !== undefined && tx.chainId !== undefined && tx.gasPrice !== undefined && hasTxSigningOptions) {\n        return Promise.resolve(signed(tx));\n    }\n\n    // Otherwise, get the missing info from the Ethereum Node\n    return Promise.all([\n        isNot(tx.chainId) ? _this._ethereumCall.getChainId() : tx.chainId,\n        isNot(tx.gasPrice) ? _this._ethereumCall.getGasPrice() : tx.gasPrice,\n        isNot(tx.nonce) ? _this._ethereumCall.getTransactionCount(_this.privateKeyToAccount(privateKey).address) : tx.nonce,\n        isNot(hasTxSigningOptions) ? _this._ethereumCall.getNetworkId() : 1\n    ]).then(function(args) {\n        if (isNot(args[0]) || isNot(args[1]) || isNot(args[2]) || isNot(args[3])) {\n            throw new Error('One of the values \"chainId\", \"networkId\", \"gasPrice\", or \"nonce\" couldn\\'t be fetched: ' + JSON.stringify(args));\n        }\n        return signed(_.extend(tx, {chainId: args[0], gasPrice: args[1], nonce: args[2], networkId: args[3]}));\n    });\n};\n\n/* jshint ignore:start */\nAccounts.prototype.recoverTransaction = function recoverTransaction(rawTx) {\n    var values = RLP.decode(rawTx);\n    var signature = Account.encodeSignature(values.slice(6, 9));\n    var recovery = Bytes.toNumber(values[6]);\n    var extraData = recovery < 35 ? [] : [Bytes.fromNumber((recovery - 35) >> 1), '0x', '0x'];\n    var signingData = values.slice(0, 6).concat(extraData);\n    var signingDataHex = RLP.encode(signingData);\n    return Account.recover(Hash.keccak256(signingDataHex), signature);\n};\n/* jshint ignore:end */\n\nAccounts.prototype.hashMessage = function hashMessage(data) {\n    var messageHex = utils.isHexStrict(data) ? data : utils.utf8ToHex(data);\n    var messageBytes = utils.hexToBytes(messageHex)\n    var messageBuffer = Buffer.from(messageBytes);\n    var preamble = '\\x19Ethereum Signed Message:\\n' + messageBytes.length;\n    var preambleBuffer = Buffer.from(preamble);\n    var ethMessage = Buffer.concat([preambleBuffer, messageBuffer]);\n    return Hash.keccak256s(ethMessage);\n};\n\nAccounts.prototype.sign = function sign(data, privateKey) {\n    if (!privateKey.startsWith('0x')) {\n        privateKey = '0x' + privateKey;\n    }\n\n    // 64 hex characters + hex-prefix\n    if (privateKey.length !== 66) {\n        throw new Error(\"Private key must be 32 bytes long\");\n    }\n\n    var hash = this.hashMessage(data);\n    var signature = Account.sign(hash, privateKey);\n    var vrs = Account.decodeSignature(signature);\n    return {\n        message: data,\n        messageHash: hash,\n        v: vrs[0],\n        r: vrs[1],\n        s: vrs[2],\n        signature: signature\n    };\n};\n\nAccounts.prototype.recover = function recover(message, signature, preFixed) {\n    var args = [].slice.apply(arguments);\n\n\n    if (_.isObject(message)) {\n        return this.recover(message.messageHash, Account.encodeSignature([message.v, message.r, message.s]), true);\n    }\n\n    if (!preFixed) {\n        message = this.hashMessage(message);\n    }\n\n    if (args.length >= 4) {\n        preFixed = args.slice(-1)[0];\n        preFixed = _.isBoolean(preFixed) ? !!preFixed : false;\n\n        return this.recover(message, Account.encodeSignature(args.slice(1, 4)), preFixed); // v, r, s\n    }\n    return Account.recover(message, signature);\n};\n\n// Taken from https://github.com/ethereumjs/ethereumjs-wallet\nAccounts.prototype.decrypt = function(v3Keystore, password, nonStrict) {\n    /* jshint maxcomplexity: 10 */\n\n    if (!_.isString(password)) {\n        throw new Error('No password given.');\n    }\n\n    var json = (_.isObject(v3Keystore)) ? v3Keystore : JSON.parse(nonStrict ? v3Keystore.toLowerCase() : v3Keystore);\n\n    if (json.version !== 3) {\n        throw new Error('Not a valid V3 wallet');\n    }\n\n    var derivedKey;\n    var kdfparams;\n    if (json.crypto.kdf === 'scrypt') {\n        kdfparams = json.crypto.kdfparams;\n\n        // FIXME: support progress reporting callback\n        derivedKey = scrypt.syncScrypt(Buffer.from(password), Buffer.from(kdfparams.salt, 'hex'), kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen);\n    } else if (json.crypto.kdf === 'pbkdf2') {\n        kdfparams = json.crypto.kdfparams;\n\n        if (kdfparams.prf !== 'hmac-sha256') {\n            throw new Error('Unsupported parameters to PBKDF2');\n        }\n\n        derivedKey = cryp.pbkdf2Sync(Buffer.from(password), Buffer.from(kdfparams.salt, 'hex'), kdfparams.c, kdfparams.dklen, 'sha256');\n    } else {\n        throw new Error('Unsupported key derivation scheme');\n    }\n\n    var ciphertext = Buffer.from(json.crypto.ciphertext, 'hex');\n\n    var mac = utils.sha3(Buffer.from([...derivedKey.slice(16, 32), ...ciphertext])).replace('0x', '');\n    if (mac !== json.crypto.mac) {\n        throw new Error('Key derivation failed - possibly wrong password');\n    }\n\n    var decipher = cryp.createDecipheriv(json.crypto.cipher, derivedKey.slice(0, 16), Buffer.from(json.crypto.cipherparams.iv, 'hex'));\n    var seed = '0x' + Buffer.from([...decipher.update(ciphertext), ...decipher.final()]).toString('hex');\n\n    return this.privateKeyToAccount(seed, true);\n};\n\nAccounts.prototype.encrypt = function(privateKey, password, options) {\n    /* jshint maxcomplexity: 20 */\n    var account = this.privateKeyToAccount(privateKey, true);\n\n    options = options || {};\n    var salt = options.salt || cryp.randomBytes(32);\n    var iv = options.iv || cryp.randomBytes(16);\n\n    var derivedKey;\n    var kdf = options.kdf || 'scrypt';\n    var kdfparams = {\n        dklen: options.dklen || 32,\n        salt: salt.toString('hex')\n    };\n\n    if (kdf === 'pbkdf2') {\n        kdfparams.c = options.c || 262144;\n        kdfparams.prf = 'hmac-sha256';\n        derivedKey = cryp.pbkdf2Sync(Buffer.from(password), Buffer.from(kdfparams.salt, 'hex'), kdfparams.c, kdfparams.dklen, 'sha256');\n    } else if (kdf === 'scrypt') {\n        // FIXME: support progress reporting callback\n        kdfparams.n = options.n || 8192; // 2048 4096 8192 16384\n        kdfparams.r = options.r || 8;\n        kdfparams.p = options.p || 1;\n        derivedKey = scrypt.syncScrypt(Buffer.from(password), Buffer.from(kdfparams.salt, 'hex'), kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen);\n    } else {\n        throw new Error('Unsupported kdf');\n    }\n\n    var cipher = cryp.createCipheriv(options.cipher || 'aes-128-ctr', derivedKey.slice(0, 16), iv);\n    if (!cipher) {\n        throw new Error('Unsupported cipher');\n    }\n\n\n    var ciphertext = Buffer.from([\n        ...cipher.update(Buffer.from(account.privateKey.replace('0x', ''), 'hex')),\n        ...cipher.final()]\n    );\n\n    var mac = utils.sha3(Buffer.from([...derivedKey.slice(16, 32), ...ciphertext])).replace('0x', '');\n\n    return {\n        version: 3,\n        id: uuid.v4({random: options.uuid || cryp.randomBytes(16)}),\n        address: account.address.toLowerCase().replace('0x', ''),\n        crypto: {\n            ciphertext: ciphertext.toString('hex'),\n            cipherparams: {\n                iv: iv.toString('hex')\n            },\n            cipher: options.cipher || 'aes-128-ctr',\n            kdf: kdf,\n            kdfparams: kdfparams,\n            mac: mac.toString('hex')\n        }\n    };\n};\n\n\n// Note: this is trying to follow closely the specs on\n// http://web3js.readthedocs.io/en/1.0/web3-eth-accounts.html\n\nfunction Wallet(accounts) {\n    this._accounts = accounts;\n    this.length = 0;\n    this.defaultKeyName = 'web3js_wallet';\n}\n\nWallet.prototype._findSafeIndex = function(pointer) {\n    pointer = pointer || 0;\n    if (_.has(this, pointer)) {\n        return this._findSafeIndex(pointer + 1);\n    } else {\n        return pointer;\n    }\n};\n\nWallet.prototype._currentIndexes = function() {\n    var keys = Object.keys(this);\n    var indexes = keys\n        .map(function(key) {\n            return parseInt(key);\n        })\n        .filter(function(n) {\n            return (n < 9e20);\n        });\n\n    return indexes;\n};\n\nWallet.prototype.create = function(numberOfAccounts, entropy) {\n    for (var i = 0; i < numberOfAccounts; ++i) {\n        this.add(this._accounts.create(entropy).privateKey);\n    }\n    return this;\n};\n\nWallet.prototype.add = function(account) {\n\n    if (_.isString(account)) {\n        account = this._accounts.privateKeyToAccount(account);\n    }\n    if (!this[account.address]) {\n        account = this._accounts.privateKeyToAccount(account.privateKey);\n        account.index = this._findSafeIndex();\n\n        this[account.index] = account;\n        this[account.address] = account;\n        this[account.address.toLowerCase()] = account;\n\n        this.length++;\n\n        return account;\n    } else {\n        return this[account.address];\n    }\n};\n\nWallet.prototype.remove = function(addressOrIndex) {\n    var account = this[addressOrIndex];\n\n    if (account && account.address) {\n        // address\n        this[account.address].privateKey = null;\n        delete this[account.address];\n        // address lowercase\n        this[account.address.toLowerCase()].privateKey = null;\n        delete this[account.address.toLowerCase()];\n        // index\n        this[account.index].privateKey = null;\n        delete this[account.index];\n\n        this.length--;\n\n        return true;\n    } else {\n        return false;\n    }\n};\n\nWallet.prototype.clear = function() {\n    var _this = this;\n    var indexes = this._currentIndexes();\n\n    indexes.forEach(function(index) {\n        _this.remove(index);\n    });\n\n    return this;\n};\n\nWallet.prototype.encrypt = function(password, options) {\n    var _this = this;\n    var indexes = this._currentIndexes();\n\n    var accounts = indexes.map(function(index) {\n        return _this[index].encrypt(password, options);\n    });\n\n    return accounts;\n};\n\n\nWallet.prototype.decrypt = function(encryptedWallet, password) {\n    var _this = this;\n\n    encryptedWallet.forEach(function(keystore) {\n        var account = _this._accounts.decrypt(keystore, password);\n\n        if (account) {\n            _this.add(account);\n        } else {\n            throw new Error('Couldn\\'t decrypt accounts. Password wrong?');\n        }\n    });\n\n    return this;\n};\n\nWallet.prototype.save = function(password, keyName) {\n    localStorage.setItem(keyName || this.defaultKeyName, JSON.stringify(this.encrypt(password)));\n\n    return true;\n};\n\nWallet.prototype.load = function(password, keyName) {\n    var keystore = localStorage.getItem(keyName || this.defaultKeyName);\n\n    if (keystore) {\n        try {\n            keystore = JSON.parse(keystore);\n        } catch (e) {\n\n        }\n    }\n\n    return this.decrypt(keystore || [], password);\n};\n\nif (!storageAvailable('localStorage')) {\n    delete Wallet.prototype.save;\n    delete Wallet.prototype.load;\n}\n\n/**\n * Checks whether a storage type is available or not\n * For more info on how this works, please refer to MDN documentation\n * https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Feature-detecting_localStorage\n *\n * @method storageAvailable\n * @param {String} type the type of storage ('localStorage', 'sessionStorage')\n * @returns {Boolean} a boolean indicating whether the specified storage is available or not\n */\nfunction storageAvailable(type) {\n    var storage;\n    try {\n        storage = window[type];\n        var x = '__storage_test__';\n        storage.setItem(x, x);\n        storage.removeItem(x);\n        return true;\n    } catch (e) {\n        return e && (\n                // everything except Firefox\n            e.code === 22 ||\n            // Firefox\n            e.code === 1014 ||\n            // test name field too, because code might not be present\n            // everything except Firefox\n            e.name === 'QuotaExceededError' ||\n            // Firefox\n            e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n            // acknowledge QuotaExceededError only if there's something already stored\n            (storage && storage.length !== 0);\n    }\n}\n\n\nmodule.exports = Accounts;\n","module.exports = require(\"eth-lib/lib/account\");","module.exports = require(\"eth-lib/lib/hash\");","module.exports = require(\"eth-lib/lib/rlp\");","module.exports = require(\"eth-lib/lib/bytes\");","module.exports = require(\"crypto-browserify\");","module.exports = require(\"scrypt-js\");","module.exports = require(\"uuid\");","module.exports = require(\"web3-eth-abi\");","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file getNetworkType.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\n\"use strict\";\n\nvar _ = require('underscore');\n\nvar getNetworkType = function (callback) {\n    var _this = this,\n        id;\n\n\n    return this.net.getId()\n        .then(function (givenId) {\n\n            id = givenId;\n\n            return _this.getBlock(0);\n        })\n        .then(function (genesis) {\n            var returnValue = 'private';\n\n            if (genesis.hash === '0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3' &&\n                id === 1) {\n                returnValue = 'main';\n            }\n            if (genesis.hash === '0cd786a2425d16f152c658316c423e6ce1181e15c3295826d7c9904cba9ce303' &&\n                id === 2) {\n                returnValue = 'morden';\n            }\n            if (genesis.hash === '0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d' &&\n                id === 3) {\n                returnValue = 'ropsten';\n            }\n            if (genesis.hash === '0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177' &&\n                id === 4) {\n                returnValue = 'rinkeby';\n            }\n            if (genesis.hash === '0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a' &&\n                id === 5) {\n                returnValue = 'goerli';\n            }\n            if (genesis.hash === '0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9' &&\n                id === 42) {\n                returnValue = 'kovan';\n            }\n\n            if (_.isFunction(callback)) {\n                callback(null, returnValue);\n            }\n\n            return returnValue;\n        })\n        .catch(function (err) {\n            if (_.isFunction(callback)) {\n                callback(err);\n            } else {\n                throw err;\n            }\n        });\n};\n\nmodule.exports = getNetworkType;\n","module.exports = require(\"web3-shh\");","module.exports = require(\"web3-bzz\");","module.exports = require(\"lru-cache\");","module.exports = require(\"eth-sig-util\");","module.exports = require(\"rlp\");","module.exports = {\n  // Mimics crypto.random bytes, but takes in a random number generator\n  // as its second parameter. rng is expected to be a function that takes\n  // no parameters and returns a result like Math.random().\n  // This is important because it allows for a seeded random number generator.\n  // Since this is a mock RPC library, the rng doesn't need to be cryptographically secure.\n  randomBytes: function(length, rng) {\n    var buf = [];\n\n    for (var i = 0; i < length; i++) {\n      buf.push(rng() * 255);\n    }\n\n    return Buffer.from(buf);\n  },\n\n  randomAlphaNumericString: function(length, rng) {\n    const alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    let text = \"\";\n\n    for (var i = 0; i < length; i++) {\n      text += alphabet.charAt(Math.floor((rng || Math.random)() * alphabet.length));\n    }\n\n    return text;\n  }\n};\n","// this replaces `eth-block-tracker` in the provider-engine, as that block tracker is meant to work with\n// an external provider instance\n\nconst EventEmitter = require(\"events\");\nvar blockHelper = require(\"./utils/block_helper\");\n\nfunction GanacheBlockTracker(opts) {\n  opts = opts || {};\n  EventEmitter.apply(this);\n  if (!opts.blockchain) {\n    throw new Error(\"RpcBlockTracker - no blockchain specified.\");\n  }\n  if (!opts.blockchain.on) {\n    throw new Error(\"RpcBlockTracker - blockchain is not an EventEmitter.\");\n  }\n  this._blockchain = opts.blockchain;\n  this.start = this.start.bind(this);\n  this.stop = this.stop.bind(this);\n  this.getTrackingBlock = this.getTrackingBlock.bind(this);\n  this.awaitCurrentBlock = this.awaitCurrentBlock.bind(this);\n  this._setCurrentBlock = this._setCurrentBlock.bind(this);\n}\n\nGanacheBlockTracker.prototype = Object.create(EventEmitter.prototype);\nGanacheBlockTracker.prototype.constructor = GanacheBlockTracker;\n\nGanacheBlockTracker.prototype.getTrackingBlock = function() {\n  return this._currentBlock;\n};\n\nGanacheBlockTracker.prototype.getCurrentBlock = function() {\n  return this._currentBlock;\n};\n\nGanacheBlockTracker.prototype.awaitCurrentBlock = function() {\n  const self = this;\n  // return if available\n  if (this._currentBlock) {\n    return this._currentBlock;\n  }\n  // wait for \"sync\" event\n  return new Promise((resolve) => this.once(\"block\", resolve)).then(() => self._currentBlock);\n};\n\nGanacheBlockTracker.prototype.start = function(opts = {}) {\n  this._blockchain.on(\"block\", this._setCurrentBlock);\n  return Promise.resolve();\n};\n\nGanacheBlockTracker.prototype.stop = function() {\n  this._isRunning = false;\n  this._blockchain.removeListener(\"block\", this._setCurrentBlock);\n};\n\n//\n// private\n//\n\nGanacheBlockTracker.prototype._setCurrentBlock = function(newBlock) {\n  const block = blockHelper.toJSON(newBlock, true);\n  if (this._currentBlock && this._currentBlock.hash === block.hash) {\n    return;\n  }\n  const oldBlock = this._currentBlock;\n  this._currentBlock = block;\n  this.emit(\"latest\", block);\n  this.emit(\"sync\", { block, oldBlock });\n  this.emit(\"block\", block);\n};\n\nmodule.exports = GanacheBlockTracker;\n","// make sourcemaps work!\nrequire(\"source-map-support/register\");\n\nvar Provider = require(\"./provider\");\nvar webSocketServer = require(\"./webSocketServer\");\nvar httpServer = require(\"./httpServer\");\nvar _ = require(\"lodash\");\n\nmodule.exports = {\n  create: function(options) {\n    options = _applyDefaultOptions(options || {});\n\n    var logger = options.logger;\n    var provider = new Provider(options);\n\n    var server = httpServer(provider, logger);\n    server.keepAliveTimeout = options.keepAliveTimeout;\n\n    let connectionCounter = 0;\n    const connections = {};\n    server.on(\"connection\", (conn) => {\n      const key = connectionCounter++;\n      connections[key] = conn;\n      conn.on(\"close\", () => delete connections[key]);\n    });\n\n    var oldListen = server.listen;\n\n    server.listen = function() {\n      var args = Array.prototype.slice.call(arguments);\n      var callback = function() {};\n      if (args.length > 0) {\n        var last = args[args.length - 1];\n        if (typeof last === \"function\") {\n          callback = args.pop();\n        }\n      }\n\n      var intermediary = function(err) {\n        if (err) {\n          return callback(err);\n        }\n        server.provider.manager.waitForInitialization(callback);\n      };\n\n      args.push(intermediary);\n\n      oldListen.apply(server, args);\n    };\n\n    server.provider = provider;\n\n    if (options.ws) {\n      webSocketServer(server, provider, logger);\n    }\n\n    var oldClose = server.close;\n\n    server.close = function(callback) {\n      var args = Array.prototype.slice.call(arguments);\n      oldClose.apply(server, args);\n\n      server.provider.close(function(err) {\n        if (err) {\n          return callback(err);\n        }\n        Object.keys(connections).forEach((key) => {\n          try {\n            connections[key].destroy();\n          } catch (error) {}\n        });\n      });\n    };\n\n    return server;\n  }\n};\n\nconst defaultOptions = {\n  logger: {\n    log: function() {}\n  },\n  ws: true,\n  keepAliveTimeout: 5000\n};\n\nvar _applyDefaultOptions = function(options) {\n  return _.merge({}, defaultOptions, options);\n};\n","var websocket = require(\"websocket\");\nvar WebSocketServer = websocket.server;\n\nmodule.exports = function(httpServer, provider, logger) {\n  var connectionManager = new ConnectionManager(provider, logger);\n\n  var wsServer = new WebSocketServer({\n    httpServer: httpServer,\n    autoAcceptConnections: true\n  });\n\n  wsServer.on(\"connect\", connectionManager.manageConnection);\n\n  return wsServer;\n};\n\nfunction ConnectionManager(provider, logger) {\n  const self = this;\n  self.provider = provider;\n  self.logger = logger;\n  self.connectionsBySubscriptionId = {};\n  self.connections = {};\n  self.connectionCounter = 0;\n\n  self._updateSubscriptions = self._updateSubscriptions.bind(self);\n  self.manageConnection = self.manageConnection.bind(self);\n  self._logPayload = self._logPayload.bind(self);\n  self._handleRequest = self._handleRequest.bind(self);\n\n  provider.on(\"data\", function(err, notification) {\n    if (err) {\n      return;\n    }\n    self._updateSubscriptions(notification);\n  });\n}\n\nConnectionManager.prototype.manageConnection = function(connection) {\n  const self = this;\n  connection.id = ++self.connectionCounter;\n  self.connections[connection.id] = {\n    connection: connection,\n    subscriptions: {}\n  };\n\n  connection.on(\"message\", function(message) {\n    let payload;\n    try {\n      if (message.type === \"utf8\") {\n        payload = JSON.parse(message.utf8Data);\n      } else if (message.type === \"binary\") {\n        payload = JSON.parse(message.binaryData.toString(\"utf8\").trim());\n      } else {\n        throw new Error(\"Invalid message type\");\n      }\n    } catch (e) {\n      connection.close(websocket.connection.CLOSE_REASON_UNPROCESSABLE_INPUT, e.message);\n      return;\n    }\n\n    self._logPayload(payload);\n    self._handleRequest(connection, payload);\n  });\n\n  connection.on(\"close\", function() {\n    // remove subscriptions\n    Object.keys(self.connections[connection.id].subscriptions).forEach((subscriptionId) => {\n      self.provider.send(\n        {\n          jsonrpc: \"2.0\",\n          method: \"eth_unsubscribe\",\n          params: [subscriptionId],\n          id: new Date().getTime()\n        },\n        function(err, result) {\n          if (err) {\n            return;\n          }\n          delete self.connectionsBySubscriptionId[subscriptionId];\n        }\n      );\n    });\n\n    delete self.connections[connection.id];\n  });\n};\n\nConnectionManager.prototype._handleRequest = function(connection, payload) {\n  const self = this;\n\n  // handle subscription requests, otherwise delegate to provider\n  switch (payload.method) {\n    case \"eth_subscribe\":\n      self.provider.send(payload, function(err, result) {\n        if (!err && result.result && self.connections[connection.id]) {\n          self.connections[connection.id].subscriptions[result.result] = true;\n          self.connectionsBySubscriptionId[result.result] = self.connections[connection.id];\n        }\n        connection.send(JSON.stringify(result));\n      });\n      break;\n    case \"eth_unsubscribe\":\n      self.provider.send(payload, function(err, result) {\n        if (err || result.error) {\n          if (connection && connection.send) {\n            connection.send(JSON.stringify(result));\n          }\n          return;\n        }\n\n        if (self.connections[connection.id]) {\n          delete self.connections[connection.id].subscriptions[payload.params[0]];\n        }\n        delete self.connectionsBySubscriptionId[payload.params[0]];\n\n        connection.send(JSON.stringify(result));\n      });\n      break;\n    default:\n      self.provider.send(payload, function(_, result) {\n        connection.send(JSON.stringify(result));\n      });\n  }\n};\n\n// Log messages that come into the TestRPC via http\nConnectionManager.prototype._logPayload = function(payload) {\n  const self = this;\n  if (payload instanceof Array) {\n    // Batch request\n    for (var i = 0; i < payload.length; i++) {\n      var item = payload[i];\n      self.logger.log(item.method);\n    }\n  } else {\n    self.logger.log(payload.method);\n  }\n};\n\nConnectionManager.prototype._updateSubscriptions = function(notification) {\n  const subscription = this.connectionsBySubscriptionId[notification.params.subscription];\n  // Safety check for subscription/connection.\n  if (subscription) {\n    subscription.connection.send(JSON.stringify(notification));\n  }\n};\n","module.exports = require(\"websocket\");","const http = require(\"http\");\nconst { rpcError } = require(\"./utils/to\");\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction createCORSResponseHeaders(method, requestHeaders) {\n  // https://fetch.spec.whatwg.org/#http-requests\n  const headers = {};\n  const isCORSRequest = hasOwnProperty.call(requestHeaders, \"origin\");\n  if (isCORSRequest) {\n    // OPTIONS preflight requests need a little extra treatment\n    if (method === \"OPTIONS\") {\n      // we only allow POST requests, so it doesn't matter which method the request is asking for\n      headers[\"Access-Control-Allow-Methods\"] = \"POST\";\n      // echo all requested access-control-request-headers back to the response\n      if (hasOwnProperty.call(requestHeaders, \"access-control-request-headers\")) {\n        headers[\"Access-Control-Allow-Headers\"] = requestHeaders[\"access-control-request-headers\"];\n      }\n      // Safari needs Content-Length = 0 for a 204 response otherwise it hangs forever\n      // https://github.com/expressjs/cors/pull/121#issue-130260174\n      headers[\"Content-Length\"] = 0;\n\n      // Make browsers and compliant clients cache the OPTIONS preflight response for 10\n      // minutes (this is the maximum time Chromium allows)\n      headers[\"Access-Control-Max-Age\"] = 600; // seconds\n    }\n\n    // From the spec: https://fetch.spec.whatwg.org/#http-responses\n    // \"For a CORS-preflight request, requests credentials mode is always \"omit\",\n    // but for any subsequent CORS requests it might not be. Support therefore\n    // needs to be indicated as part of the HTTP response to the CORS-preflight request as well.\", so this\n    // header is added to all requests.\n    // Additionally, https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials,\n    // states that there aren't any HTTP Request headers that indicate you whether or not Request.withCredentials\n    // is set. Because web3@1.0.0-beta.35-? always sets `request.withCredentials = true` while Safari requires it be\n    // returned even when no credentials are set in the browser this header must always be return on all requests.\n    // (I've found that Chrome and Firefox don't actually require the header when credentials aren't set)\n    //  Regression Commit: https://github.com/ethereum/web3.js/pull/1722\n    //  Open Web3 Issue: https://github.com/ethereum/web3.js/issues/1802\n    headers[\"Access-Control-Allow-Credentials\"] = true;\n\n    // From the spec: \"It cannot be reliably identified as participating in the CORS protocol\n    // as the `Origin` header is also included for all requests whose method is neither\n    // `GET` nor `HEAD`.\"\n    // Explicitly set the origin instead of using *, since credentials\n    // can't be used in conjunction with *. This will always be set\n    /// for valid preflight requests.\n    headers[\"Access-Control-Allow-Origin\"] = requestHeaders.origin;\n  }\n  return headers;\n}\n\nfunction sendResponse(response, statusCode, headers, data) {\n  response.writeHead(statusCode, headers);\n  response.end(data);\n}\n\nmodule.exports = function(provider, logger) {\n  var server = http.createServer(function(request, response) {\n    var method = request.method;\n    var body = [];\n\n    request\n      .on(\"data\", function(chunk) {\n        body.push(chunk);\n      })\n      .on(\"end\", function() {\n        body = Buffer.concat(body).toString();\n        // At this point, we have the headers, method, url and body, and can now\n        // do whatever we need to in order to respond to this request.\n\n        const headers = createCORSResponseHeaders(method, request.headers);\n\n        switch (method) {\n          case \"POST\":\n            var payload;\n            try {\n              payload = JSON.parse(body);\n            } catch (e) {\n              headers[\"Content-Type\"] = \"text/plain\";\n              sendResponse(response, 400, headers, \"400 Bad Request\");\n              return;\n            }\n\n            // Log messages that come into the TestRPC via http\n            if (payload instanceof Array) {\n              // Batch request\n              for (var i = 0; i < payload.length; i++) {\n                var item = payload[i];\n                logger.log(item.method);\n              }\n            } else {\n              logger.log(payload.method);\n            }\n\n            // http connections do not support subscriptions\n            if (payload.method === \"eth_subscribe\" || payload.method === \"eth_unsubscribe\") {\n              headers[\"Content-Type\"] = \"application/json\";\n              sendResponse(response, 400, headers, rpcError(payload.id, -32000, \"notifications not supported\"));\n              break;\n            }\n\n            provider.send(payload, function(_, result) {\n              headers[\"Content-Type\"] = \"application/json\";\n              sendResponse(response, 200, headers, JSON.stringify(result));\n            });\n\n            break;\n          case \"OPTIONS\":\n            sendResponse(response, 204, headers);\n            break;\n          default:\n            headers[\"Content-Type\"] = \"text/plain\";\n            sendResponse(response, 400, headers, \"400 Bad Request\");\n            break;\n        }\n      });\n  });\n\n  server.ganacheProvider = provider;\n  return server;\n};\n","module.exports = require(\"http\");"]},"metadata":{},"sourceType":"script"}