{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_dom_1 = require(\"react-dom\");\n\nvar util_1 = require(\"./util\");\n\nvar ArrowContainer_1 = require(\"./ArrowContainer\");\n\nexports.ArrowContainer = ArrowContainer_1.ArrowContainer;\n\nvar Portal_1 = require(\"./Portal\");\n\nvar underscore_1 = require(\"underscore\");\n\nvar Popover =\n/** @class */\nfunction (_super) {\n  __extends(Popover, _super);\n\n  function Popover(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.target = null;\n    _this.targetRect = null;\n    _this.targetPositionIntervalHandler = null;\n    _this.popoverDiv = null;\n    _this.positionOrder = null;\n    _this.willUnmount = false;\n    _this.willMount = false;\n\n    _this.onResize = function (e) {\n      _this.renderPopover();\n    };\n\n    _this.onClick = function (e) {\n      var _a = _this.props,\n          onClickOutside = _a.onClickOutside,\n          isOpen = _a.isOpen;\n\n      if (!_this.willUnmount && !_this.willMount && !_this.popoverDiv.contains(e.target) && !_this.target.contains(e.target) && onClickOutside && isOpen) {\n        onClickOutside(e);\n      }\n    };\n\n    _this.state = {\n      popoverInfo: null\n    };\n    _this.willUnmount = false;\n    _this.willMount = true;\n    return _this;\n  }\n\n  Popover.prototype.componentDidMount = function () {\n    var _this = this;\n\n    window.setTimeout(function () {\n      return _this.willMount = false;\n    });\n    var _a = this.props,\n        position = _a.position,\n        isOpen = _a.isOpen;\n    this.target = react_dom_1.findDOMNode(this);\n    this.positionOrder = this.getPositionPriorityOrder(position);\n    this.updatePopover(isOpen);\n  };\n\n  Popover.prototype.componentDidUpdate = function (prevProps) {\n    if (this.target == null) {\n      this.target = react_dom_1.findDOMNode(this);\n    }\n\n    var prevIsOpen = prevProps.isOpen,\n        prevPosition = prevProps.position,\n        prevBody = prevProps.content;\n    var _a = this.props,\n        isOpen = _a.isOpen,\n        content = _a.content,\n        position = _a.position;\n    this.positionOrder = this.getPositionPriorityOrder(this.props.position);\n    var hasNewDestination = prevProps.contentDestination !== this.props.contentDestination;\n\n    if (prevIsOpen !== isOpen || prevBody !== content || prevPosition !== position || hasNewDestination) {\n      if (hasNewDestination) {\n        this.removePopover();\n        this.popoverDiv && this.popoverDiv.remove();\n      }\n\n      this.updatePopover(isOpen);\n    }\n  };\n\n  Popover.prototype.componentWillUnmount = function () {\n    this.willUnmount = true;\n    this.removePopover();\n  };\n\n  Popover.prototype.render = function () {\n    var content = this.props.content;\n    var popoverInfo = this.state.popoverInfo;\n    var popoverContent = null;\n\n    if (this.props.isOpen && this.popoverDiv && popoverInfo) {\n      var getContent = function (args) {\n        return typeof content === 'function' ? content(args) : content;\n      };\n\n      popoverContent = React.createElement(Portal_1.Portal, {\n        element: this.popoverDiv,\n        container: this.props.contentDestination || window.document.body\n      }, getContent(popoverInfo));\n    }\n\n    return React.createElement(React.Fragment, null, this.props.children, popoverContent);\n  };\n\n  Popover.prototype.updatePopover = function (isOpen) {\n    if (isOpen && this.target != null) {\n      if (!this.popoverDiv || !this.popoverDiv.parentNode) {\n        var transitionDuration = this.props.transitionDuration;\n        this.popoverDiv = this.createContainer();\n        this.popoverDiv.style.opacity = '0';\n        this.popoverDiv.style.transition = \"opacity \" + (transitionDuration || util_1.Constants.FADE_TRANSITION) + \"s\";\n      }\n\n      window.addEventListener('resize', this.onResize);\n      window.addEventListener('click', this.onClick);\n      this.renderPopover();\n    } else if (this.popoverDiv && this.popoverDiv.parentNode) {\n      this.removePopover();\n    }\n  };\n\n  Popover.prototype.renderPopover = function (positionIndex) {\n    var _this = this;\n\n    if (positionIndex === void 0) {\n      positionIndex = 0;\n    }\n\n    if (positionIndex >= this.positionOrder.length) {\n      this.removePopover();\n      return;\n    }\n\n    this.renderWithPosition({\n      position: this.positionOrder[positionIndex],\n      targetRect: this.target.getBoundingClientRect()\n    }, function (violation, rect) {\n      var _a;\n\n      var _b = _this.props,\n          disableReposition = _b.disableReposition,\n          contentLocation = _b.contentLocation;\n\n      if (violation && !disableReposition && !(typeof contentLocation === 'object')) {\n        _this.renderPopover(positionIndex + 1);\n      } else {\n        var _c = _this.props,\n            contentLocation_1 = _c.contentLocation,\n            align = _c.align;\n\n        var _d = _this.getNudgedPopoverPosition(rect),\n            nudgedTop = _d.top,\n            nudgedLeft = _d.left;\n\n        var rectTop = rect.top,\n            rectLeft = rect.left;\n        var position = _this.positionOrder[positionIndex];\n\n        var _e = disableReposition ? {\n          top: rectTop,\n          left: rectLeft\n        } : {\n          top: nudgedTop,\n          left: nudgedLeft\n        },\n            top_1 = _e.top,\n            left = _e.left;\n\n        if (contentLocation_1) {\n          var targetRect = _this.target.getBoundingClientRect();\n\n          var popoverRect = _this.popoverDiv.getBoundingClientRect();\n\n          _a = typeof contentLocation_1 === 'function' ? contentLocation_1({\n            targetRect: targetRect,\n            popoverRect: popoverRect,\n            position: position,\n            align: align,\n            nudgedLeft: nudgedLeft,\n            nudgedTop: nudgedTop\n          }) : contentLocation_1, top_1 = _a.top, left = _a.left;\n          _this.popoverDiv.style.left = left.toFixed() + \"px\";\n          _this.popoverDiv.style.top = top_1.toFixed() + \"px\";\n        } else {\n          var destinationTopOffset = 0;\n          var destinationLeftOffset = 0;\n\n          if (_this.props.contentDestination) {\n            var destRect = _this.props.contentDestination.getBoundingClientRect();\n\n            destinationTopOffset = -destRect.top;\n            destinationLeftOffset = -destRect.left;\n          }\n\n          var _f = [top_1 + window.pageYOffset, left + window.pageXOffset],\n              absoluteTop = _f[0],\n              absoluteLeft = _f[1];\n          var finalLeft = absoluteLeft + destinationTopOffset;\n          var finalTop = absoluteTop + destinationLeftOffset;\n          _this.popoverDiv.style.left = finalLeft.toFixed() + \"px\";\n          _this.popoverDiv.style.top = finalTop.toFixed() + \"px\";\n        }\n\n        _this.popoverDiv.style.width = null;\n        _this.popoverDiv.style.height = null;\n\n        _this.renderWithPosition({\n          position: position,\n          nudgedTop: nudgedTop - rect.top,\n          nudgedLeft: nudgedLeft - rect.left,\n          targetRect: _this.target.getBoundingClientRect(),\n          popoverRect: _this.popoverDiv.getBoundingClientRect()\n        }, function () {\n          _this.startTargetPositionListener(10);\n\n          if (_this.popoverDiv.style.opacity !== '1') {\n            _this.popoverDiv.style.opacity = '1';\n          }\n        });\n      }\n    });\n  };\n\n  Popover.prototype.startTargetPositionListener = function (checkInterval) {\n    var _this = this;\n\n    if (this.targetPositionIntervalHandler === null) {\n      this.targetPositionIntervalHandler = window.setInterval(function () {\n        var newTargetRect = _this.target.getBoundingClientRect();\n\n        if (_this.targetPositionHasChanged(_this.targetRect, newTargetRect)) {\n          _this.renderPopover();\n        }\n\n        _this.targetRect = newTargetRect;\n      }, checkInterval);\n    }\n  };\n\n  Popover.prototype.renderWithPosition = function (_a, callback) {\n    var _this = this;\n\n    var position = _a.position,\n        _b = _a.nudgedLeft,\n        nudgedLeft = _b === void 0 ? 0 : _b,\n        _c = _a.nudgedTop,\n        nudgedTop = _c === void 0 ? 0 : _c,\n        _d = _a.targetRect,\n        targetRect = _d === void 0 ? util_1.Constants.EMPTY_CLIENT_RECT : _d,\n        _e = _a.popoverRect,\n        popoverRect = _e === void 0 ? util_1.Constants.EMPTY_CLIENT_RECT : _e;\n    var _f = this.props,\n        padding = _f.windowBorderPadding,\n        content = _f.content,\n        align = _f.align;\n    var popoverInfo = {\n      position: position,\n      nudgedLeft: nudgedLeft,\n      nudgedTop: nudgedTop,\n      targetRect: targetRect,\n      popoverRect: popoverRect,\n      align: align\n    };\n\n    if (!underscore_1.isEqual(this.state.popoverInfo, popoverInfo)) {\n      this.setState({\n        popoverInfo: popoverInfo\n      }, function () {\n        if (_this.willUnmount) {\n          return;\n        }\n\n        targetRect = _this.target.getBoundingClientRect();\n        popoverRect = _this.popoverDiv.getBoundingClientRect();\n\n        var _a = _this.getLocationForPosition(position, targetRect, popoverRect),\n            top = _a.top,\n            left = _a.left;\n\n        callback(position === 'top' && top < padding || position === 'left' && left < padding || position === 'right' && left + popoverRect.width > window.innerWidth - padding || position === 'bottom' && top + popoverRect.height > window.innerHeight - padding, {\n          width: popoverRect.width,\n          height: popoverRect.height,\n          top: top,\n          left: left\n        });\n      });\n    }\n  };\n\n  Popover.prototype.getNudgedPopoverPosition = function (_a) {\n    var top = _a.top,\n        left = _a.left,\n        width = _a.width,\n        height = _a.height;\n    var padding = this.props.windowBorderPadding;\n    top = top < padding ? padding : top;\n    top = top + height > window.innerHeight - padding ? window.innerHeight - padding - height : top;\n    left = left < padding ? padding : left;\n    left = left + width > window.innerWidth - padding ? window.innerWidth - padding - width : left;\n    return {\n      top: top,\n      left: left\n    };\n  };\n\n  Popover.prototype.removePopover = function () {\n    var _this = this;\n\n    if (this.popoverDiv) {\n      var transitionDuration = this.props.transitionDuration;\n      this.popoverDiv.style.opacity = '0';\n\n      var remove = function () {\n        if (_this.willUnmount || !_this.props.isOpen || !_this.popoverDiv.parentNode) {\n          window.clearInterval(_this.targetPositionIntervalHandler);\n          window.removeEventListener('resize', _this.onResize);\n          window.removeEventListener('click', _this.onClick);\n          _this.targetPositionIntervalHandler = null;\n        }\n      };\n\n      if (!this.willUnmount) {\n        window.setTimeout(remove, (transitionDuration || util_1.Constants.FADE_TRANSITION) * 1000);\n      } else {\n        remove();\n      }\n    }\n  };\n\n  Popover.prototype.getPositionPriorityOrder = function (position) {\n    if (position && typeof position !== 'string') {\n      if (util_1.Constants.DEFAULT_POSITIONS.every(function (defaultPosition) {\n        return position.find(function (p) {\n          return p === defaultPosition;\n        }) !== undefined;\n      })) {\n        return util_1.arrayUnique(position);\n      } else {\n        var remainingPositions = util_1.Constants.DEFAULT_POSITIONS.filter(function (defaultPosition) {\n          return position.find(function (p) {\n            return p === defaultPosition;\n          }) === undefined;\n        });\n        return util_1.arrayUnique(position.concat(remainingPositions));\n      }\n    } else if (position && typeof position === 'string') {\n      var remainingPositions = util_1.Constants.DEFAULT_POSITIONS.filter(function (defaultPosition) {\n        return defaultPosition !== position;\n      });\n      return util_1.arrayUnique([position].concat(remainingPositions));\n    }\n  };\n\n  Popover.prototype.createContainer = function () {\n    var _a = this.props,\n        containerStyle = _a.containerStyle,\n        containerClassName = _a.containerClassName;\n    var container = window.document.createElement('div');\n    container.style.overflow = 'hidden';\n\n    if (containerStyle) {\n      Object.keys(containerStyle).forEach(function (key) {\n        return container.style[key] = containerStyle[key];\n      });\n    }\n\n    container.className = containerClassName;\n    container.style.position = 'absolute';\n    container.style.top = '0';\n    container.style.left = '0';\n    return container;\n  };\n\n  Popover.prototype.getLocationForPosition = function (position, newTargetRect, popoverRect) {\n    var _a = this.props,\n        padding = _a.padding,\n        align = _a.align;\n    var targetMidX = newTargetRect.left + newTargetRect.width / 2;\n    var targetMidY = newTargetRect.top + newTargetRect.height / 2;\n    var top;\n    var left;\n\n    switch (position) {\n      case 'top':\n        top = newTargetRect.top - popoverRect.height - padding;\n        left = targetMidX - popoverRect.width / 2;\n\n        if (align === 'start') {\n          left = newTargetRect.left;\n        }\n\n        if (align === 'end') {\n          left = newTargetRect.right - popoverRect.width;\n        }\n\n        break;\n\n      case 'left':\n        top = targetMidY - popoverRect.height / 2;\n        left = newTargetRect.left - padding - popoverRect.width;\n\n        if (align === 'start') {\n          top = newTargetRect.top;\n        }\n\n        if (align === 'end') {\n          top = newTargetRect.bottom - popoverRect.height;\n        }\n\n        break;\n\n      case 'bottom':\n        top = newTargetRect.bottom + padding;\n        left = targetMidX - popoverRect.width / 2;\n\n        if (align === 'start') {\n          left = newTargetRect.left;\n        }\n\n        if (align === 'end') {\n          left = newTargetRect.right - popoverRect.width;\n        }\n\n        break;\n\n      case 'right':\n        top = targetMidY - popoverRect.height / 2;\n        left = newTargetRect.right + padding;\n\n        if (align === 'start') {\n          top = newTargetRect.top;\n        }\n\n        if (align === 'end') {\n          top = newTargetRect.bottom - popoverRect.height;\n        }\n\n        break;\n    }\n\n    return {\n      top: top,\n      left: left\n    };\n  };\n\n  Popover.prototype.targetPositionHasChanged = function (oldTargetRect, newTargetRect) {\n    return oldTargetRect === null || oldTargetRect.left !== newTargetRect.left || oldTargetRect.top !== newTargetRect.top || oldTargetRect.width !== newTargetRect.width || oldTargetRect.height !== newTargetRect.height;\n  };\n\n  Popover.defaultProps = {\n    padding: util_1.Constants.DEFAULT_PADDING,\n    windowBorderPadding: util_1.Constants.DEFAULT_WINDOW_PADDING,\n    position: ['top', 'right', 'left', 'bottom'],\n    align: 'center',\n    containerClassName: util_1.Constants.POPOVER_CONTAINER_CLASS_NAME\n  };\n  return Popover;\n}(React.Component);\n\nexports.default = Popover;","map":{"version":3,"mappings":"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","names":["exports","ArrowContainer_1","__extends","props","_super","_this","e","renderPopover","onClickOutside","isOpen","willUnmount","willMount","popoverDiv","contains","target","state","popoverInfo","Popover","window","setTimeout","position","react_dom_1","positionOrder","getPositionPriorityOrder","updatePopover","prevProps","prevPosition","prevBody","content","hasNewDestination","contentDestination","prevIsOpen","removePopover","remove","popoverContent","getContent","args","React","Portal_1","element","container","document","body","Fragment","children","parentNode","createContainer","style","opacity","transition","transitionDuration","util_1","FADE_TRANSITION","addEventListener","onResize","onClick","positionIndex","length","renderWithPosition","targetRect","getBoundingClientRect","violation","rect","disableReposition","contentLocation","contentLocation_1","align","nudgedTop","nudgedLeft","rectLeft","top","left","top_1","popoverRect","_a","toFixed","destinationTopOffset","destinationLeftOffset","destRect","absoluteTop","absoluteLeft","finalLeft","finalTop","width","height","startTargetPositionListener","checkInterval","targetPositionIntervalHandler","setInterval","newTargetRect","targetPositionHasChanged","callback","_b","_c","_d","_e","padding","underscore_1","setState","innerWidth","innerHeight","clearInterval","removeEventListener","DEFAULT_POSITIONS","every","find","defaultPosition","undefined","remainingPositions","filter","concat","containerStyle","containerClassName","createElement","overflow","Object","keys","forEach","key","className","targetMidX","targetMidY","right","bottom","oldTargetRect","DEFAULT_PADDING","windowBorderPadding","DEFAULT_WINDOW_PADDING","POPOVER_CONTAINER_CLASS_NAME","Component"],"sources":["../src/Popover.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}