{"ast":null,"code":"import _regeneratorRuntime from\"F:/Games/PFPRacerNFTProject/slotmachinereact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/Games/PFPRacerNFTProject/slotmachinereact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/Games/PFPRacerNFTProject/slotmachinereact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Constants from'../../Constants';import bonusWin from'../../assets/sounds/winningBonus.wav';import Withdrawal from'../withdrawal/Withdrawal';import{ethers}from\"ethers\";import PFPRacerNFT from'../../artifacts/contracts/PFPRacerNFT.sol/abi.json';import'./calculatescore.css';/*\r\nReceiving spinResults={props.resultsArray} \r\n          spinResultsIdx={props.resultsArrayIdx} \r\n          myBet={bet} \r\n          setCallbackScore={callbackScore} \r\n          game={props.game}\r\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var show=0;var fnScr=0;var CalculateScore=function CalculateScore(props){var _useState=useState(2),_useState2=_slicedToArray(_useState,2),score=_useState2[0],setScore=_useState2[1];var finalScore=0;/*Controling the calculation working score part !!!*********************/if(show!==props.game){var bet=props.myBet;var spinResults=props.spinResults;//    let spinResultsIdx = props.spinResultsIdx;\n//  let bet = 0;\nvar winningLines=[];//  let countWin = 0;\nvar symbolSellection=[];//  const symbols = Constants.REEL_SYMBOLS;\n// audioUrlBtn = require(\"../assets/sounds/buttonPress.wav\");\nvar audioBtn=new Audio(\"../../assets/sounds/buttonPress.wav\");// audioUrlSpin = require(\"../assets/sounds/spinningSlotMachine.wav\");\nvar audioSpin=new Audio(\"../../assets/sounds/spinningSlotMachine.wav\");var audioWinBonus=new Audio(bonusWin);var playWinBonus=function playWinBonus(){audioWinBonus.play();};var handleScore=function handleScore(e){//        setScore(Math.round((score + e) * 100) / 100);\nconsole.log(\"My e in handleScore is:\"+e);console.log(\"My score in handleScoreis: \"+score);var result=score+e;finalScore=Math.round((result+Number.EPSILON)*100)/100;console.log(\"My finalScore in handleScore is:\"+finalScore);setScore(finalScore);};var setMyScore=function setMyScore(e){var scr=0;if(bet>0&&e>0){//  scr = e + bet * e;\nif(e<100){scr=bet*e*10;// (0.2*0.2)=0.04*10 = 0.4\nscr=Math.round((scr+Number.EPSILON)*100)/100;console.log(\"My score in e<100 \"+scr);}else if(e>=100){scr=bet*e+e;//\nscr=Math.round((scr+Number.EPSILON)*100)/100;console.log(\"My score in e>=100 \"+scr);}//  scr = Math.round(scr * 100) / 100;\n// scr=Math.round(scr);\n}else if(bet>0&&e===0){//  scr = e + bet * e;\n// scr=(bet*e)*10;\n// scr = Math.round((scr + Number.EPSILON) * 100) / 100;\nscr=0;console.log(\"My score in (bet > 0 && e === 0 \"+scr);//  scr = Math.round(scr * 100) / 100;\n// scr=Math.round(scr);\n}// else if (bet === 0 && e > 0) {\n//  scr = Math.round((scr + e) * 100) / 100;\n// scr=Math.round(scr+e);\n// }\n//handleScore(scr);\n// let result = score+e;\n// finalScore= Math.round((result + Number.EPSILON) * 100) / 100;\nreturn scr;//setScore(scr);\n};var drawScore=function drawScore(lineNumberType,fool){var newScore=0;if(fool){lineNumberType=18;}switch(lineNumberType){case 0:// top line\nconsole.log(\"Case 0: top line\");newScore=0.5;break;case 1:// middle line\n//        audioWin.play();\nconsole.log(\"Case 1: middle line\");newScore=0.5;break;case 2:// bottom line\n//        audioWin.play();\nconsole.log(\"Case 2: bottom line\");newScore=0.5;break;case 3:// V shape starting bottom left\n//        audioWin.play();\nconsole.log(\"Case 3: V shape starting bottom left\");newScore=0.2;break;case 4:// V shape starting bottom right\n//        audioWin.play();\nconsole.log(\"Case 4: V shape starting bottom right\");newScore=0.2;break;case 5:// W shape starting top left\n//        audioWin.play();\nconsole.log(\"Case 5: W shape starting top left\");newScore=0.3;break;case 6:// M shape starting bottom left\n//        audioWin.play();\nconsole.log(\"Case 6: M shape starting bottom left\");newScore=0.3;break;case 7:// M shape on top half\n//        audioWin.play();\nconsole.log(\"Case 7: M shape on top half\");newScore=0.3;break;case 8:// W shape on top half\n//        audioWin.play();\nconsole.log(\"Case 8: W shape on top half\");newScore=0.3;break;case 9://W shape on bottom half\n//        audioWin.play();\nconsole.log(\"Case 8: W shape on bottom half\");newScore=0.3;break;case 10:// M shape on bottom half\n//        audioWin.play();\nconsole.log(\"Case 8: M shape on bottom half\");newScore=0.3;break;case 11:// U shape on top half\n//        audioWin.play();\nconsole.log(\"Case 11: U shape on top half\");newScore=0.1;break;case 12:// inverse U shape on top half\n//        audioWin.play();\nconsole.log(\"Case 12: inverse U shape on top half\");newScore=0.1;break;case 13:// U shape on bottom half\n//        audioWin.play();\nconsole.log(\"Case 13: U shape on bottom half\");newScore=0.1;break;case 14:// inverse U shape on bottom half\n//        audioWin.play();\nconsole.log(\"Case 14: inverse U shape on bottom half\");newScore=0.1;break;case 15:// inverse U shape on top half\n//        audioWin.play();\nconsole.log(\"Case 15: inverse U shape on top half\");newScore=0.1;break;case 16:// Z shape from top left\n//        audioWin.play();\nconsole.log(\"Case 16: Z shape from top left\");newScore=0.2;break;case 17:// Z shape from bottom left\n//        audioWin.play();\nconsole.log(\"Case 17: Z shape from bottom left\");newScore=0.2;break;case 18:// JackPot\n//        audioWinBonus.play();\nconsole.log(\"Case 18: JackPot\");playWinBonus();newScore=100;break;default:console.log(\"Case default: zero\");newScore=0;}//        setMyScore(newScore);\nreturn newScore;};var checkFiveFools=function checkFiveFools(){var fl=false;//this has been changed from Constants.LINES.length;\nfor(var i=0;i<Constants.LINES.length;i++){var fool=0;//this has been changed from Constants.LINES[i].length\nfor(var j=0;j<Constants.LINES[i].length;j++){var indexI=Constants.LINES[i][j][0];var indexJ=Constants.LINES[i][j][1];if(spinResults[indexI][indexJ]===\"D\"){fool++;}}if(fool===5){fl=true;winningLines.push(i);props.winningLinesCallBack(winningLines,fl);drawScore(i,true);//  highLightWinningLines(0);\nbreak;}}return fl;};var checkFourFools=function checkFourFools(){for(var i=0;i<Constants.LINES.length;i++){var fool=0;for(var j=0;j<Constants.LINES[0].length;j++){var indexI=Constants.LINES[i][j][0];var indexJ=Constants.LINES[i][j][1];if(spinResults[indexI][indexJ]===\"D\"){fool++;}}if(fool===4){winningLines.push(i);drawScore(i,false);}}};var checkLinesElements=function checkLinesElements(symbol){//        countWin++;\nvar symNr=0;var fool=0;for(var i=0;i<Constants.LINES.length;i++){fool=0;symNr=0;for(var j=0;j<Constants.LINES[i].length;j++){var indexI=Constants.LINES[i][j][0];var indexJ=Constants.LINES[i][j][1];if(spinResults[indexI][indexJ]===\"D\"){fool++;}if(symbol===spinResults[indexI][indexJ]){symNr++;}}if(fool+symNr===5&&fool<4){winningLines.push(i);}}winningLines=uniq(winningLines);};var uniq=function uniq(a){return a.sort().filter(function(item,pos,ary){return!pos||item!==ary[pos-1];});};var checkElements=function checkElements(){var fool=0;for(var k=0;k<3;k++){fool=0;for(var i=0;i<spinResults.length;i++){var symb=\"\";for(var j=k;j<spinResults[i].length;j++){if(spinResults[i][j]!==\"D\"){symb=spinResults[i][j];j=spinResults[i].length;}else{fool++;j=spinResults[i].length;}}if(fool<4&&symb!==\"\"){symbolSellection.push(symb);}}}for(var _i=0;_i<symbolSellection.length;_i++){checkLinesElements(symbolSellection[_i]);}};var setBetZero=function setBetZero(){bet=0;};var evaluatespinResults=function evaluatespinResults(){checkFourFools();checkElements();if(winningLines.length>0){props.winningLinesCallBack(winningLines,false);var fnScore=0;for(var i=0;i<winningLines.length;i++){console.log(\"My score is \"+score);var scr=drawScore(winningLines[i],false);console.log(\"My scr in evaluateSpinResults is: \"+scr);var betScore=setMyScore(scr);console.log(\"My betScore in evaluateSpinResults is: \"+betScore);fnScore=fnScore+betScore;}console.log(\"My fnScore in evaluateSpinResults is:\"+fnScore);fnScore=fnScore+score;finalScore=Math.round((fnScore+Number.EPSILON)*100)/100;}else{if(score-bet>=0.2){props.looserCallBack();//            finalScore=Math.round((score - bet) * 100) / 100;\n//            setScore(Math.round((score - bet) * 100) / 100);\nconsole.log(\"My finalScore in evaluateSpinResults is: \"+finalScore);var _fnScore=score-bet;finalScore=Math.round((_fnScore+Number.EPSILON)*100)/100;console.log(\"My finalScore in evaluateSpinResults after adding score is: \"+finalScore);if(score<bet){setBetZero();}}else if(score-bet===0){finalScore=score-bet;setBetZero();//            setScore(0);\nfinalScore=0;//CREATE A GAME OVER SET FROM HERE    \ninsertToDb();props.looserCallBack();}}};var insertToDb=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var accounts,contractAddr,url,provider,gasPrice,newSigner,contract,dataToSend,link;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeof window.ethereum!==\"undefined\")){_context.next=18;break;}_context.next=3;return window.ethereum.request({method:\"eth_requestAccounts\"});case 3:accounts=_context.sent;contractAddr=\"0xDFe7ff7386e0C4321Bd1fc7d5f47887C91C7455B\";url=\"https://vast-ridge-99820.herokuapp.com\";provider=new ethers.providers.Web3Provider(window.ethereum);_context.next=9;return provider.getGasPrice();case 9:gasPrice=_context.sent;newSigner=provider.getSigner();//          setAccount(accounts[0]);\ncontract=new ethers.Contract(contractAddr,PFPRacerNFT.abi,newSigner);dataToSend=JSON.stringify({\"wallet\":accounts[0],\"txtype\":\"withdrawal\",\"amount\":0});link=url+\"/api/insertWallet\";_context.next=16;return fetch(link,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:dataToSend});case 16:_context.next=19;break;case 18:alert(\"Please install metamask\");case 19:case\"end\":return _context.stop();}}},_callee);}));return function insertToDb(){return _ref.apply(this,arguments);};}();var checkWin=function checkWin(){if(props.game>0){var fool=checkFiveFools();if(!fool){evaluatespinResults();}}};/**Testing part  */setTimeout(function(){//    setScore(scr);\ncheckWin();setScore(finalScore);console.log(\"My score in state is: \"+score);console.log(\"My finalScore in state is: \"+finalScore);props.setCallbackScore(finalScore);show=props.game;},7500);/**END of testing part */ /******************************************/}var callbackSetMyScr=function callbackSetMyScr(myScr){if(myScr===0){setScore(myScr);props.setCallbackScore(myScr);//   btnDisable=true;\n}else if(myScr>0){setScore(myScr);props.setCallbackScore(myScr);}//score=myScr;\n};var callBackGetScore=function callBackGetScore(){return score;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Withdrawal,{blockWithdraw:props.blockWithdrawal,getScoreCallback:callBackGetScore,setScoreCallBack:callbackSetMyScr}),/*#__PURE__*/_jsxs(\"label\",{className:\"label-score\",children:[\"Score:\",/*#__PURE__*/_jsx(\"span\",{id:\"score\",children:score})]})]});};export default CalculateScore;","map":{"version":3,"names":["React","useState","Constants","bonusWin","Withdrawal","ethers","PFPRacerNFT","show","fnScr","CalculateScore","props","score","setScore","finalScore","game","bet","myBet","spinResults","winningLines","symbolSellection","audioBtn","Audio","audioSpin","audioWinBonus","playWinBonus","play","handleScore","e","console","log","result","Math","round","Number","EPSILON","setMyScore","scr","drawScore","lineNumberType","fool","newScore","checkFiveFools","fl","i","LINES","length","j","indexI","indexJ","push","winningLinesCallBack","checkFourFools","checkLinesElements","symbol","symNr","uniq","a","sort","filter","item","pos","ary","checkElements","k","symb","setBetZero","evaluatespinResults","fnScore","betScore","looserCallBack","insertToDb","window","ethereum","request","method","accounts","contractAddr","url","provider","providers","Web3Provider","getGasPrice","gasPrice","newSigner","getSigner","contract","Contract","abi","dataToSend","JSON","stringify","link","fetch","headers","body","alert","checkWin","setTimeout","setCallbackScore","callbackSetMyScr","myScr","callBackGetScore","blockWithdrawal"],"sources":["F:/Games/PFPRacerNFTProject/slotmachinereact/src/components/calculatescore/CalculateScore.js"],"sourcesContent":["import React,{ useState} from 'react';\r\nimport Constants from '../../Constants';\r\nimport bonusWin from '../../assets/sounds/winningBonus.wav'\r\nimport Withdrawal from '../withdrawal/Withdrawal'; \r\nimport {ethers} from \"ethers\";\r\nimport PFPRacerNFT from '../../artifacts/contracts/PFPRacerNFT.sol/abi.json'\r\nimport './calculatescore.css';\r\n/*\r\nReceiving spinResults={props.resultsArray} \r\n          spinResultsIdx={props.resultsArrayIdx} \r\n          myBet={bet} \r\n          setCallbackScore={callbackScore} \r\n          game={props.game}\r\n*/\r\n\r\nlet show = 0;\r\nlet fnScr = 0;\r\n\r\nconst CalculateScore = (props) => {\r\n    const [score, setScore] = useState(2);\r\n    let finalScore=0;\r\n /*Controling the calculation working score part !!!*********************/\r\n if(show!==props.game){\r\n\r\n    let bet =props.myBet;\r\n    \r\n    \r\n    let spinResults = props.spinResults;\r\n//    let spinResultsIdx = props.spinResultsIdx;\r\n\r\n  //  let bet = 0;\r\n    let winningLines = [];\r\n  //  let countWin = 0;\r\n    let symbolSellection = [];\r\n  //  const symbols = Constants.REEL_SYMBOLS;\r\n   \r\n\r\n  \r\n   // audioUrlBtn = require(\"../assets/sounds/buttonPress.wav\");\r\n    const audioBtn = new Audio(\"../../assets/sounds/buttonPress.wav\");\r\n  \r\n   // audioUrlSpin = require(\"../assets/sounds/spinningSlotMachine.wav\");\r\n    const audioSpin = new Audio(\"../../assets/sounds/spinningSlotMachine.wav\");\r\n\r\n    const audioWinBonus = new Audio(bonusWin);\r\n\r\n    const playWinBonus = () =>{\r\n          audioWinBonus.play();\r\n    }\r\n\r\n    const handleScore = (e) => {\r\n//        setScore(Math.round((score + e) * 100) / 100);\r\n        console.log(\"My e in handleScore is:\"+e)\r\n        console.log(\"My score in handleScoreis: \"+score);\r\n        let result = score+e;\r\n        finalScore= Math.round((result + Number.EPSILON) * 100) / 100;\r\n        console.log(\"My finalScore in handleScore is:\"+finalScore);\r\n        setScore(finalScore);\r\n      };\r\n\r\n    const setMyScore = (e) => {\r\n        let scr = 0;\r\n    \r\n        if (bet > 0 && e > 0) {\r\n\r\n        //  scr = e + bet * e;\r\n        if(e<100){\r\n          scr=(bet*e)*10; // (0.2*0.2)=0.04*10 = 0.4\r\n          scr = Math.round((scr + Number.EPSILON) * 100) / 100;\r\n          console.log(\"My score in e<100 \"+scr);\r\n        }else if(e>=100){\r\n            scr=(bet*e)+e; //\r\n            scr = Math.round((scr + Number.EPSILON) * 100) / 100;\r\n            console.log(\"My score in e>=100 \"+scr);\r\n        }\r\n        //  scr = Math.round(scr * 100) / 100;\r\n        // scr=Math.round(scr);\r\n        } else if (bet > 0 && e === 0) {\r\n        //  scr = e + bet * e;\r\n          // scr=(bet*e)*10;\r\n          // scr = Math.round((scr + Number.EPSILON) * 100) / 100;\r\n          scr=0;\r\n          console.log(\"My score in (bet > 0 && e === 0 \"+scr);\r\n        //  scr = Math.round(scr * 100) / 100;\r\n        // scr=Math.round(scr);\r\n        } \r\n        // else if (bet === 0 && e > 0) {\r\n        //  scr = Math.round((scr + e) * 100) / 100;\r\n       // scr=Math.round(scr+e);\r\n        // }\r\n        //handleScore(scr);\r\n        // let result = score+e;\r\n        // finalScore= Math.round((result + Number.EPSILON) * 100) / 100;\r\n\r\n        return scr;\r\n        //setScore(scr);\r\n      };\r\n\r\n    const drawScore = (lineNumberType, fool) => {\r\n        let newScore = 0;\r\n        if (fool) {\r\n          lineNumberType = 18;\r\n        }\r\n        switch (lineNumberType) {\r\n          case 0: // top line\r\n            console.log(\"Case 0: top line\");\r\n            newScore = 0.5;\r\n            break;\r\n          case 1: // middle line\r\n            //        audioWin.play();\r\n            console.log(\"Case 1: middle line\");\r\n            newScore = 0.5;\r\n            break;\r\n          case 2: // bottom line\r\n            //        audioWin.play();\r\n            console.log(\"Case 2: bottom line\");\r\n            newScore = 0.5;\r\n            break;\r\n          case 3: // V shape starting bottom left\r\n            //        audioWin.play();\r\n            console.log(\"Case 3: V shape starting bottom left\");\r\n            newScore = 0.2;\r\n            break;\r\n          case 4: // V shape starting bottom right\r\n            //        audioWin.play();\r\n            console.log(\"Case 4: V shape starting bottom right\");\r\n            newScore = 0.2;\r\n            break;\r\n          case 5: // W shape starting top left\r\n            //        audioWin.play();\r\n            console.log(\"Case 5: W shape starting top left\");\r\n            newScore = 0.3;\r\n            break;\r\n          case 6: // M shape starting bottom left\r\n            //        audioWin.play();\r\n            console.log(\"Case 6: M shape starting bottom left\");\r\n            newScore = 0.3;\r\n            break;\r\n          case 7: // M shape on top half\r\n            //        audioWin.play();\r\n            console.log(\"Case 7: M shape on top half\");\r\n            newScore = 0.3;\r\n            break;\r\n          case 8: // W shape on top half\r\n            //        audioWin.play();\r\n            console.log(\"Case 8: W shape on top half\");\r\n            newScore = 0.3;\r\n            break;\r\n          case 9: //W shape on bottom half\r\n            //        audioWin.play();\r\n            console.log(\"Case 8: W shape on bottom half\");\r\n            newScore = 0.3;\r\n            break;\r\n          case 10: // M shape on bottom half\r\n            //        audioWin.play();\r\n            console.log(\"Case 8: M shape on bottom half\");\r\n            newScore = 0.3;\r\n            break;\r\n          case 11: // U shape on top half\r\n            //        audioWin.play();\r\n            console.log(\"Case 11: U shape on top half\");\r\n            newScore = 0.1;\r\n            break;\r\n          case 12: // inverse U shape on top half\r\n            //        audioWin.play();\r\n            console.log(\"Case 12: inverse U shape on top half\");\r\n            newScore = 0.1;\r\n            break;\r\n          case 13: // U shape on bottom half\r\n            //        audioWin.play();\r\n            console.log(\"Case 13: U shape on bottom half\");\r\n            newScore = 0.1;\r\n            break;\r\n          case 14: // inverse U shape on bottom half\r\n            //        audioWin.play();\r\n            console.log(\"Case 14: inverse U shape on bottom half\");\r\n            newScore = 0.1;\r\n            break;\r\n          case 15: // inverse U shape on top half\r\n            //        audioWin.play();\r\n            console.log(\"Case 15: inverse U shape on top half\");\r\n            newScore = 0.1;\r\n            break;\r\n          case 16: // Z shape from top left\r\n            //        audioWin.play();\r\n            console.log(\"Case 16: Z shape from top left\");\r\n            newScore = 0.2;\r\n            break;\r\n          case 17: // Z shape from bottom left\r\n            //        audioWin.play();\r\n            console.log(\"Case 17: Z shape from bottom left\");\r\n            newScore = 0.2;\r\n            break;\r\n          case 18: // JackPot\r\n            //        audioWinBonus.play();\r\n            console.log(\"Case 18: JackPot\");\r\n            playWinBonus();\r\n            newScore = 100;\r\n            break;\r\n          default:\r\n            console.log(\"Case default: zero\");\r\n            newScore = 0;\r\n        }\r\n    \r\n//        setMyScore(newScore);\r\n        \r\n        return newScore;\r\n      };\r\n\r\n      const checkFiveFools = () => {\r\n        let fl = false;\r\n       //this has been changed from Constants.LINES.length;\r\n        for (let i = 0; i < Constants.LINES.length; i++) {\r\n          let fool = 0;\r\n          //this has been changed from Constants.LINES[i].length\r\n          for (let j = 0; j < Constants.LINES[i].length; j++) {\r\n            let indexI = Constants.LINES[i][j][0];\r\n            let indexJ = Constants.LINES[i][j][1];\r\n            if (spinResults[indexI][indexJ] === \"D\") {\r\n              fool++;\r\n            }\r\n          }\r\n     \r\n          if (fool === 5) {\r\n            fl = true;\r\n            winningLines.push(i);\r\n            props.winningLinesCallBack(winningLines, fl);\r\n            drawScore(i, true);\r\n            //  highLightWinningLines(0);\r\n            break;\r\n          }\r\n        }\r\n        return fl;\r\n      }\r\n\r\n      const checkFourFools = () => {\r\n        for (let i = 0; i < Constants.LINES.length; i++) {\r\n          let fool = 0;\r\n          for (let j = 0; j < Constants.LINES[0].length; j++) {\r\n            let indexI = Constants.LINES[i][j][0];\r\n            let indexJ = Constants.LINES[i][j][1];\r\n       \r\n            if (spinResults[indexI][indexJ] === \"D\") {\r\n              fool++;\r\n            }\r\n          }\r\n       \r\n          if (fool === 4) {\r\n            winningLines.push(i);\r\n            drawScore(i, false);\r\n          }\r\n        }\r\n      };\r\n\r\n      const checkLinesElements = (symbol) => {\r\n//        countWin++;\r\n        let symNr = 0;\r\n        let fool = 0;\r\n        for (let i = 0; i < Constants.LINES.length; i++) {\r\n          fool = 0;\r\n          symNr = 0;\r\n          for (let j = 0; j < Constants.LINES[i].length; j++) {\r\n            let indexI = Constants.LINES[i][j][0];\r\n            let indexJ = Constants.LINES[i][j][1];\r\n    \r\n            if (spinResults[indexI][indexJ] === \"D\") {\r\n              fool++;\r\n            }\r\n            if (symbol === spinResults[indexI][indexJ]) {\r\n              symNr++;\r\n            }\r\n          }\r\n          if (fool + symNr === 5 && fool < 4) {\r\n            winningLines.push(i);\r\n          }\r\n        }\r\n        winningLines = uniq(winningLines);\r\n      };\r\n    \r\n      const uniq = (a) => {\r\n        return a.sort().filter(function (item, pos, ary) {\r\n          return !pos || item !== ary[pos - 1];\r\n        });\r\n      };\r\n\r\n      const checkElements = () => {\r\n        let fool = 0;\r\n        for (let k = 0; k < 3; k++) {\r\n          fool = 0;\r\n          for (let i = 0; i < spinResults.length; i++) {\r\n            let symb = \"\";\r\n            for (let j = k; j < spinResults[i].length; j++) {\r\n              if (spinResults[i][j] !== \"D\") {\r\n                symb = spinResults[i][j];\r\n                j = spinResults[i].length;\r\n              } else {\r\n                fool++;\r\n                j = spinResults[i].length;\r\n              }\r\n            }\r\n            if (fool < 4 && symb !== \"\") {\r\n              symbolSellection.push(symb);\r\n            }\r\n          }\r\n        }\r\n        for (let i = 0; i < symbolSellection.length; i++) {\r\n          checkLinesElements(symbolSellection[i]);\r\n        }\r\n      };\r\n    \r\n      const setBetZero = () => {\r\n        bet = 0;\r\n      };\r\n\r\n      const evaluatespinResults = () => {\r\n        checkFourFools();\r\n        checkElements();\r\n        if (winningLines.length > 0) {\r\n         props.winningLinesCallBack(winningLines, false);\r\n         let fnScore=0;\r\n          for (let i = 0; i < winningLines.length; i++) {\r\n            console.log(\"My score is \"+score);\r\n            let scr = drawScore(winningLines[i], false);\r\n            console.log(\"My scr in evaluateSpinResults is: \"+scr);\r\n            let betScore = setMyScore(scr);\r\n            console.log(\"My betScore in evaluateSpinResults is: \"+betScore);\r\n            fnScore= fnScore+betScore;\r\n          }\r\n          console.log(\"My fnScore in evaluateSpinResults is:\"+fnScore);\r\n          fnScore=fnScore+score;\r\n          finalScore= Math.round((fnScore + Number.EPSILON) * 100) / 100;\r\n        } else {\r\n          if (score - bet >= 0.2) {\r\n          props.looserCallBack();\r\n//            finalScore=Math.round((score - bet) * 100) / 100;\r\n//            setScore(Math.round((score - bet) * 100) / 100);\r\n            console.log(\"My finalScore in evaluateSpinResults is: \"+finalScore);\r\n            let fnScore= score-bet;\r\n            finalScore= Math.round((fnScore + Number.EPSILON) * 100) / 100;\r\n            console.log(\"My finalScore in evaluateSpinResults after adding score is: \"+finalScore);\r\n            if (score < bet) {\r\n              setBetZero();\r\n            }\r\n          } else if (score - bet === 0) {\r\n            finalScore=score-bet;\r\n            setBetZero();\r\n//            setScore(0);\r\n            finalScore=0;\r\n        //CREATE A GAME OVER SET FROM HERE    \r\n            insertToDb();\r\n            props.looserCallBack();\r\n\r\n          }\r\n        }\r\n      };\r\n\r\n      const insertToDb = async () =>{\r\n        if(typeof window.ethereum !== \"undefined\"){\r\n          const accounts = await window.ethereum.request({\r\n            method: \"eth_requestAccounts\",\r\n          });\r\n          const contractAddr = \"0xDFe7ff7386e0C4321Bd1fc7d5f47887C91C7455B\";\r\n          const url=\"https://vast-ridge-99820.herokuapp.com\";\r\n          const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n          const gasPrice = await provider.getGasPrice();\r\n          const newSigner = provider.getSigner();\r\n//          setAccount(accounts[0]);\r\n          let contract = new ethers.Contract(\r\n                          contractAddr,\r\n                          PFPRacerNFT.abi,\r\n                          newSigner\r\n                        );\r\n\r\n                        const dataToSend = JSON.stringify({ \"wallet\": accounts[0],\r\n                                                            \"txtype\":\"withdrawal\",\r\n                                                            \"amount\":0,\r\n                                                             });\r\n                       \r\n                          const link = url+\"/api/insertWallet\";\r\n                          await fetch(link,{\r\n                          method: 'POST',\r\n                          headers: {\r\n                            'Accept': 'application/json',\r\n                            'Content-Type': 'application/json',\r\n                          },\r\n                          body: dataToSend\r\n                        })\r\n          \r\n        }else{\r\n          alert(\"Please install metamask\");\r\n        }\r\n      }\r\n\r\n      const checkWin = () => {\r\n        if (props.game > 0) {\r\n          let fool = checkFiveFools();\r\n          if (!fool) {\r\n            evaluatespinResults();\r\n          }\r\n        }\r\n    \r\n      };\r\n\r\n\r\n/**Testing part  */  \r\n  \r\nsetTimeout(()=>{\r\n    //    setScore(scr);\r\n    checkWin();\r\n    setScore(finalScore);\r\n    \r\n    console.log(\"My score in state is: \"+score);\r\n    console.log(\"My finalScore in state is: \"+finalScore);\r\n    props.setCallbackScore(finalScore);\r\n    show=props.game;\r\n},7500)\r\n/**END of testing part */  \r\n\r\n/******************************************/  \r\n}\r\n\r\nconst callbackSetMyScr = (myScr) => {\r\n      if(myScr===0){\r\n        setScore(myScr);\r\n\r\n        props.setCallbackScore(myScr);\r\n   //   btnDisable=true;\r\n    }else if(myScr>0){\r\n        setScore(myScr);\r\n        props.setCallbackScore(myScr);\r\n    }\r\n      //score=myScr;\r\n    }\r\n\r\n    const callBackGetScore = () => {\r\n      return score;\r\n    }\r\n \r\n    return (    \r\n      <> \r\n      <Withdrawal blockWithdraw={props.blockWithdrawal} getScoreCallback={callBackGetScore} setScoreCallBack={callbackSetMyScr}/>\r\n      <label className=\"label-score\">\r\n        Score:<span id=\"score\">{score}</span>\r\n      </label>\r\n    </>  \r\n    )\r\n}\r\n\r\n\r\nexport default CalculateScore;"],"mappings":"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"},"metadata":{},"sourceType":"module"}