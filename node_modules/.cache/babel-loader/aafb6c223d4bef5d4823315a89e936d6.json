{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getVolumes = exports.createBuildCommand = exports.compileDockerSolc = void 0;\n\nconst path_1 = require(\"path\");\n\nconst compilerInput_1 = require(\"./compilerInput\");\n\nconst executeCommand_1 = require(\"./executeCommand\");\n\nconst CONTAINER_PATH = '/home/project';\nconst NPM_PATH = '/home/npm';\n\nfunction compileDockerSolc(config) {\n  return async function compile(sources) {\n    const command = createBuildCommand(config);\n    const input = compilerInput_1.getCompilerInput(sources, config.compilerOptions, 'Solidity');\n    const output = await executeCommand_1.executeCommand(command, input);\n    return JSON.parse(output);\n  };\n}\n\nexports.compileDockerSolc = compileDockerSolc;\n\nfunction createBuildCommand(config) {\n  const tag = config.compilerVersion || 'stable';\n  const allowedPaths = `\"${CONTAINER_PATH},${NPM_PATH}\"`;\n  return `docker run ${getVolumes(config)} -i -a stdin -a stdout ` + `ethereum/solc:${tag} solc --standard-json --allow-paths ${allowedPaths}`;\n}\n\nexports.createBuildCommand = createBuildCommand;\n\nfunction getVolumes(config) {\n  const hostPath = process.cwd();\n  const hostNpmPath = path_1.join(hostPath, config.nodeModulesDirectory);\n  return `-v ${hostPath}:${CONTAINER_PATH} -v ${hostNpmPath}:${NPM_PATH}`;\n}\n\nexports.getVolumes = getVolumes;","map":{"version":3,"names":["Object","defineProperty","exports","value","getVolumes","createBuildCommand","compileDockerSolc","path_1","require","compilerInput_1","executeCommand_1","CONTAINER_PATH","NPM_PATH","config","compile","sources","command","input","getCompilerInput","compilerOptions","output","executeCommand","JSON","parse","tag","compilerVersion","allowedPaths","hostPath","process","cwd","hostNpmPath","join","nodeModulesDirectory"],"sources":["F:/Games/slotmachinereact/node_modules/@ethereum-waffle/compiler/dist/cjs/compileDockerSolc.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getVolumes = exports.createBuildCommand = exports.compileDockerSolc = void 0;\nconst path_1 = require(\"path\");\nconst compilerInput_1 = require(\"./compilerInput\");\nconst executeCommand_1 = require(\"./executeCommand\");\nconst CONTAINER_PATH = '/home/project';\nconst NPM_PATH = '/home/npm';\nfunction compileDockerSolc(config) {\n    return async function compile(sources) {\n        const command = createBuildCommand(config);\n        const input = compilerInput_1.getCompilerInput(sources, config.compilerOptions, 'Solidity');\n        const output = await executeCommand_1.executeCommand(command, input);\n        return JSON.parse(output);\n    };\n}\nexports.compileDockerSolc = compileDockerSolc;\nfunction createBuildCommand(config) {\n    const tag = config.compilerVersion || 'stable';\n    const allowedPaths = `\"${CONTAINER_PATH},${NPM_PATH}\"`;\n    return `docker run ${getVolumes(config)} -i -a stdin -a stdout ` +\n        `ethereum/solc:${tag} solc --standard-json --allow-paths ${allowedPaths}`;\n}\nexports.createBuildCommand = createBuildCommand;\nfunction getVolumes(config) {\n    const hostPath = process.cwd();\n    const hostNpmPath = path_1.join(hostPath, config.nodeModulesDirectory);\n    return `-v ${hostPath}:${CONTAINER_PATH} -v ${hostNpmPath}:${NPM_PATH}`;\n}\nexports.getVolumes = getVolumes;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqBF,OAAO,CAACG,kBAAR,GAA6BH,OAAO,CAACI,iBAAR,GAA4B,KAAK,CAAnF;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,MAAD,CAAtB;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,iBAAD,CAA/B;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,kBAAD,CAAhC;;AACA,MAAMG,cAAc,GAAG,eAAvB;AACA,MAAMC,QAAQ,GAAG,WAAjB;;AACA,SAASN,iBAAT,CAA2BO,MAA3B,EAAmC;EAC/B,OAAO,eAAeC,OAAf,CAAuBC,OAAvB,EAAgC;IACnC,MAAMC,OAAO,GAAGX,kBAAkB,CAACQ,MAAD,CAAlC;IACA,MAAMI,KAAK,GAAGR,eAAe,CAACS,gBAAhB,CAAiCH,OAAjC,EAA0CF,MAAM,CAACM,eAAjD,EAAkE,UAAlE,CAAd;IACA,MAAMC,MAAM,GAAG,MAAMV,gBAAgB,CAACW,cAAjB,CAAgCL,OAAhC,EAAyCC,KAAzC,CAArB;IACA,OAAOK,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAP;EACH,CALD;AAMH;;AACDlB,OAAO,CAACI,iBAAR,GAA4BA,iBAA5B;;AACA,SAASD,kBAAT,CAA4BQ,MAA5B,EAAoC;EAChC,MAAMW,GAAG,GAAGX,MAAM,CAACY,eAAP,IAA0B,QAAtC;EACA,MAAMC,YAAY,GAAI,IAAGf,cAAe,IAAGC,QAAS,GAApD;EACA,OAAQ,cAAaR,UAAU,CAACS,MAAD,CAAS,yBAAjC,GACF,iBAAgBW,GAAI,uCAAsCE,YAAa,EAD5E;AAEH;;AACDxB,OAAO,CAACG,kBAAR,GAA6BA,kBAA7B;;AACA,SAASD,UAAT,CAAoBS,MAApB,EAA4B;EACxB,MAAMc,QAAQ,GAAGC,OAAO,CAACC,GAAR,EAAjB;EACA,MAAMC,WAAW,GAAGvB,MAAM,CAACwB,IAAP,CAAYJ,QAAZ,EAAsBd,MAAM,CAACmB,oBAA7B,CAApB;EACA,OAAQ,MAAKL,QAAS,IAAGhB,cAAe,OAAMmB,WAAY,IAAGlB,QAAS,EAAtE;AACH;;AACDV,OAAO,CAACE,UAAR,GAAqBA,UAArB"},"metadata":{},"sourceType":"script"}