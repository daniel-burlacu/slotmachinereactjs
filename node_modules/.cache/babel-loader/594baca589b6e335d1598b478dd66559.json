{"ast":null,"code":"var Sublevel = require(\"level-sublevel\");\n\nvar async = require(\"async\");\n\nfunction LevelUpObjectAdapter(name, db, valueserializer, keyserializer, options) {\n  this.db = Sublevel(db, options);\n  this.db = this.db.sublevel(name);\n  this.name = name;\n  this.valueserializer = valueserializer || {\n    encode: function (val, callback) {\n      callback(null, val);\n    },\n    decode: function (val, callback) {\n      callback(null, val);\n    }\n  };\n  this.keyserializer = keyserializer || {\n    encode: function (val, callback) {\n      callback(null, val);\n    },\n    decode: function (val, callback) {\n      callback(null, val);\n    }\n  };\n}\n\nLevelUpObjectAdapter.prototype.get = function (key, options, callback) {\n  var self = this;\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n\n  this.keyserializer.encode(key, function (err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.db.get(encodedKey, function (err, val) {\n      if (err) {\n        return callback(err);\n      }\n\n      self.valueserializer.decode(val, function (err, decodedValue) {\n        if (err) {\n          return callback(err);\n        }\n\n        callback(null, decodedValue);\n      });\n    });\n  });\n};\n\nLevelUpObjectAdapter.prototype.put = function (key, value, options, callback) {\n  var self = this;\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n\n  this.keyserializer.encode(key, function (err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.valueserializer.encode(value, function (err, encoded) {\n      if (err) {\n        return callback(err);\n      }\n\n      self.db.put(encodedKey, encoded, callback);\n    });\n  });\n};\n\nLevelUpObjectAdapter.prototype.set = LevelUpObjectAdapter.prototype.put;\n\nLevelUpObjectAdapter.prototype.del = function (key, callback) {\n  var self = this;\n  this.keyserializer.encode(key, function (err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.db.del(encodedKey, callback);\n  });\n};\n\nLevelUpObjectAdapter.prototype.batch = function (array, options, callback) {\n  var self = this;\n  async.each(array, function (item, finished) {\n    if (item.type === \"put\") {\n      self.put(item.key, item.value, options, finished);\n    } else if (item.type === \"del\") {\n      self.del(item.key, finished);\n    } else {\n      finished(new Error(\"Unknown batch type\", item.type));\n    }\n  }, function (err) {\n    if (err) {\n      return callback(err);\n    }\n\n    callback();\n  });\n};\n\nLevelUpObjectAdapter.prototype.isOpen = function () {\n  return true;\n};\n\nmodule.exports = LevelUpObjectAdapter;","map":{"version":3,"names":["Sublevel","require","async","LevelUpObjectAdapter","name","db","valueserializer","keyserializer","options","sublevel","encode","val","callback","decode","prototype","get","key","self","err","encodedKey","decodedValue","put","value","encoded","set","del","batch","array","each","item","finished","type","Error","isOpen","module","exports"],"sources":["F:/Games/slotmachinereact/node_modules/ganache-core/lib/database/levelupobjectadapter.js"],"sourcesContent":["var Sublevel = require(\"level-sublevel\");\nvar async = require(\"async\");\n\nfunction LevelUpObjectAdapter(name, db, valueserializer, keyserializer, options) {\n  this.db = Sublevel(db, options);\n  this.db = this.db.sublevel(name);\n  this.name = name;\n  this.valueserializer = valueserializer || {\n    encode: function(val, callback) {\n      callback(null, val);\n    },\n    decode: function(val, callback) {\n      callback(null, val);\n    }\n  };\n  this.keyserializer = keyserializer || {\n    encode: function(val, callback) {\n      callback(null, val);\n    },\n    decode: function(val, callback) {\n      callback(null, val);\n    }\n  };\n}\n\nLevelUpObjectAdapter.prototype.get = function(key, options, callback) {\n  var self = this;\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n\n  this.keyserializer.encode(key, function(err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.db.get(encodedKey, function(err, val) {\n      if (err) {\n        return callback(err);\n      }\n\n      self.valueserializer.decode(val, function(err, decodedValue) {\n        if (err) {\n          return callback(err);\n        }\n\n        callback(null, decodedValue);\n      });\n    });\n  });\n};\n\nLevelUpObjectAdapter.prototype.put = function(key, value, options, callback) {\n  var self = this;\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n\n  this.keyserializer.encode(key, function(err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.valueserializer.encode(value, function(err, encoded) {\n      if (err) {\n        return callback(err);\n      }\n\n      self.db.put(encodedKey, encoded, callback);\n    });\n  });\n};\n\nLevelUpObjectAdapter.prototype.set = LevelUpObjectAdapter.prototype.put;\n\nLevelUpObjectAdapter.prototype.del = function(key, callback) {\n  var self = this;\n\n  this.keyserializer.encode(key, function(err, encodedKey) {\n    if (err) {\n      return callback(err);\n    }\n\n    self.db.del(encodedKey, callback);\n  });\n};\n\nLevelUpObjectAdapter.prototype.batch = function(array, options, callback) {\n  var self = this;\n\n  async.each(\n    array,\n    function(item, finished) {\n      if (item.type === \"put\") {\n        self.put(item.key, item.value, options, finished);\n      } else if (item.type === \"del\") {\n        self.del(item.key, finished);\n      } else {\n        finished(new Error(\"Unknown batch type\", item.type));\n      }\n    },\n    function(err) {\n      if (err) {\n        return callback(err);\n      }\n      callback();\n    }\n  );\n};\n\nLevelUpObjectAdapter.prototype.isOpen = function() {\n  return true;\n};\n\nmodule.exports = LevelUpObjectAdapter;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}