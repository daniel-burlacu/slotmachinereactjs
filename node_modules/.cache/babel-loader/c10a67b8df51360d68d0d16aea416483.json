{"ast":null,"code":"import _defineProperty from \"F:/Games/slotmachinereact/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"F:/Games/slotmachinereact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"F:/Games/slotmachinereact/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { jsx as e } from \"react/jsx-runtime\";\nimport { createContext as t, useRef as r, useContext as n } from \"react\";\nimport { config as i, useSpring as c, animated as o } from \"react-spring\";\nimport { useDrag as u } from \"@use-gesture/react\";\nimport { u as s, a as l, b as a, c as f, d } from \"./useThumbsModule-0944decf.js\";\nimport \"rxjs\";\nimport \"screenfull\";\nvar h = t(void 0),\n    g = Object.assign(Object.assign({}, i.default), {\n  mass: 1,\n  velocity: 0\n});\n\nfunction m(_ref) {\n  var t = _ref.items,\n      _ref$withLoop = _ref.withLoop,\n      n = _ref$withLoop === void 0 ? !1 : _ref$withLoop,\n      m = _ref.draggingSlideTreshold,\n      _ref$springConfig = _ref.springConfig,\n      v = _ref$springConfig === void 0 ? i.default : _ref$springConfig,\n      _ref$shouldResizeOnWi = _ref.shouldResizeOnWindowResize,\n      p = _ref$shouldResizeOnWi === void 0 ? !0 : _ref$shouldResizeOnWi,\n      _ref$withThumbs = _ref.withThumbs,\n      y = _ref$withThumbs === void 0 ? !1 : _ref$withThumbs,\n      _ref$enableThumbsWrap = _ref.enableThumbsWrapperScroll,\n      b = _ref$enableThumbsWrap === void 0 ? !0 : _ref$enableThumbsWrap,\n      _ref$slideWhenThresho = _ref.slideWhenThresholdIsReached,\n      x = _ref$slideWhenThresho === void 0 ? !0 : _ref$slideWhenThresho,\n      _ref$carouselSlideAxi = _ref.carouselSlideAxis,\n      w = _ref$carouselSlideAxi === void 0 ? \"x\" : _ref$carouselSlideAxi,\n      _ref$thumbsSlideAxis = _ref.thumbsSlideAxis,\n      T = _ref$thumbsSlideAxis === void 0 ? \"x\" : _ref$thumbsSlideAxis,\n      O = _ref.prepareThumbsData,\n      _ref$initialActiveIte = _ref.initialActiveItem,\n      j = _ref$initialActiveIte === void 0 ? 0 : _ref$initialActiveIte,\n      I = _ref.initialStartingPosition,\n      _ref$disableGestures = _ref.disableGestures,\n      S = _ref$disableGestures === void 0 ? !1 : _ref$disableGestures,\n      _ref$gutter = _ref.gutter,\n      E = _ref$gutter === void 0 ? 0 : _ref$gutter,\n      _ref$startEndGutter = _ref.startEndGutter,\n      A = _ref$startEndGutter === void 0 ? 0 : _ref$startEndGutter,\n      C = _ref.touchAction,\n      R = _ref.slideAmount,\n      _ref$freeScroll = _ref.freeScroll,\n      $ = _ref$freeScroll === void 0 ? !1 : _ref$freeScroll,\n      W = _ref.enableFreeScrollDrag,\n      _ref$itemsPerSlide = _ref.itemsPerSlide,\n      L = _ref$itemsPerSlide === void 0 ? 1 : _ref$itemsPerSlide,\n      _ref$slideType = _ref.slideType,\n      M = _ref$slideType === void 0 ? \"fixed\" : _ref$slideType;\n\n  var F = r(!0),\n      N = r(\"initial\"),\n      P = n ? t.length === L ? [].concat(_toConsumableArray(t), _toConsumableArray(t), _toConsumableArray(t), _toConsumableArray(t), _toConsumableArray(t)) : [].concat(_toConsumableArray(t), _toConsumableArray(t), _toConsumableArray(t)) : t,\n      z = r(j),\n      D = r(null),\n      B = r(null),\n      k = r(!1),\n      q = r(!1),\n      G = r(!1),\n      V = r(0),\n      Y = r(!1),\n      H = r(0),\n      X = r(0),\n      J = r(0),\n      K = r(t),\n      Q = r(null != m ? m : 0),\n      U = r(L),\n      Z = r(E),\n      _ = r(A),\n      ee = r(j),\n      te = r(I),\n      re = r(w);\n\n  U.current = L, Z.current = E, _.current = A, ee.current = j, te.current = I, re.current = w;\n\n  var _c = c(function () {\n    return {\n      y: 0,\n      x: 0,\n      onChange: function onChange(_ref2) {\n        var e = _ref2.value;\n        D.current && $ && (D.current[\"x\" === re.current ? \"scrollLeft\" : \"scrollTop\"] = Math.abs(e[re.current]));\n      }\n    };\n  }),\n      _c2 = _slicedToArray(_c, 2),\n      ne = _c2[0],\n      ie = _c2[1];\n\n  function ce() {\n    var e = null === (t = B.current) || void 0 === t ? void 0 : t.querySelector(\".use-spring-carousel-item\");\n    var t;\n    if (!e) throw Error(\"No carousel items available!\");\n    return e.getBoundingClientRect()[\"x\" === re.current ? \"width\" : \"height\"] + Z.current;\n  }\n\n  function oe() {\n    return ne[re.current].get();\n  }\n\n  function ue() {\n    return ce() * t.length < function () {\n      if (!D.current) throw new Error(\"mainCarouselWrapperRef is not available\");\n      return D.current.getBoundingClientRect()[\"x\" === re.current ? \"width\" : \"height\"];\n    }();\n  }\n\n  function se() {\n    var e;\n    return Math.round(Number(null === (e = B.current) || void 0 === e ? void 0 : e[\"x\" === re.current ? \"scrollWidth\" : \"scrollHeight\"]) - B.current.getBoundingClientRect()[\"x\" === re.current ? \"width\" : \"height\"]);\n  }\n\n  function le() {\n    return 0 === Ee();\n  }\n\n  function ae() {\n    if (!B.current) return 0;\n    var e = ce();\n\n    if (\"fluid\" === M && \"number\" == typeof R) {\n      if (R < e) throw new Error(\"slideAmount must be greater than the width of a single item.\");\n      return R;\n    }\n\n    return e;\n  }\n\n  function fe(e, r) {\n    var i = \"x\" === re.current ? \"left\" : \"top\";\n\n    function c() {\n      return ce() * t.length;\n    }\n\n    function o(t) {\n      n ? (e.style.top = \"0px\", e.style[i] = \"-\".concat(t - _.current, \"px\")) : (e.style.left = \"0px\", e.style.top = \"0px\", r && F.current && (e.style[i] = \"calc(-\".concat(r, \" * 100%)\")));\n    }\n\n    function u() {\n      o(c());\n    }\n\n    if (\"fixed\" === M) {\n      if (U.current > 1) switch (te.current) {\n        default:\n        case \"start\":\n          u();\n          break;\n\n        case \"center\":\n          s = U.current, o(c() - ae() * Math.round((s - 1) / 2));\n          break;\n\n        case \"end\":\n          !function (e) {\n            o(c() - ae() * Math.round(e - 1));\n          }(U.current);\n      } else u();\n    } else u();\n\n    var s;\n  }\n\n  function de() {\n    if (H.current = window.innerWidth, \"fluid\" === M) {\n      if (ue()) return void ie.start(_defineProperty({\n        immediate: !0\n      }, re.current, 0));\n\n      if (V.current = se(), Y.current) {\n        var _e = -V.current;\n\n        ie.start(_defineProperty({\n          immediate: !0\n        }, re.current, _e));\n      }\n\n      X.current = window.innerWidth;\n    } else ie.start(_defineProperty({\n      immediate: !0\n    }, re.current, -ae() * Ee()));\n\n    V.current = se(), fe(B.current);\n  }\n\n  function he() {\n    window.innerWidth === H.current || $ || de();\n  }\n\n  s(function () {\n    Q.current = m || Math.floor(ae() / 2 / 2), de();\n  }, [m, L, E, A, j, I, w, T]);\n\n  var _l = l(),\n      ge = _l.useListenToCustomEvent,\n      me = _l.emitObservable,\n      _a = a({\n    mainCarouselWrapperRef: D,\n    emitObservable: me,\n    handleResize: he\n  }),\n      ve = _a.enterFullscreen,\n      pe = _a.exitFullscreen,\n      ye = _a.getIsFullscreen,\n      _f = f({\n    withThumbs: y,\n    items: t,\n    thumbsSlideAxis: T,\n    springConfig: v,\n    prepareThumbsData: O,\n    slideType: M,\n    getFluidWrapperScrollValue: se,\n    getSlideValue: ae\n  }),\n      be = _f.thumbsFragment,\n      xe = _f.handleThumbsScroll;\n\n  function we() {\n    if (!D.current) throw new Error(\"Missing mainCarouselWrapperRef.current\");\n    return D.current[\"x\" === re.current ? \"scrollLeft\" : \"scrollTop\"];\n  }\n\n  function Te() {\n    return \"boolean\" == typeof W ? W : \"function\" == typeof W && W();\n  }\n\n  var Oe = u(function (e) {\n    var t = e.dragging,\n        r = e.offset[\"x\" === re.current ? 0 : 1],\n        i = e.movement[\"x\" === re.current ? 0 : 1],\n        c = i > Q.current,\n        o = i < -Q.current,\n        u = e.direction[\"x\" === re.current ? 0 : 1];\n\n    function s() {\n      e.cancel();\n    }\n\n    function l() {\n      je(u > 0 ? \"prev\" : \"next\");\n    }\n\n    function a() {\n      me(Object.assign({\n        eventName: \"onDrag\",\n        slideActionType: Ie()\n      }, e));\n    }\n\n    function f() {\n      var _ie$start4, _ie$start5, _ie$start6, _ie$start7;\n\n      \"fluid\" === M ? ue() || le() && \"prev\" === Ie() ? ie.start((_ie$start4 = {}, _defineProperty(_ie$start4, re.current, 0), _defineProperty(_ie$start4, \"config\", Object.assign({\n        velocity: e.velocity\n      }, v)), _ie$start4)) : Y.current && \"next\" === Ie() ? ie.start((_ie$start5 = {}, _defineProperty(_ie$start5, re.current, -V.current), _defineProperty(_ie$start5, \"config\", Object.assign({\n        velocity: e.velocity\n      }, v)), _ie$start5)) : ie.start((_ie$start6 = {}, _defineProperty(_ie$start6, re.current, J.current), _defineProperty(_ie$start6, \"config\", Object.assign({\n        velocity: e.velocity\n      }, v)), _ie$start6)) : ie.start((_ie$start7 = {}, _defineProperty(_ie$start7, re.current, -Ee() * ae()), _defineProperty(_ie$start7, \"config\", Object.assign({\n        velocity: e.velocity\n      }, v)), _ie$start7));\n    }\n\n    function d() {\n      Math.abs(oe()) + 100 >= V.current && \"next\" === Ie() && (Y.current = !0), \"prev\" === Ie() && (Y.current = !1);\n    }\n\n    if ($ && Te()) return t && (Re() || Ce(!0), l(), a(), d()), ie.start({\n      from: _defineProperty({}, re.current, we()),\n      to: _defineProperty({}, re.current, -r),\n      config: {\n        velocity: e.velocity,\n        friction: 50,\n        tension: 1400\n      }\n    }), 0 === we() && \"prev\" === Ie() ? void s() : void (e.last && (\"prev\" === Ie() ? Pe(e.velocity) : ze(e.velocity), Ce(!1)));\n\n    if (t) {\n      var _ie$start8;\n\n      if (Re() || Ce(!0), a(), l(), d(), $) {\n        if (Te()) {\n          if (0 === we() && \"prev\" === Ie()) return void s();\n          ie.start({\n            config: {\n              velocity: e.velocity,\n              friction: 50,\n              tension: 1400\n            },\n            from: _defineProperty({}, re.current, we()),\n            to: _defineProperty({}, re.current, -r)\n          });\n        }\n\n        return;\n      }\n\n      if (ie.start((_ie$start8 = {}, _defineProperty(_ie$start8, re.current, r), _defineProperty(_ie$start8, \"config\", {\n        velocity: e.velocity,\n        friction: 50,\n        tension: 1e3\n      }), _ie$start8)), (c || o) && ue() && \"fluid\" === M) s(), f();else if (Y.current && \"next\" === Ie() && o) Y.current = !1, s(), ie.start(_defineProperty({}, re.current, -V.current));else if (x) {\n        if (o) return s(), void (!n && Ne() ? f() : ze(e.velocity));\n        if (c) return s(), void (!n && le() ? f() : Pe(e.velocity));\n      }\n    }\n\n    if (e.last && !x && (o || c) && !$) return Ce(!1), void (o ? !n && Ne() ? f() : ze(e.velocity) : c && (!n && le() ? f() : Pe(e.velocity)));\n    !e.last || o || c || $ || (f(), me(Object.assign({\n      eventName: \"onDrag\",\n      slideActionType: Ie()\n    }, e)));\n  }, {\n    enabled: !S,\n    axis: re.current,\n    from: function from() {\n      return $ ? \"x\" === re.current ? [-we(), 0] : [0, -we()] : [ne.x.get(), ne.y.get()];\n    }\n  });\n\n  function je(e) {\n    N.current = e;\n  }\n\n  function Ie() {\n    return N.current;\n  }\n\n  function Se(e) {\n    z.current = e;\n  }\n\n  function Ee() {\n    return z.current;\n  }\n\n  function Ae(e) {\n    q.current = e;\n  }\n\n  function Ce(e) {\n    k.current = e;\n  }\n\n  function Re() {\n    return k.current;\n  }\n\n  function $e() {\n    var e = Ee();\n    return 0 === e ? t.length - 1 : e - 1;\n  }\n\n  function We() {\n    var e = Ee();\n    return e === t.length - 1 ? 0 : e + 1;\n  }\n\n  function Le(e) {\n    return t.findIndex(function (t) {\n      return t.id === e;\n    });\n  }\n\n  function Me(e, t) {\n    if (\"number\" == typeof e) return _defineProperty({}, re.current, e);\n    if (\"number\" != typeof t) throw new Error(\"to values is not a number!\");\n    return _defineProperty({}, re.current, -ae() * t);\n  }\n\n  function Fe(_ref5) {\n    var e = _ref5.from,\n        _ref5$to = _ref5.to,\n        r = _ref5$to === void 0 ? -1 : _ref5$to,\n        n = _ref5.customTo,\n        _ref5$immediate = _ref5.immediate,\n        i = _ref5$immediate === void 0 ? !1 : _ref5$immediate,\n        _ref5$onRest = _ref5.onRest,\n        c = _ref5$onRest === void 0 ? function () {} : _ref5$onRest,\n        o = _ref5.velocity;\n    i || (Se(r), Ae(!0), me({\n      eventName: \"onSlideStartChange\",\n      slideActionType: Ie(),\n      nextItem: {\n        index: \"fluid\" === M ? -1 : r,\n        id: \"fluid\" === M ? \"\" : t[r].id\n      }\n    })), J.current = Me(n, r)[w], ie.start(Object.assign(Object.assign(Object.assign(Object.assign({}, function (e) {\n      return \"number\" == typeof e ? {\n        from: _defineProperty({}, re.current, e)\n      } : {};\n    }(e)), {\n      to: Me(n, r)\n    }), o ? {\n      config: Object.assign(Object.assign({}, g), {\n        velocity: o,\n        friction: void 0,\n        tension: void 0\n      })\n    } : {\n      config: Object.assign({\n        velocity: 0\n      }, v)\n    }), {\n      immediate: i,\n      onRest: function onRest(e) {\n        e.finished && (Ce(!1), Ae(!1), c(), i || me({\n          eventName: \"onSlideChange\",\n          slideActionType: Ie(),\n          currentItem: {\n            index: \"fluid\" === M ? -1 : Ee(),\n            id: \"fluid\" === M ? \"\" : t[Ee()].id\n          }\n        }));\n      }\n    })), b && y && !i && xe(r, Ie());\n  }\n\n  function Ne() {\n    return Ee() === t.length - 1;\n  }\n\n  function Pe(e) {\n    if (je(\"prev\"), Y.current = !1, \"fluid\" === M) {\n      if (Y.current = !1, ue()) return;\n\n      var _r = oe() + ae() + 200;\n\n      if ($) {\n        var _t = D.current.scrollLeft - ae();\n\n        Fe({\n          customTo: _t < 0 ? 0 : _t,\n          from: D.current.scrollLeft,\n          velocity: e\n        });\n      } else Fe(_r >= 0 ? n ? {\n        from: oe() - ce() * t.length,\n        velocity: e,\n        customTo: oe() - ce() * t.length + ae()\n      } : {\n        customTo: 0,\n        velocity: e\n      } : {\n        customTo: oe() + ae(),\n        velocity: e\n      });\n    } else {\n      if (!n && 0 === Ee() || G.current) return;\n      le() ? Fe({\n        from: oe() - ae() * t.length,\n        to: t.length - 1,\n        velocity: e\n      }) : Fe({\n        to: $e(),\n        velocity: e\n      });\n    }\n  }\n\n  function ze(e) {\n    if (je(\"next\"), \"fluid\" === M) {\n      if (ue()) return;\n\n      var _r2 = Math.abs(oe() - ae()) + 100 >= V.current;\n\n      if ($) {\n        var _t2 = D.current.scrollLeft + ae() > V.current,\n            _r3 = D.current.scrollLeft + ae();\n\n        Fe({\n          velocity: e,\n          customTo: _t2 ? V.current : _r3,\n          from: D.current.scrollLeft\n        });\n      } else if (n && Math.abs(oe() - ae()) >= t.length * ce()) {\n        var _r4 = ce() * t.length;\n\n        Fe({\n          from: oe() + _r4,\n          customTo: oe() + _r4 - ae(),\n          velocity: e\n        });\n      } else {\n        if (Y.current) return;\n        _r2 ? (Y.current = !0, Fe({\n          customTo: -V.current,\n          velocity: e\n        })) : Fe({\n          customTo: oe() - ae(),\n          velocity: e\n        });\n      }\n    } else {\n      if (!n && Ee() === P.length - 1 || G.current) return;\n      Math.abs(oe() - ae() + 25) > V.current && !Re() ? Y.current = !0 : Y.current ? Fe({\n        to: t.length - U.current,\n        velocity: e\n      }) : Ne() ? Fe({\n        from: oe() + ae() * t.length,\n        to: 0,\n        velocity: e\n      }) : Fe({\n        to: We(),\n        velocity: e\n      });\n    }\n  }\n\n  function De(e) {\n    var r = 0;\n    if (r = \"string\" == typeof e ? t.findIndex(function (t) {\n      return t.id === e;\n    }) : e, r >= t.length) throw Error(\"The item you want to slide to doesn't exist. This could be due to the fact that \\n        you provide a wrong id or a higher numeric index.\");\n    if (r === Ee() || t.length !== K.current.length && Ee() < t.length) return;\n    var n = Le(K.current[Ee()].id);\n    je(Le(t[r].id) > n ? \"next\" : \"prev\"), Fe({\n      to: r\n    });\n  }\n\n  d(function () {\n    if (L % 2 == 0 && te.current) throw new Error(\"initialStartingPosition can be only used if itemsPerSlide is an even value.\");\n    if (Q.current < 0) throw new Error(\"draggingSlideTreshold must be greater than 0\");\n    if (Q.current > ae() / 2) throw new Error(\"draggingSlideTreshold must be equal or less than the half of the width of an item, which is \".concat(Math.floor(ae() / 2)));\n    if (U.current < 1) throw new Error(\"The itemsPerSlide prop can't be less than 1.\");\n    if (U.current > t.length) throw new Error(\"The itemsPerSlide prop can't be greater than the total length of the items you provide.\");\n    if (ee.current < 0) throw new Error(\"The initialActiveItem cannot be less than 0.\");\n    if (ee.current > t.length) throw new Error(\"The initialActiveItem cannot be greater than the total length of the items you provide.\");\n    p || console.warn(\"You set shouldResizeOnWindowResize={false}; be aware that the carousel could behave in a strange way if you also use the fullscreen functionality or if you change the mobile orientation.\");\n  }), d(function () {\n    function e() {\n      document.hidden ? G.current = !0 : G.current = !1;\n    }\n\n    return document.addEventListener(\"visibilitychange\", e), function () {\n      document.removeEventListener(\"visibilitychange\", e);\n    };\n  }), d(function () {\n    F.current = !1, V.current = se(), X.current = window.innerWidth, H.current = window.innerWidth, j > 0 && (Fe({\n      to: j,\n      immediate: !0\n    }), Se(j), !n && B.current && (B.current.style.top = \"0px\", B.current.style.left = \"0px\"));\n  }), s(function () {\n    j < t.length && j !== z.current && (Fe({\n      to: j,\n      immediate: !0\n    }), Se(j));\n  }, [j]), s(function () {\n    if (p) return window.addEventListener(\"resize\", he), function () {\n      window.removeEventListener(\"resize\", he);\n    };\n  }, [p]), s(function () {\n    B.current && (\"x\" === re.current && (B.current.style.top = \"0px\"), \"y\" === re.current && (B.current.style.left = \"0px\"));\n  }, [w]), s(function () {\n    V.current = se();\n    !(t.length === K.current.length) && t.length < K.current.length && De(t.length - 1), K.current = t;\n  }, [se, t]);\n  var Be = Object.assign({\n    useListenToCustomEvent: ge,\n    getIsFullscreen: ye,\n    enterFullscreen: ve,\n    exitFullscreen: pe,\n    getIsAnimating: function getIsAnimating() {\n      return q.current;\n    },\n    getIsDragging: Re,\n    getIsNextItem: function getIsNextItem(e) {\n      var r = Le(e),\n          i = Ee();\n      return n && i === t.length - 1 ? 0 === r : r === i + 1;\n    },\n    getIsPrevItem: function getIsPrevItem(e) {\n      var r = Le(e),\n          i = Ee();\n      return n && 0 === i ? r === t.length - 1 : r === i - 1;\n    },\n    slideToPrevItem: function slideToPrevItem() {\n      Pe();\n    },\n    slideToNextItem: function slideToNextItem() {\n      ze();\n    }\n  }, \"fixed\" === M ? {\n    slideToItem: De,\n    getIsActiveItem: function getIsActiveItem(e) {\n      return Le(e) === Ee();\n    },\n    getCurrentActiveItem: function getCurrentActiveItem() {\n      return {\n        id: t[Ee()].id,\n        index: Ee()\n      };\n    }\n  } : {});\n  var ke = e(h.Provider, Object.assign({\n    value: Be\n  }, {\n    children: e(\"div\", Object.assign({\n      ref: D,\n      className: \"use-spring-carousel-main-wrapper\",\n      \"data-testid\": \"use-spring-carousel-wrapper\"\n    }, $ ? {\n      onWheel: function onWheel() {\n        ne[re.current].stop();\n      }\n    } : {}, {\n      style: Object.assign({\n        display: \"flex\",\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\"\n      }, $ ? \"x\" === re.current ? {\n        overflowX: \"auto\"\n      } : {\n        overflowY: \"auto\"\n      } : {})\n    }, {\n      children: e(o.div, Object.assign({}, Oe(), {\n        className: \"use-spring-carousel-track-wrapper\",\n        \"data-testid\": \"use-spring-carousel-animated-wrapper\",\n        ref: function ref(e) {\n          e && (B.current = e, fe(e, ee.current));\n        },\n        style: Object.assign(Object.assign(Object.assign({\n          display: \"flex\",\n          position: \"relative\",\n          touchAction: S ? \"unset\" : C || (\"x\" === re.current ? \"pan-y\" : \"pan-x\"),\n          flexDirection: \"x\" === re.current ? \"row\" : \"column\"\n        }, function () {\n          var e = \"calc(100% - \".concat(2 * _.current, \"px)\");\n          return {\n            width: \"x\" === re.current ? e : \"100%\",\n            height: \"y\" === re.current ? e : \"100%\"\n          };\n        }()), function () {\n          var e = t.length / L * 100,\n              r = 100 / L,\n              n = \"x\" === re.current ? \"left\" : \"y\",\n              i = Math.floor(50 / r);\n\n          if (\"fixed\" === M) {\n            if (\"center\" === te.current) return _defineProperty({}, n, \"calc(-\".concat(e, \"% + \").concat(r * i, \"%)\"));\n            if (\"end\" === te.current) return _defineProperty({}, n, \"calc(-\".concat(e, \"% + \").concat(r * (2 * i), \"%)\"));\n          }\n\n          return _defineProperty({}, n, \"0px\");\n        }()), $ ? {} : ne)\n      }, {\n        children: P.map(function (_ref9, n) {\n          var t = _ref9.id,\n              r = _ref9.renderItem;\n          return e(\"div\", Object.assign({\n            className: \"use-spring-carousel-item\",\n            \"data-testid\": \"use-spring-carousel-item-wrapper\",\n            style: Object.assign({\n              display: \"flex\",\n              position: \"relative\"\n            }, (i = U.current, \"fixed\" === M ? Object.assign(Object.assign({}, \"x\" === re.current ? {\n              marginRight: \"\".concat(Z.current, \"px\")\n            } : {\n              marginBottom: \"\".concat(Z.current, \"px\")\n            }), {\n              flex: \"1 0 calc(100% / \".concat(i, \" - \").concat(Z.current * (i - 1) / i, \"px)\")\n            }) : Object.assign({}, \"x\" === re.current ? {\n              marginRight: \"\".concat(Z.current, \"px\")\n            } : {\n              marginBottom: \"\".concat(Z.current, \"px\")\n            })))\n          }, {\n            children: r\n          }), \"\".concat(t, \"-\").concat(n));\n          var i;\n        })\n      }))\n    }))\n  })),\n      qe = e(h.Provider, Object.assign({\n    value: Be\n  }, {\n    children: be\n  }));\n  return Object.assign(Object.assign({}, Be), {\n    carouselFragment: ke,\n    thumbsFragment: qe\n  });\n}\n\nfunction v() {\n  var e = n(h);\n  if (!e) throw new Error(\"useSpringCarouselContext must be used only inside a component that is rendered inside the Carousel.\");\n  return e;\n}\n\nexport { m as useSpringCarousel, v as useSpringCarouselContext };","map":{"version":3,"mappings":"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","names":["Context","createContext","undefined","defaultDragSpringConfig","config","default","mass","velocity","useSpringCarousel","items","withLoop","draggingSlideTreshold","springConfig","shouldResizeOnWindowResize","withThumbs","enableThumbsWrapperScroll","slideWhenThresholdIsReached","carouselSlideAxis","thumbsSlideAxis","prepareThumbsData","initialActiveItem","initialStartingPosition","disableGestures","gutter","startEndGutter","touchAction","slideAmount","freeScroll","enableFreeScrollDrag","itemsPerSlide","slideType","isFirstMount","useRef","slideActionType","internalItems","length","activeItem","mainCarouselWrapperRef","carouselTrackWrapperRef","isDragging","isAnimating","windowIsHidden","fluidTotalWrapperScrollValue","slideEndReached","currentWindowWidth","initialWindowWidth","prevSlidedValue","prevItems","draggingSlideTresholdRef","itemsPerSlideRef","gutterRef","startEndGutterRef","initialActiveItemRef","initialStartingPositionRef","carouselSlideAxisRef","current","useSpring","y","x","onChange","value","Math","abs","carouselStyles","setCarouselStyles","getCarouselItemWidth","carouselItem","querySelector","Error","getBoundingClientRect","getCurrentSlidedValue","get","getIfItemsNotFillTheCarousel","getMainCarouselWrapperWidth","getFluidWrapperScrollValue","round","Number","getIsFirstItem","getCurrentActiveItem","getSlideValue","itemVal","adjustCarouselWrapperPosition","ref","_initialActiveItem","positionProperty","getDefaultPositionValue","setPosition","v","style","top","left","setStartPosition","i","setEndPosition","resize","window","innerWidth","start","immediate","nextValue","handleResize","useIsomorphicLayoutEffect","floor","useCustomEventsModule","useListenToCustomEvent","emitObservable","useFullscreenModule","enterFullscreen","exitFullscreen","getIsFullscreen","useThumbsModule","_thumbsFragment","thumbsFragment","handleThumbsScroll","getWrapperScrollDirection","getIfShouldEnableFluidDrag","bindDrag","useDrag","props","dragging","movement","offset","currentMovement","prevItemTreshold","nextItemTreshold","direction","cancelDrag","cancel","setDragDirection","setSlideActionType","emitDragObservable","eventName","getSlideActionType","resetAnimation","checkBounds","getIsDragging","setIsDragging","from","to","friction","tension","last","slideToPrevItem","slideToNextItem","getIsLastItem","enabled","axis","type","setActiveItem","newItem","setIsAnimating","val","getPrevItem","currentActiveItem","getNextItem","findItemIndex","id","findIndex","item","getToValue","customTo","slideToItem","onRest","nextItem","index","getFromValue","finished","currentItem","nextPrevValue","scrollLeft","nextItemWillExceed","willExceed","currentWidth","_slideToItem","itemIndex","_item","useIsomorphicMount","console","warn","handleVisibilityChange","document","hidden","addEventListener","removeEventListener","contextProps","getIsAnimating","getIsNextItem","getIsPrevItem","[object Object]","getIsActiveItem","carouselFragment","_jsx","Provider","className","stop","display","position","width","height","overflowX","overflowY","children","animated","div","flexDirection","percentValue","getAnimatedWrapperStyles","totalValue","singleItemValue","cssProp","quantityToMove","getInitialStyles","map","renderItem","_itemsPerSlide","marginRight","marginBottom","flex","useSpringCarouselContext","context","useContext"],"sources":["F:\\Games\\slotmachinereact\\node_modules\\react-spring-carousel\\src\\useSpringCarousel\\index.tsx"],"sourcesContent":["import { useRef, createContext, useContext } from 'react'\nimport { useSpring, config, animated } from 'react-spring'\nimport { useDrag } from '@use-gesture/react'\nimport { useCustomEventsModule, useFullscreenModule, useThumbsModule } from '../modules'\nimport {\n  SlideToItemFnProps,\n  SlideActionType,\n  UseSpringFixedSlideTypeReturnProps,\n} from '../types'\nimport { useIsomorphicLayoutEffect, useIsomorphicMount } from '../utils'\nimport {\n  UseSpringCarouselProps,\n  ReactSpringCarouselItemWithThumbs,\n  UseSpringFluidSlideTypeReturnProps,\n  UseSpringCarouselBaseProps,\n  UseSpringCarouselWithThumbs,\n  UseSpringCarouselFluidType,\n  DisableGesturesProps,\n  WithLoopProps,\n  UseSpringCarouselWithNoThumbs,\n  EnableGesturesProps,\n  WithNoLoop,\n  UseSpringCarouselFixedSlideType,\n} from '../types/useSpringCarousel'\n\ntype ReturnType<T> = T extends 'fixed'\n  ? UseSpringFixedSlideTypeReturnProps\n  : UseSpringFluidSlideTypeReturnProps\ntype ContextTypes<T> = Omit<ReturnType<T>, 'carouselFragment' | 'thumbsFragment'>\n\nconst Context = createContext<ContextTypes<'fixed' | 'fluid'> | undefined>(undefined)\n\nconst defaultDragSpringConfig = {\n  ...config.default,\n  mass: 1,\n  velocity: 0,\n}\n\nfunction useSpringCarousel(\n  props: UseSpringCarouselBaseProps &\n    UseSpringCarouselFluidType &\n    (UseSpringCarouselWithThumbs | UseSpringCarouselWithNoThumbs) &\n    (DisableGesturesProps | EnableGesturesProps) &\n    (WithLoopProps | WithNoLoop),\n): ReturnType<'fluid'>\nfunction useSpringCarousel(\n  props: UseSpringCarouselBaseProps &\n    UseSpringCarouselFixedSlideType &\n    (UseSpringCarouselWithThumbs | UseSpringCarouselWithNoThumbs) &\n    (DisableGesturesProps | EnableGesturesProps) &\n    (WithLoopProps | WithNoLoop),\n): ReturnType<'fixed'>\n\nfunction useSpringCarousel({\n  items,\n  withLoop = false,\n  draggingSlideTreshold,\n  springConfig = config.default,\n  shouldResizeOnWindowResize = true,\n  withThumbs = false,\n  enableThumbsWrapperScroll = true,\n  slideWhenThresholdIsReached = true,\n  carouselSlideAxis = 'x',\n  thumbsSlideAxis = 'x',\n  prepareThumbsData,\n  initialActiveItem = 0,\n  initialStartingPosition,\n  disableGestures = false,\n  gutter = 0,\n  startEndGutter = 0,\n  touchAction,\n  slideAmount,\n  freeScroll = false,\n  enableFreeScrollDrag,\n  itemsPerSlide = 1,\n  slideType = 'fixed',\n}: UseSpringCarouselProps): ReturnType<'fixed' | 'fluid'> {\n  function getItems() {\n    if (withLoop) {\n      if (items.length === itemsPerSlide) {\n        return [...items, ...items, ...items, ...items, ...items]\n      }\n      return [...items, ...items, ...items]\n    }\n    return items\n  }\n\n  const isFirstMount = useRef(true)\n  const slideActionType = useRef<SlideActionType>('initial' as SlideActionType)\n  const internalItems = getItems()\n  const activeItem = useRef(initialActiveItem)\n  const mainCarouselWrapperRef = useRef<HTMLDivElement | null>(null)\n  const carouselTrackWrapperRef = useRef<HTMLDivElement | null>(null)\n  const isDragging = useRef(false)\n  const isAnimating = useRef(false)\n  const windowIsHidden = useRef(false)\n  const fluidTotalWrapperScrollValue = useRef(0)\n  const slideEndReached = useRef(false)\n  const currentWindowWidth = useRef(0)\n  const initialWindowWidth = useRef(0)\n  const prevSlidedValue = useRef(0)\n  const prevItems = useRef(items)\n\n  /**\n   * Instead of raw values, we store it in\n   * useRef for performances reasons during external rerenders\n   */\n  const draggingSlideTresholdRef = useRef<number>(draggingSlideTreshold ?? 0)\n  const itemsPerSlideRef = useRef(itemsPerSlide)\n  const gutterRef = useRef(gutter)\n  const startEndGutterRef = useRef(startEndGutter)\n  const initialActiveItemRef = useRef(initialActiveItem)\n  const initialStartingPositionRef = useRef(initialStartingPosition)\n  const carouselSlideAxisRef = useRef(carouselSlideAxis)\n\n  /**\n   * Update inner values during external rerenders!\n   */\n  itemsPerSlideRef.current = itemsPerSlide\n  gutterRef.current = gutter\n  startEndGutterRef.current = startEndGutter\n  initialActiveItemRef.current = initialActiveItem\n  initialStartingPositionRef.current = initialStartingPosition\n  carouselSlideAxisRef.current = carouselSlideAxis\n\n  const [carouselStyles, setCarouselStyles] = useSpring(() => ({\n    y: 0,\n    x: 0,\n    onChange: ({ value }) => {\n      if (mainCarouselWrapperRef.current && freeScroll) {\n        mainCarouselWrapperRef.current[\n          carouselSlideAxisRef.current === 'x' ? 'scrollLeft' : 'scrollTop'\n        ] = Math.abs(value[carouselSlideAxisRef.current])\n      }\n    },\n  }))\n\n  useIsomorphicLayoutEffect(() => {\n    if (draggingSlideTreshold) {\n      draggingSlideTresholdRef.current = draggingSlideTreshold\n    } else {\n      draggingSlideTresholdRef.current = Math.floor(getSlideValue() / 2 / 2)\n    }\n\n    resize()\n  }, [\n    draggingSlideTreshold,\n    itemsPerSlide,\n    gutter,\n    startEndGutter,\n    initialActiveItem,\n    initialStartingPosition,\n    carouselSlideAxis,\n    thumbsSlideAxis,\n  ])\n\n  function getCarouselItem() {\n    return carouselTrackWrapperRef.current?.querySelector('.use-spring-carousel-item')\n  }\n  function getMainCarouselWrapperWidth() {\n    if (!mainCarouselWrapperRef.current) {\n      throw new Error('mainCarouselWrapperRef is not available')\n    }\n    return mainCarouselWrapperRef.current.getBoundingClientRect()[\n      carouselSlideAxisRef.current === 'x' ? 'width' : 'height'\n    ]\n  }\n  function getCarouselItemWidth() {\n    const carouselItem = getCarouselItem()\n    if (!carouselItem) {\n      throw Error('No carousel items available!')\n    }\n    return (\n      carouselItem.getBoundingClientRect()[\n        carouselSlideAxisRef.current === 'x' ? 'width' : 'height'\n      ] + gutterRef.current\n    )\n  }\n  function getCurrentSlidedValue() {\n    return carouselStyles[carouselSlideAxisRef.current].get()\n  }\n  function getIfItemsNotFillTheCarousel() {\n    return getCarouselItemWidth() * items.length < getMainCarouselWrapperWidth()\n  }\n  function getFluidWrapperScrollValue() {\n    return Math.round(\n      Number(\n        carouselTrackWrapperRef.current?.[\n          carouselSlideAxisRef.current === 'x' ? 'scrollWidth' : 'scrollHeight'\n        ],\n      ) -\n        carouselTrackWrapperRef.current!.getBoundingClientRect()[\n          carouselSlideAxisRef.current === 'x' ? 'width' : 'height'\n        ],\n    )\n  }\n  function getIsFirstItem() {\n    return getCurrentActiveItem() === 0\n  }\n  function getSlideValue() {\n    if (!carouselTrackWrapperRef.current) {\n      return 0\n    }\n    const itemVal = getCarouselItemWidth()\n\n    if (slideType === 'fluid' && typeof slideAmount === 'number') {\n      if (slideAmount < itemVal) {\n        throw new Error('slideAmount must be greater than the width of a single item.')\n      }\n      return slideAmount\n    }\n    return itemVal\n  }\n  function adjustCarouselWrapperPosition(\n    ref: HTMLDivElement,\n    _initialActiveItem?: number,\n  ) {\n    const positionProperty = carouselSlideAxisRef.current === 'x' ? 'left' : 'top'\n    function getDefaultPositionValue() {\n      return getCarouselItemWidth() * items.length\n    }\n    function setPosition(v: number) {\n      if (withLoop) {\n        ref.style.top = '0px'\n        ref.style[positionProperty] = `-${v - startEndGutterRef.current}px`\n      } else {\n        ref.style.left = '0px'\n        ref.style.top = '0px'\n        if (_initialActiveItem && isFirstMount.current) {\n          ref.style[positionProperty] = `calc(-${_initialActiveItem} * 100%)`\n        }\n      }\n    }\n    function setStartPosition() {\n      setPosition(getDefaultPositionValue())\n    }\n\n    if (slideType === 'fixed') {\n      function setCenterPosition(i: number) {\n        setPosition(\n          getDefaultPositionValue() -\n            getSlideValue() * Math.round(((i as number) - 1) / 2),\n        )\n      }\n      function setEndPosition(i: number) {\n        setPosition(\n          getDefaultPositionValue() - getSlideValue() * Math.round((i as number) - 1),\n        )\n      }\n\n      if (itemsPerSlideRef.current > 1) {\n        switch (initialStartingPositionRef.current) {\n          default:\n          case 'start': {\n            setStartPosition()\n            break\n          }\n          case 'center': {\n            setCenterPosition(itemsPerSlideRef.current)\n            break\n          }\n          case 'end': {\n            setEndPosition(itemsPerSlideRef.current)\n            break\n          }\n        }\n      } else {\n        setStartPosition()\n      }\n    } else {\n      setStartPosition()\n    }\n  }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  function resize() {\n    currentWindowWidth.current = window.innerWidth\n\n    if (slideType === 'fluid') {\n      if (getIfItemsNotFillTheCarousel()) {\n        setCarouselStyles.start({\n          immediate: true,\n          [carouselSlideAxisRef.current]: 0,\n        })\n        return\n      }\n      fluidTotalWrapperScrollValue.current = getFluidWrapperScrollValue()\n\n      if (slideEndReached.current) {\n        const nextValue = -fluidTotalWrapperScrollValue.current\n        setCarouselStyles.start({\n          immediate: true,\n          [carouselSlideAxisRef.current]: nextValue,\n        })\n      }\n\n      initialWindowWidth.current = window.innerWidth\n    } else {\n      setCarouselStyles.start({\n        immediate: true,\n        [carouselSlideAxisRef.current]: -(getSlideValue() * getCurrentActiveItem()),\n      })\n    }\n\n    fluidTotalWrapperScrollValue.current = getFluidWrapperScrollValue()\n    adjustCarouselWrapperPosition(carouselTrackWrapperRef.current!)\n  }\n  function handleResize() {\n    if (window.innerWidth === currentWindowWidth.current || freeScroll) {\n      return\n    }\n    resize()\n  }\n  // Custom modules\n  const { useListenToCustomEvent, emitObservable } = useCustomEventsModule<'use-spring'>()\n  const { enterFullscreen, exitFullscreen, getIsFullscreen } =\n    useFullscreenModule<'use-spring'>({\n      mainCarouselWrapperRef,\n      emitObservable,\n      handleResize,\n    })\n  const { thumbsFragment: _thumbsFragment, handleThumbsScroll } = useThumbsModule({\n    withThumbs,\n    items: items as ReactSpringCarouselItemWithThumbs[],\n    thumbsSlideAxis,\n    springConfig,\n    prepareThumbsData,\n    slideType,\n    getFluidWrapperScrollValue,\n    getSlideValue,\n  })\n\n  function getWrapperScrollDirection() {\n    if (!mainCarouselWrapperRef.current) {\n      throw new Error('Missing mainCarouselWrapperRef.current')\n    }\n    return mainCarouselWrapperRef.current[\n      carouselSlideAxisRef.current === 'x' ? 'scrollLeft' : 'scrollTop'\n    ]\n  }\n  function getIfShouldEnableFluidDrag() {\n    if (typeof enableFreeScrollDrag === 'boolean') {\n      return enableFreeScrollDrag\n    } else if (typeof enableFreeScrollDrag === 'function') {\n      return enableFreeScrollDrag()\n    }\n    return false\n  }\n\n  const bindDrag = useDrag(\n    props => {\n      const isDragging = props.dragging\n      const movement = props.offset[carouselSlideAxisRef.current === 'x' ? 0 : 1]\n      const currentMovement = props.movement[carouselSlideAxisRef.current === 'x' ? 0 : 1]\n      const prevItemTreshold = currentMovement > draggingSlideTresholdRef.current\n      const nextItemTreshold = currentMovement < -draggingSlideTresholdRef.current\n      const direction = props.direction[carouselSlideAxisRef.current === 'x' ? 0 : 1]\n      function cancelDrag() {\n        props.cancel()\n      }\n      function setDragDirection() {\n        if (direction > 0) {\n          setSlideActionType('prev')\n        } else {\n          setSlideActionType('next')\n        }\n      }\n      function emitDragObservable() {\n        emitObservable({\n          eventName: 'onDrag',\n          slideActionType: getSlideActionType(),\n          ...props,\n        })\n      }\n      function resetAnimation() {\n        if (slideType === 'fluid') {\n          if (\n            getIfItemsNotFillTheCarousel() ||\n            (getIsFirstItem() && getSlideActionType() === 'prev')\n          ) {\n            setCarouselStyles.start({\n              [carouselSlideAxisRef.current]: 0,\n              config: {\n                velocity: props.velocity,\n                ...springConfig,\n              },\n            })\n          } else if (slideEndReached.current && getSlideActionType() === 'next') {\n            setCarouselStyles.start({\n              [carouselSlideAxisRef.current]: -fluidTotalWrapperScrollValue.current,\n              config: {\n                velocity: props.velocity,\n                ...springConfig,\n              },\n            })\n          } else {\n            setCarouselStyles.start({\n              [carouselSlideAxisRef.current]: prevSlidedValue.current,\n              config: {\n                velocity: props.velocity,\n                ...springConfig,\n              },\n            })\n          }\n        } else {\n          setCarouselStyles.start({\n            [carouselSlideAxisRef.current]: -(getCurrentActiveItem() * getSlideValue()),\n            config: {\n              velocity: props.velocity,\n              ...springConfig,\n            },\n          })\n        }\n      }\n      function checkBounds() {\n        const nextItemWillExceed =\n          Math.abs(getCurrentSlidedValue()) + 100 >= fluidTotalWrapperScrollValue.current\n\n        if (nextItemWillExceed && getSlideActionType() === 'next') {\n          slideEndReached.current = true\n        }\n        if (getSlideActionType() === 'prev') {\n          slideEndReached.current = false\n        }\n      }\n\n      if (freeScroll && getIfShouldEnableFluidDrag()) {\n        if (isDragging) {\n          if (!getIsDragging()) {\n            setIsDragging(true)\n          }\n\n          setDragDirection()\n          emitDragObservable()\n          checkBounds()\n        }\n\n        setCarouselStyles.start({\n          from: {\n            [carouselSlideAxisRef.current]: getWrapperScrollDirection(),\n          },\n          to: {\n            [carouselSlideAxisRef.current]: -movement,\n          },\n          config: {\n            velocity: props.velocity,\n            friction: 50,\n            tension: 1400,\n          },\n        })\n\n        if (getWrapperScrollDirection() === 0 && getSlideActionType() === 'prev') {\n          cancelDrag()\n          return\n        }\n        if (props.last) {\n          if (getSlideActionType() === 'prev') {\n            slideToPrevItem(props.velocity)\n          } else {\n            slideToNextItem(props.velocity)\n          }\n          setIsDragging(false)\n        }\n        return\n      }\n\n      if (isDragging) {\n        if (!getIsDragging()) {\n          setIsDragging(true)\n        }\n\n        emitDragObservable()\n        setDragDirection()\n        checkBounds()\n\n        if (freeScroll) {\n          if (getIfShouldEnableFluidDrag()) {\n            if (getWrapperScrollDirection() === 0 && getSlideActionType() === 'prev') {\n              cancelDrag()\n              return\n            } else {\n              setCarouselStyles.start({\n                config: {\n                  velocity: props.velocity,\n                  friction: 50,\n                  tension: 1400,\n                },\n                from: {\n                  [carouselSlideAxisRef.current]: getWrapperScrollDirection(),\n                },\n                to: {\n                  [carouselSlideAxisRef.current]: -movement,\n                },\n              })\n            }\n          }\n          return\n        } else {\n          setCarouselStyles.start({\n            [carouselSlideAxisRef.current]: movement,\n            config: {\n              velocity: props.velocity,\n              friction: 50,\n              tension: 1000,\n            },\n          })\n        }\n\n        if (\n          (prevItemTreshold || nextItemTreshold) &&\n          getIfItemsNotFillTheCarousel() &&\n          slideType === 'fluid'\n        ) {\n          cancelDrag()\n          resetAnimation()\n        } else if (\n          slideEndReached.current &&\n          getSlideActionType() === 'next' &&\n          nextItemTreshold\n        ) {\n          slideEndReached.current = false\n          cancelDrag()\n          setCarouselStyles.start({\n            [carouselSlideAxisRef.current]: -fluidTotalWrapperScrollValue.current,\n          })\n        } else if (slideWhenThresholdIsReached) {\n          if (nextItemTreshold) {\n            cancelDrag()\n            if (!withLoop && getIsLastItem()) {\n              resetAnimation()\n            } else {\n              slideToNextItem(props.velocity)\n            }\n            return\n          } else if (prevItemTreshold) {\n            cancelDrag()\n            if (!withLoop && getIsFirstItem()) {\n              resetAnimation()\n            } else {\n              slideToPrevItem(props.velocity)\n            }\n            return\n          }\n        }\n      }\n\n      if (\n        props.last &&\n        !slideWhenThresholdIsReached &&\n        (nextItemTreshold || prevItemTreshold) &&\n        !freeScroll\n      ) {\n        setIsDragging(false)\n        if (nextItemTreshold) {\n          if (!withLoop && getIsLastItem()) {\n            resetAnimation()\n          } else {\n            slideToNextItem(props.velocity)\n          }\n        } else if (prevItemTreshold) {\n          if (!withLoop && getIsFirstItem()) {\n            resetAnimation()\n          } else {\n            slideToPrevItem(props.velocity)\n          }\n        }\n        return\n      }\n\n      if (props.last && !nextItemTreshold && !prevItemTreshold) {\n        if (!freeScroll) {\n          resetAnimation()\n          emitObservable({\n            eventName: 'onDrag',\n            slideActionType: getSlideActionType(),\n            ...props,\n          })\n        }\n      }\n    },\n    {\n      enabled: !disableGestures,\n      axis: carouselSlideAxisRef.current,\n      from: () => {\n        if (freeScroll) {\n          if (carouselSlideAxisRef.current === 'x') {\n            return [-getWrapperScrollDirection(), 0]\n          }\n          return [0, -getWrapperScrollDirection()]\n        }\n        return [carouselStyles.x.get(), carouselStyles.y.get()]\n      },\n    },\n  )\n\n  function setSlideActionType(type: SlideActionType) {\n    slideActionType.current = type\n  }\n  function getSlideActionType() {\n    return slideActionType.current\n  }\n  function setActiveItem(newItem: number) {\n    activeItem.current = newItem\n  }\n  function getCurrentActiveItem() {\n    return activeItem.current\n  }\n  function getIsAnimating() {\n    return isAnimating.current\n  }\n  function setIsAnimating(val: boolean) {\n    isAnimating.current = val\n  }\n  function setIsDragging(val: boolean) {\n    isDragging.current = val\n  }\n  function getIsDragging() {\n    return isDragging.current\n  }\n  function getPrevItem() {\n    const currentActiveItem = getCurrentActiveItem()\n    if (currentActiveItem === 0) {\n      return items.length - 1\n    }\n    return currentActiveItem - 1\n  }\n  function getNextItem() {\n    const currentActiveItem = getCurrentActiveItem()\n    if (currentActiveItem === items.length - 1) {\n      return 0\n    }\n    return currentActiveItem + 1\n  }\n  function getIsNextItem(id: string) {\n    const itemIndex = findItemIndex(id)\n    const activeItem = getCurrentActiveItem()\n    if (withLoop && activeItem === items.length - 1) {\n      return itemIndex === 0\n    }\n    return itemIndex === activeItem + 1\n  }\n  function getIsPrevItem(id: string) {\n    const itemIndex = findItemIndex(id)\n    const activeItem = getCurrentActiveItem()\n    if (withLoop && activeItem === 0) {\n      return itemIndex === items.length - 1\n    }\n    return itemIndex === activeItem - 1\n  }\n  function findItemIndex(id: string) {\n    return items.findIndex(item => item.id === id)\n  }\n  function getFromValue(from: SlideToItemFnProps['from']) {\n    if (typeof from === 'number') {\n      return {\n        from: {\n          [carouselSlideAxisRef.current]: from,\n        },\n      }\n    }\n    return {}\n  }\n  function getToValue(\n    customTo: SlideToItemFnProps['customTo'],\n    to: SlideToItemFnProps['to'],\n  ) {\n    if (typeof customTo === 'number') {\n      return {\n        [carouselSlideAxisRef.current]: customTo,\n      }\n    }\n    if (typeof to !== 'number') {\n      throw new Error(`to values is not a number!`)\n    }\n    return {\n      [carouselSlideAxisRef.current]: -(getSlideValue() * to!),\n    }\n  }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  function slideToItem({\n    from,\n    to = -1,\n    customTo,\n    immediate = false,\n    onRest = () => {},\n    velocity,\n  }: SlideToItemFnProps) {\n    if (!immediate) {\n      setActiveItem(to)\n      setIsAnimating(true)\n      emitObservable({\n        eventName: 'onSlideStartChange',\n        slideActionType: getSlideActionType(),\n        nextItem: {\n          index: slideType === 'fluid' ? -1 : to,\n          id: slideType === 'fluid' ? '' : items[to].id,\n        },\n      })\n    }\n    prevSlidedValue.current = getToValue(customTo, to)[carouselSlideAxis]\n    setCarouselStyles.start({\n      ...getFromValue(from),\n      to: getToValue(customTo, to),\n      ...(velocity\n        ? {\n            config: {\n              ...defaultDragSpringConfig,\n              velocity,\n              friction: undefined,\n              tension: undefined,\n            },\n          }\n        : {\n            config: {\n              velocity: 0,\n              ...springConfig,\n            },\n          }),\n      immediate,\n      onRest: val => {\n        if (val.finished) {\n          setIsDragging(false)\n          setIsAnimating(false)\n          onRest()\n          if (!immediate) {\n            emitObservable({\n              eventName: 'onSlideChange',\n              slideActionType: getSlideActionType(),\n              currentItem: {\n                index: slideType === 'fluid' ? -1 : getCurrentActiveItem(),\n                id: slideType === 'fluid' ? '' : items[getCurrentActiveItem()].id,\n              },\n            })\n          }\n        }\n      },\n    })\n    if (enableThumbsWrapperScroll && withThumbs && !immediate) {\n      handleThumbsScroll(to, getSlideActionType())\n    }\n  }\n  function getIsLastItem() {\n    return getCurrentActiveItem() === items.length - 1\n  }\n  function slideToPrevItem(velocity?: number[]) {\n    setSlideActionType('prev')\n    slideEndReached.current = false\n\n    if (slideType === 'fluid') {\n      slideEndReached.current = false\n\n      if (getIfItemsNotFillTheCarousel()) {\n        return\n      }\n      const nextPrevValue = getCurrentSlidedValue() + getSlideValue() + 200\n\n      if (freeScroll) {\n        const nextValue = mainCarouselWrapperRef.current!.scrollLeft - getSlideValue()\n        slideToItem({\n          customTo: nextValue < 0 ? 0 : nextValue,\n          from: mainCarouselWrapperRef.current!.scrollLeft,\n          velocity,\n        })\n      } else if (nextPrevValue >= 0) {\n        if (withLoop) {\n          slideToItem({\n            from: getCurrentSlidedValue() - getCarouselItemWidth() * items.length,\n            velocity,\n            customTo:\n              getCurrentSlidedValue() -\n              getCarouselItemWidth() * items.length +\n              getSlideValue(),\n          })\n        } else {\n          slideToItem({\n            customTo: 0,\n            velocity,\n          })\n        }\n      } else {\n        slideToItem({\n          customTo: getCurrentSlidedValue() + getSlideValue(),\n          velocity,\n        })\n      }\n    } else {\n      if ((!withLoop && getCurrentActiveItem() === 0) || windowIsHidden.current) {\n        return\n      }\n\n      if (getIsFirstItem()) {\n        slideToItem({\n          from: getCurrentSlidedValue() - getSlideValue() * items.length,\n          to: items.length - 1,\n          velocity,\n        })\n      } else {\n        slideToItem({\n          to: getPrevItem(),\n          velocity,\n        })\n      }\n    }\n  }\n  function slideToNextItem(velocity?: number[]) {\n    setSlideActionType('next')\n\n    if (slideType === 'fluid') {\n      if (getIfItemsNotFillTheCarousel()) {\n        return\n      }\n\n      const nextItemWillExceed =\n        Math.abs(getCurrentSlidedValue() - getSlideValue()) + 100 >=\n        fluidTotalWrapperScrollValue.current\n\n      if (freeScroll) {\n        const nextValue = mainCarouselWrapperRef.current!.scrollLeft + getSlideValue()\n        const willExceed = nextValue > fluidTotalWrapperScrollValue.current\n        const val = mainCarouselWrapperRef.current!.scrollLeft + getSlideValue()\n\n        slideToItem({\n          velocity,\n          customTo: willExceed ? fluidTotalWrapperScrollValue.current : val,\n          from: mainCarouselWrapperRef.current!.scrollLeft,\n        })\n      } else if (\n        withLoop &&\n        Math.abs(getCurrentSlidedValue() - getSlideValue()) >=\n          items.length * getCarouselItemWidth()\n      ) {\n        const currentWidth = getCarouselItemWidth() * items.length\n        slideToItem({\n          from: getCurrentSlidedValue() + currentWidth,\n          customTo: getCurrentSlidedValue() + currentWidth - getSlideValue(),\n          velocity,\n        })\n      } else if (slideEndReached.current) {\n        return\n      } else if (nextItemWillExceed) {\n        slideEndReached.current = true\n        slideToItem({\n          customTo: -fluidTotalWrapperScrollValue.current,\n          velocity,\n        })\n      } else {\n        slideToItem({\n          customTo: getCurrentSlidedValue() - getSlideValue(),\n          velocity,\n        })\n      }\n    } else {\n      if (\n        (!withLoop && getCurrentActiveItem() === internalItems.length - 1) ||\n        windowIsHidden.current\n      ) {\n        return\n      }\n\n      const nextItemWillExceed =\n        Math.abs(getCurrentSlidedValue() - getSlideValue() + 25) >\n        fluidTotalWrapperScrollValue.current\n\n      if (nextItemWillExceed && !getIsDragging()) {\n        slideEndReached.current = true\n      } else if (slideEndReached.current) {\n        slideToItem({\n          to: items.length - itemsPerSlideRef.current,\n          velocity,\n        })\n      } else if (getIsLastItem()) {\n        slideToItem({\n          from: getCurrentSlidedValue() + getSlideValue() * items.length,\n          to: 0,\n          velocity,\n        })\n      } else {\n        slideToItem({\n          to: getNextItem(),\n          velocity,\n        })\n      }\n    }\n  }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  function _slideToItem(item: string | number) {\n    let itemIndex = 0\n\n    if (typeof item === 'string') {\n      itemIndex = items.findIndex(_item => _item.id === item)\n    } else {\n      itemIndex = item\n    }\n\n    if (itemIndex >= items.length) {\n      throw Error(\n        `The item you want to slide to doesn't exist. This could be due to the fact that \n        you provide a wrong id or a higher numeric index.`,\n      )\n    }\n\n    if (\n      itemIndex === getCurrentActiveItem() ||\n      (items.length !== prevItems.current.length && getCurrentActiveItem() < items.length)\n    ) {\n      return\n    }\n\n    const currentItem = findItemIndex(prevItems.current[getCurrentActiveItem()].id)\n    const newActiveItem = findItemIndex(items[itemIndex].id)\n\n    if (newActiveItem > currentItem) {\n      setSlideActionType('next')\n    } else {\n      setSlideActionType('prev')\n    }\n\n    slideToItem({\n      to: itemIndex,\n    })\n  }\n  function getItemStyles(_itemsPerSlide: number) {\n    if (slideType === 'fixed') {\n      return {\n        ...(carouselSlideAxisRef.current === 'x'\n          ? { marginRight: `${gutterRef.current}px` }\n          : { marginBottom: `${gutterRef.current}px` }),\n        flex: `1 0 calc(100% / ${_itemsPerSlide} - ${\n          (gutterRef.current * (_itemsPerSlide - 1)) / _itemsPerSlide\n        }px)`,\n      }\n    }\n    return {\n      ...(carouselSlideAxisRef.current === 'x'\n        ? { marginRight: `${gutterRef.current}px` }\n        : { marginBottom: `${gutterRef.current}px` }),\n    }\n  }\n  function getAnimatedWrapperStyles() {\n    const percentValue = `calc(100% - ${startEndGutterRef.current * 2}px)`\n    return {\n      width: carouselSlideAxisRef.current === 'x' ? percentValue : '100%',\n      height: carouselSlideAxisRef.current === 'y' ? percentValue : '100%',\n    }\n  }\n  function getOverflowStyles() {\n    if (freeScroll) {\n      if (carouselSlideAxisRef.current === 'x') {\n        return {\n          overflowX: 'auto',\n        }\n      }\n      return {\n        overflowY: 'auto',\n      }\n    }\n    return {}\n  }\n  function getWheelEvent() {\n    if (freeScroll) {\n      return {\n        onWheel() {\n          carouselStyles[carouselSlideAxisRef.current].stop()\n        },\n      }\n    }\n    return {}\n  }\n  function getTouchAction() {\n    if (disableGestures) {\n      return 'unset'\n    } else if (!touchAction) {\n      if (carouselSlideAxisRef.current === 'x') {\n        return 'pan-y'\n      }\n      return 'pan-x'\n    }\n    return touchAction\n  }\n  // Perform some check on first mount\n  useIsomorphicMount(() => {\n    if (itemsPerSlide % 2 === 0 && initialStartingPositionRef.current) {\n      throw new Error(\n        `initialStartingPosition can be only used if itemsPerSlide is an even value.`,\n      )\n    }\n    if (draggingSlideTresholdRef.current < 0) {\n      throw new Error('draggingSlideTreshold must be greater than 0')\n    }\n    if (draggingSlideTresholdRef.current > getSlideValue() / 2) {\n      throw new Error(\n        `draggingSlideTreshold must be equal or less than the half of the width of an item, which is ${Math.floor(\n          getSlideValue() / 2,\n        )}`,\n      )\n    }\n    if (itemsPerSlideRef.current < 1) {\n      throw new Error(`The itemsPerSlide prop can't be less than 1.`)\n    }\n    if (itemsPerSlideRef.current > items.length) {\n      throw new Error(\n        `The itemsPerSlide prop can't be greater than the total length of the items you provide.`,\n      )\n    }\n    if (initialActiveItemRef.current < 0) {\n      throw new Error('The initialActiveItem cannot be less than 0.')\n    }\n    if (initialActiveItemRef.current > items.length) {\n      throw new Error(\n        'The initialActiveItem cannot be greater than the total length of the items you provide.',\n      )\n    }\n    if (!shouldResizeOnWindowResize) {\n      console.warn(\n        'You set shouldResizeOnWindowResize={false}; be aware that the carousel could behave in a strange way if you also use the fullscreen functionality or if you change the mobile orientation.',\n      )\n    }\n  })\n  useIsomorphicMount(() => {\n    function handleVisibilityChange() {\n      if (document.hidden) {\n        windowIsHidden.current = true\n      } else {\n        windowIsHidden.current = false\n      }\n    }\n    document.addEventListener('visibilitychange', handleVisibilityChange)\n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange)\n    }\n  })\n  useIsomorphicMount(() => {\n    isFirstMount.current = false\n    fluidTotalWrapperScrollValue.current = getFluidWrapperScrollValue()\n    initialWindowWidth.current = window.innerWidth\n    currentWindowWidth.current = window.innerWidth\n\n    if (initialActiveItem > 0) {\n      slideToItem({\n        to: initialActiveItem,\n        immediate: true,\n      })\n      setActiveItem(initialActiveItem)\n      if (!withLoop && carouselTrackWrapperRef.current) {\n        carouselTrackWrapperRef.current.style.top = '0px'\n        carouselTrackWrapperRef.current.style.left = '0px'\n      }\n    }\n  })\n  useIsomorphicLayoutEffect(() => {\n    if (initialActiveItem < items.length && initialActiveItem !== activeItem.current) {\n      slideToItem({\n        to: initialActiveItem,\n        immediate: true,\n      })\n      setActiveItem(initialActiveItem)\n    }\n  }, [initialActiveItem])\n  useIsomorphicLayoutEffect(() => {\n    if (shouldResizeOnWindowResize) {\n      window.addEventListener('resize', handleResize)\n      return () => {\n        window.removeEventListener('resize', handleResize)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [shouldResizeOnWindowResize])\n  useIsomorphicLayoutEffect(() => {\n    if (carouselTrackWrapperRef.current) {\n      if (carouselSlideAxisRef.current === 'x') {\n        carouselTrackWrapperRef.current.style.top = '0px'\n      }\n      if (carouselSlideAxisRef.current === 'y') {\n        carouselTrackWrapperRef.current.style.left = '0px'\n      }\n    }\n  }, [carouselSlideAxis])\n  useIsomorphicLayoutEffect(() => {\n    fluidTotalWrapperScrollValue.current = getFluidWrapperScrollValue()\n    const itemsAreEqual = items.length === prevItems.current.length\n\n    if (!itemsAreEqual && items.length < prevItems.current.length) {\n      _slideToItem(items.length - 1)\n    }\n\n    prevItems.current = items\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [getFluidWrapperScrollValue, items])\n\n  const contextProps = {\n    useListenToCustomEvent,\n    getIsFullscreen,\n    enterFullscreen,\n    exitFullscreen,\n    getIsAnimating,\n    getIsDragging,\n    getIsNextItem,\n    getIsPrevItem,\n    slideToPrevItem() {\n      slideToPrevItem()\n    },\n    slideToNextItem() {\n      slideToNextItem()\n    },\n    ...(slideType === 'fixed'\n      ? {\n          slideToItem: _slideToItem,\n          getIsActiveItem: (id: string) => {\n            return findItemIndex(id) === getCurrentActiveItem()\n          },\n          getCurrentActiveItem: () => ({\n            id: items[getCurrentActiveItem()].id,\n            index: getCurrentActiveItem(),\n          }),\n        }\n      : {}),\n  }\n\n  const handleCarouselFragmentRef = (ref: HTMLDivElement | null) => {\n    if (ref) {\n      carouselTrackWrapperRef.current = ref\n      adjustCarouselWrapperPosition(ref, initialActiveItemRef.current)\n    }\n  }\n\n  function getInitialStyles() {\n    const totalValue = (items.length / itemsPerSlide) * 100\n    const singleItemValue = 100 / itemsPerSlide\n    const cssProp = carouselSlideAxisRef.current === 'x' ? 'left' : 'y'\n    const quantityToMove = Math.floor(50 / singleItemValue)\n\n    if (slideType === 'fixed') {\n      if (initialStartingPositionRef.current === 'center') {\n        return {\n          [cssProp]: `calc(-${totalValue}% + ${singleItemValue * quantityToMove}%)`,\n        }\n      }\n      if (initialStartingPositionRef.current === 'end') {\n        return {\n          [cssProp]: `calc(-${totalValue}% + ${singleItemValue * (quantityToMove * 2)}%)`,\n        }\n      }\n    }\n    return {\n      [cssProp]: `0px`,\n    }\n  }\n\n  const carouselFragment = (\n    <Context.Provider value={contextProps}>\n      <div\n        ref={mainCarouselWrapperRef}\n        className=\"use-spring-carousel-main-wrapper\"\n        data-testid=\"use-spring-carousel-wrapper\"\n        {...getWheelEvent()}\n        // @ts-ignore\n        style={{\n          display: 'flex',\n          position: 'relative',\n          width: '100%',\n          height: '100%',\n          ...getOverflowStyles(),\n        }}\n      >\n        <animated.div\n          {...bindDrag()}\n          className=\"use-spring-carousel-track-wrapper\"\n          data-testid=\"use-spring-carousel-animated-wrapper\"\n          ref={handleCarouselFragmentRef}\n          style={{\n            display: 'flex',\n            position: 'relative',\n            touchAction: getTouchAction(),\n            flexDirection: carouselSlideAxisRef.current === 'x' ? 'row' : 'column',\n            ...getAnimatedWrapperStyles(),\n            ...getInitialStyles(),\n            ...(freeScroll ? {} : carouselStyles),\n          }}\n        >\n          {internalItems.map(({ id, renderItem }, index) => {\n            return (\n              <div\n                key={`${id}-${index}`}\n                className=\"use-spring-carousel-item\"\n                data-testid=\"use-spring-carousel-item-wrapper\"\n                style={{\n                  display: 'flex',\n                  position: 'relative',\n                  ...getItemStyles(itemsPerSlideRef.current),\n                }}\n              >\n                {renderItem}\n              </div>\n            )\n          })}\n        </animated.div>\n      </div>\n    </Context.Provider>\n  )\n  const thumbsFragment = (\n    <Context.Provider value={contextProps}>{_thumbsFragment}</Context.Provider>\n  )\n\n  return {\n    ...contextProps,\n    carouselFragment,\n    thumbsFragment,\n  }\n}\n\nfunction useSpringCarouselContext<T = 'fixed' | 'fluid'>() {\n  const context = useContext(Context)\n  if (!context) {\n    throw new Error(\n      'useSpringCarouselContext must be used only inside a component that is rendered inside the Carousel.',\n    )\n  }\n  return context as ContextTypes<T>\n}\n\nexport { useSpringCarousel, useSpringCarouselContext }\n"]},"metadata":{},"sourceType":"module"}