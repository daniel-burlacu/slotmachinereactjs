{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BN = require(\"bn.js\");\n\nvar utils = require(\"ethereumjs-util\");\n\nvar exceptions_1 = require(\"../exceptions\");\n\nvar MASK_160 = new BN(1).shln(160).subn(1); // Find Ceil(`this` / `num`)\n\nfunction divCeil(a, b) {\n  var div = a.div(b);\n  var mod = a.mod(b); // Fast case - exact division\n\n  if (mod.isZero()) return div; // Round up\n\n  return div.isNeg() ? div.isubn(1) : div.iaddn(1);\n}\n\nfunction addressToBuffer(address) {\n  return address.and(MASK_160).toArrayLike(Buffer, 'be', 20);\n} // the opcode functions\n\n\nexports.handlers = {\n  STOP: function (runState) {\n    trap(exceptions_1.ERROR.STOP);\n  },\n  ADD: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = a.add(b).mod(utils.TWO_POW256);\n    runState.stack.push(r);\n  },\n  MUL: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = a.mul(b).mod(utils.TWO_POW256);\n    runState.stack.push(r);\n  },\n  SUB: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = a.sub(b).toTwos(256);\n    runState.stack.push(r);\n  },\n  DIV: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r;\n\n    if (b.isZero()) {\n      r = new BN(b);\n    } else {\n      r = a.div(b);\n    }\n\n    runState.stack.push(r);\n  },\n  SDIV: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r;\n\n    if (b.isZero()) {\n      r = new BN(b);\n    } else {\n      a = a.fromTwos(256);\n      b = b.fromTwos(256);\n      r = a.div(b).toTwos(256);\n    }\n\n    runState.stack.push(r);\n  },\n  MOD: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r;\n\n    if (b.isZero()) {\n      r = new BN(b);\n    } else {\n      r = a.mod(b);\n    }\n\n    runState.stack.push(r);\n  },\n  SMOD: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r;\n\n    if (b.isZero()) {\n      r = new BN(b);\n    } else {\n      a = a.fromTwos(256);\n      b = b.fromTwos(256);\n      r = a.abs().mod(b.abs());\n\n      if (a.isNeg()) {\n        r = r.ineg();\n      }\n\n      r = r.toTwos(256);\n    }\n\n    runState.stack.push(r);\n  },\n  ADDMOD: function (runState) {\n    var _a = runState.stack.popN(3),\n        a = _a[0],\n        b = _a[1],\n        c = _a[2];\n\n    var r;\n\n    if (c.isZero()) {\n      r = new BN(c);\n    } else {\n      r = a.add(b).mod(c);\n    }\n\n    runState.stack.push(r);\n  },\n  MULMOD: function (runState) {\n    var _a = runState.stack.popN(3),\n        a = _a[0],\n        b = _a[1],\n        c = _a[2];\n\n    var r;\n\n    if (c.isZero()) {\n      r = new BN(c);\n    } else {\n      r = a.mul(b).mod(c);\n    }\n\n    runState.stack.push(r);\n  },\n  EXP: function (runState) {\n    var _a = runState.stack.popN(2),\n        base = _a[0],\n        exponent = _a[1];\n\n    if (exponent.isZero()) {\n      runState.stack.push(new BN(1));\n      return;\n    }\n\n    var byteLength = exponent.byteLength();\n\n    if (byteLength < 1 || byteLength > 32) {\n      trap(exceptions_1.ERROR.OUT_OF_RANGE);\n    }\n\n    var gasPrice = runState._common.param('gasPrices', 'expByte');\n\n    var amount = new BN(byteLength).muln(gasPrice);\n    runState.eei.useGas(amount);\n\n    if (base.isZero()) {\n      runState.stack.push(new BN(0));\n      return;\n    }\n\n    var m = BN.red(utils.TWO_POW256);\n    var redBase = base.toRed(m);\n    var r = redBase.redPow(exponent);\n    runState.stack.push(r.fromRed());\n  },\n  SIGNEXTEND: function (runState) {\n    var _a = runState.stack.popN(2),\n        k = _a[0],\n        val = _a[1];\n\n    if (k.ltn(31)) {\n      var signBit = k.muln(8).iaddn(7).toNumber();\n      var mask = new BN(1).ishln(signBit).isubn(1);\n\n      if (val.testn(signBit)) {\n        val = val.or(mask.notn(256));\n      } else {\n        val = val.and(mask);\n      }\n    } else {\n      // return the same value\n      val = new BN(val);\n    }\n\n    runState.stack.push(val);\n  },\n  // 0x10 range - bit ops\n  LT: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = new BN(a.lt(b) ? 1 : 0);\n    runState.stack.push(r);\n  },\n  GT: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = new BN(a.gt(b) ? 1 : 0);\n    runState.stack.push(r);\n  },\n  SLT: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = new BN(a.fromTwos(256).lt(b.fromTwos(256)) ? 1 : 0);\n    runState.stack.push(r);\n  },\n  SGT: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = new BN(a.fromTwos(256).gt(b.fromTwos(256)) ? 1 : 0);\n    runState.stack.push(r);\n  },\n  EQ: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = new BN(a.eq(b) ? 1 : 0);\n    runState.stack.push(r);\n  },\n  ISZERO: function (runState) {\n    var a = runState.stack.pop();\n    var r = new BN(a.isZero() ? 1 : 0);\n    runState.stack.push(r);\n  },\n  AND: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = a.and(b);\n    runState.stack.push(r);\n  },\n  OR: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = a.or(b);\n    runState.stack.push(r);\n  },\n  XOR: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    var r = a.xor(b);\n    runState.stack.push(r);\n  },\n  NOT: function (runState) {\n    var a = runState.stack.pop();\n    var r = a.notn(256);\n    runState.stack.push(r);\n  },\n  BYTE: function (runState) {\n    var _a = runState.stack.popN(2),\n        pos = _a[0],\n        word = _a[1];\n\n    if (pos.gten(32)) {\n      runState.stack.push(new BN(0));\n      return;\n    }\n\n    var r = new BN(word.shrn((31 - pos.toNumber()) * 8).andln(0xff));\n    runState.stack.push(r);\n  },\n  SHL: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    if (!runState._common.gteHardfork('constantinople')) {\n      trap(exceptions_1.ERROR.INVALID_OPCODE);\n    }\n\n    if (a.gten(256)) {\n      runState.stack.push(new BN(0));\n      return;\n    }\n\n    var r = b.shln(a.toNumber()).iand(utils.MAX_INTEGER);\n    runState.stack.push(r);\n  },\n  SHR: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    if (!runState._common.gteHardfork('constantinople')) {\n      trap(exceptions_1.ERROR.INVALID_OPCODE);\n    }\n\n    if (a.gten(256)) {\n      runState.stack.push(new BN(0));\n      return;\n    }\n\n    var r = b.shrn(a.toNumber());\n    runState.stack.push(r);\n  },\n  SAR: function (runState) {\n    var _a = runState.stack.popN(2),\n        a = _a[0],\n        b = _a[1];\n\n    if (!runState._common.gteHardfork('constantinople')) {\n      trap(exceptions_1.ERROR.INVALID_OPCODE);\n    }\n\n    var r;\n    var isSigned = b.testn(255);\n\n    if (a.gten(256)) {\n      if (isSigned) {\n        r = new BN(utils.MAX_INTEGER);\n      } else {\n        r = new BN(0);\n      }\n\n      runState.stack.push(r);\n      return;\n    }\n\n    var c = b.shrn(a.toNumber());\n\n    if (isSigned) {\n      var shiftedOutWidth = 255 - a.toNumber();\n      var mask = utils.MAX_INTEGER.shrn(shiftedOutWidth).shln(shiftedOutWidth);\n      r = c.ior(mask);\n    } else {\n      r = c;\n    }\n\n    runState.stack.push(r);\n  },\n  // 0x20 range - crypto\n  SHA3: function (runState) {\n    var _a = runState.stack.popN(2),\n        offset = _a[0],\n        length = _a[1];\n\n    subMemUsage(runState, offset, length);\n    var data = Buffer.alloc(0);\n\n    if (!length.isZero()) {\n      data = runState.memory.read(offset.toNumber(), length.toNumber());\n    } // copy fee\n\n\n    runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sha3Word')).imul(divCeil(length, new BN(32))));\n    var r = new BN(utils.keccak256(data));\n    runState.stack.push(r);\n  },\n  // 0x30 range - closure state\n  ADDRESS: function (runState) {\n    runState.stack.push(new BN(runState.eei.getAddress()));\n  },\n  BALANCE: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var address, addressBuf, balance;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            address = runState.stack.pop();\n            addressBuf = addressToBuffer(address);\n            return [4\n            /*yield*/\n            , runState.eei.getExternalBalance(addressBuf)];\n\n          case 1:\n            balance = _a.sent();\n            runState.stack.push(balance);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  ORIGIN: function (runState) {\n    runState.stack.push(runState.eei.getTxOrigin());\n  },\n  CALLER: function (runState) {\n    runState.stack.push(runState.eei.getCaller());\n  },\n  CALLVALUE: function (runState) {\n    runState.stack.push(runState.eei.getCallValue());\n  },\n  CALLDATALOAD: function (runState) {\n    var pos = runState.stack.pop();\n\n    if (pos.gt(runState.eei.getCallDataSize())) {\n      runState.stack.push(new BN(0));\n      return;\n    }\n\n    var i = pos.toNumber();\n    var loaded = runState.eei.getCallData().slice(i, i + 32);\n    loaded = loaded.length ? loaded : Buffer.from([0]);\n    var r = new BN(utils.setLengthRight(loaded, 32));\n    runState.stack.push(r);\n  },\n  CALLDATASIZE: function (runState) {\n    var r = runState.eei.getCallDataSize();\n    runState.stack.push(r);\n  },\n  CALLDATACOPY: function (runState) {\n    var _a = runState.stack.popN(3),\n        memOffset = _a[0],\n        dataOffset = _a[1],\n        dataLength = _a[2];\n\n    subMemUsage(runState, memOffset, dataLength);\n    runState.eei.useGas(new BN(runState._common.param('gasPrices', 'copy')).imul(divCeil(dataLength, new BN(32))));\n    var data = getDataSlice(runState.eei.getCallData(), dataOffset, dataLength);\n    var memOffsetNum = memOffset.toNumber();\n    var dataLengthNum = dataLength.toNumber();\n    runState.memory.extend(memOffsetNum, dataLengthNum);\n    runState.memory.write(memOffsetNum, dataLengthNum, data);\n  },\n  CODESIZE: function (runState) {\n    runState.stack.push(runState.eei.getCodeSize());\n  },\n  CODECOPY: function (runState) {\n    var _a = runState.stack.popN(3),\n        memOffset = _a[0],\n        codeOffset = _a[1],\n        length = _a[2];\n\n    subMemUsage(runState, memOffset, length);\n    runState.eei.useGas(new BN(runState._common.param('gasPrices', 'copy')).imul(divCeil(length, new BN(32))));\n    var data = getDataSlice(runState.eei.getCode(), codeOffset, length);\n    var memOffsetNum = memOffset.toNumber();\n    var lengthNum = length.toNumber();\n    runState.memory.extend(memOffsetNum, lengthNum);\n    runState.memory.write(memOffsetNum, lengthNum, data);\n  },\n  EXTCODESIZE: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var address, size;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            address = runState.stack.pop();\n            return [4\n            /*yield*/\n            , runState.eei.getExternalCodeSize(address)];\n\n          case 1:\n            size = _a.sent();\n            runState.stack.push(size);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  EXTCODECOPY: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, address, memOffset, codeOffset, length, code, data, memOffsetNum, lengthNum;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = runState.stack.popN(4), address = _a[0], memOffset = _a[1], codeOffset = _a[2], length = _a[3]; // FIXME: for some reason this must come before subGas\n\n            subMemUsage(runState, memOffset, length); // copy fee\n\n            runState.eei.useGas(new BN(runState._common.param('gasPrices', 'copy')).imul(divCeil(length, new BN(32))));\n            return [4\n            /*yield*/\n            , runState.eei.getExternalCode(address)];\n\n          case 1:\n            code = _b.sent();\n            data = getDataSlice(code, codeOffset, length);\n            memOffsetNum = memOffset.toNumber();\n            lengthNum = length.toNumber();\n            runState.memory.extend(memOffsetNum, lengthNum);\n            runState.memory.write(memOffsetNum, lengthNum, data);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  EXTCODEHASH: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var address, addressBuf, empty, code;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            address = runState.stack.pop();\n\n            if (!runState._common.gteHardfork('constantinople')) {\n              trap(exceptions_1.ERROR.INVALID_OPCODE);\n            }\n\n            addressBuf = addressToBuffer(address);\n            return [4\n            /*yield*/\n            , runState.eei.isAccountEmpty(addressBuf)];\n\n          case 1:\n            empty = _a.sent();\n\n            if (empty) {\n              runState.stack.push(new BN(0));\n              return [2\n              /*return*/\n              ];\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.getExternalCode(address)];\n\n          case 2:\n            code = _a.sent();\n\n            if (code.length === 0) {\n              runState.stack.push(new BN(utils.KECCAK256_NULL));\n              return [2\n              /*return*/\n              ];\n            }\n\n            runState.stack.push(new BN(utils.keccak256(code)));\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  RETURNDATASIZE: function (runState) {\n    runState.stack.push(runState.eei.getReturnDataSize());\n  },\n  RETURNDATACOPY: function (runState) {\n    var _a = runState.stack.popN(3),\n        memOffset = _a[0],\n        returnDataOffset = _a[1],\n        length = _a[2];\n\n    if (returnDataOffset.add(length).gt(runState.eei.getReturnDataSize())) {\n      trap(exceptions_1.ERROR.OUT_OF_GAS);\n    }\n\n    subMemUsage(runState, memOffset, length);\n    runState.eei.useGas(new BN(runState._common.param('gasPrices', 'copy')).mul(divCeil(length, new BN(32))));\n    var data = getDataSlice(runState.eei.getReturnData(), returnDataOffset, length);\n    var memOffsetNum = memOffset.toNumber();\n    var lengthNum = length.toNumber();\n    runState.memory.extend(memOffsetNum, lengthNum);\n    runState.memory.write(memOffsetNum, lengthNum, data);\n  },\n  GASPRICE: function (runState) {\n    runState.stack.push(runState.eei.getTxGasPrice());\n  },\n  // '0x40' range - block operations\n  BLOCKHASH: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var number, diff, hash;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            number = runState.stack.pop();\n            diff = runState.eei.getBlockNumber().sub(number); // block lookups must be within the past 256 blocks\n\n            if (diff.gtn(256) || diff.lten(0)) {\n              runState.stack.push(new BN(0));\n              return [2\n              /*return*/\n              ];\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.getBlockHash(number)];\n\n          case 1:\n            hash = _a.sent();\n            runState.stack.push(hash);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  COINBASE: function (runState) {\n    runState.stack.push(runState.eei.getBlockCoinbase());\n  },\n  TIMESTAMP: function (runState) {\n    runState.stack.push(runState.eei.getBlockTimestamp());\n  },\n  NUMBER: function (runState) {\n    runState.stack.push(runState.eei.getBlockNumber());\n  },\n  DIFFICULTY: function (runState) {\n    runState.stack.push(runState.eei.getBlockDifficulty());\n  },\n  GASLIMIT: function (runState) {\n    runState.stack.push(runState.eei.getBlockGasLimit());\n  },\n  CHAINID: function (runState) {\n    if (!runState._common.gteHardfork('istanbul')) {\n      trap(exceptions_1.ERROR.INVALID_OPCODE);\n    }\n\n    runState.stack.push(runState.eei.getChainId());\n  },\n  SELFBALANCE: function (runState) {\n    if (!runState._common.gteHardfork('istanbul')) {\n      trap(exceptions_1.ERROR.INVALID_OPCODE);\n    }\n\n    runState.stack.push(runState.eei.getSelfBalance());\n  },\n  // 0x50 range - 'storage' and execution\n  POP: function (runState) {\n    runState.stack.pop();\n  },\n  MLOAD: function (runState) {\n    var pos = runState.stack.pop();\n    subMemUsage(runState, pos, new BN(32));\n    var word = runState.memory.read(pos.toNumber(), 32);\n    runState.stack.push(new BN(word));\n  },\n  MSTORE: function (runState) {\n    var _a = runState.stack.popN(2),\n        offset = _a[0],\n        word = _a[1];\n\n    var buf = word.toArrayLike(Buffer, 'be', 32);\n    subMemUsage(runState, offset, new BN(32));\n    var offsetNum = offset.toNumber();\n    runState.memory.extend(offsetNum, 32);\n    runState.memory.write(offsetNum, 32, buf);\n  },\n  MSTORE8: function (runState) {\n    var _a = runState.stack.popN(2),\n        offset = _a[0],\n        byte = _a[1]; // NOTE: we're using a 'trick' here to get the least significant byte\n    // NOTE: force cast necessary because `BN.andln` returns number but\n    // the types are wrong\n\n\n    var buf = Buffer.from([byte.andln(0xff)]);\n    subMemUsage(runState, offset, new BN(1));\n    var offsetNum = offset.toNumber();\n    runState.memory.extend(offsetNum, 1);\n    runState.memory.write(offsetNum, 1, buf);\n  },\n  SLOAD: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var key, keyBuf, value, valueBN;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            key = runState.stack.pop();\n            keyBuf = key.toArrayLike(Buffer, 'be', 32);\n            return [4\n            /*yield*/\n            , runState.eei.storageLoad(keyBuf)];\n\n          case 1:\n            value = _a.sent();\n            valueBN = value.length ? new BN(value) : new BN(0);\n            runState.stack.push(valueBN);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  SSTORE: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, key, val, keyBuf, value, found;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (runState.eei.isStatic()) {\n              trap(exceptions_1.ERROR.STATIC_STATE_CHANGE);\n            }\n\n            _a = runState.stack.popN(2), key = _a[0], val = _a[1];\n            keyBuf = key.toArrayLike(Buffer, 'be', 32);\n\n            if (val.isZero()) {\n              value = Buffer.from([]);\n            } else {\n              value = val.toArrayLike(Buffer, 'be');\n            }\n\n            return [4\n            /*yield*/\n            , getContractStorage(runState, runState.eei.getAddress(), keyBuf)];\n\n          case 1:\n            found = _b.sent();\n            updateSstoreGas(runState, found, value);\n            return [4\n            /*yield*/\n            , runState.eei.storageStore(keyBuf, value)];\n\n          case 2:\n            _b.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  JUMP: function (runState) {\n    var dest = runState.stack.pop();\n\n    if (dest.gt(runState.eei.getCodeSize())) {\n      trap(exceptions_1.ERROR.INVALID_JUMP + ' at ' + describeLocation(runState));\n    }\n\n    var destNum = dest.toNumber();\n\n    if (!jumpIsValid(runState, destNum)) {\n      trap(exceptions_1.ERROR.INVALID_JUMP + ' at ' + describeLocation(runState));\n    }\n\n    runState.programCounter = destNum;\n  },\n  JUMPI: function (runState) {\n    var _a = runState.stack.popN(2),\n        dest = _a[0],\n        cond = _a[1];\n\n    if (!cond.isZero()) {\n      if (dest.gt(runState.eei.getCodeSize())) {\n        trap(exceptions_1.ERROR.INVALID_JUMP + ' at ' + describeLocation(runState));\n      }\n\n      var destNum = dest.toNumber();\n\n      if (!jumpIsValid(runState, destNum)) {\n        trap(exceptions_1.ERROR.INVALID_JUMP + ' at ' + describeLocation(runState));\n      }\n\n      runState.programCounter = destNum;\n    }\n  },\n  PC: function (runState) {\n    runState.stack.push(new BN(runState.programCounter - 1));\n  },\n  MSIZE: function (runState) {\n    runState.stack.push(runState.memoryWordCount.muln(32));\n  },\n  GAS: function (runState) {\n    runState.stack.push(new BN(runState.eei.getGasLeft()));\n  },\n  JUMPDEST: function (runState) {},\n  PUSH: function (runState) {\n    var numToPush = runState.opCode - 0x5f;\n    var loaded = new BN(runState.eei.getCode().slice(runState.programCounter, runState.programCounter + numToPush).toString('hex'), 16);\n    runState.programCounter += numToPush;\n    runState.stack.push(loaded);\n  },\n  DUP: function (runState) {\n    var stackPos = runState.opCode - 0x7f;\n    runState.stack.dup(stackPos);\n  },\n  SWAP: function (runState) {\n    var stackPos = runState.opCode - 0x8f;\n    runState.stack.swap(stackPos);\n  },\n  LOG: function (runState) {\n    if (runState.eei.isStatic()) {\n      trap(exceptions_1.ERROR.STATIC_STATE_CHANGE);\n    }\n\n    var _a = runState.stack.popN(2),\n        memOffset = _a[0],\n        memLength = _a[1];\n\n    var topicsCount = runState.opCode - 0xa0;\n\n    if (topicsCount < 0 || topicsCount > 4) {\n      trap(exceptions_1.ERROR.OUT_OF_RANGE);\n    }\n\n    var topics = runState.stack.popN(topicsCount);\n    var topicsBuf = topics.map(function (a) {\n      return a.toArrayLike(Buffer, 'be', 32);\n    });\n    subMemUsage(runState, memOffset, memLength);\n    var mem = Buffer.alloc(0);\n\n    if (!memLength.isZero()) {\n      mem = runState.memory.read(memOffset.toNumber(), memLength.toNumber());\n    }\n\n    runState.eei.useGas(new BN(runState._common.param('gasPrices', 'logTopic')).imuln(topicsCount).iadd(memLength.muln(runState._common.param('gasPrices', 'logData'))));\n    runState.eei.log(mem, topicsCount, topicsBuf);\n  },\n  // '0xf0' range - closures\n  CREATE: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, value, offset, length, gasLimit, data, ret;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (runState.eei.isStatic()) {\n              trap(exceptions_1.ERROR.STATIC_STATE_CHANGE);\n            }\n\n            _a = runState.stack.popN(3), value = _a[0], offset = _a[1], length = _a[2];\n            subMemUsage(runState, offset, length);\n            gasLimit = new BN(runState.eei.getGasLeft());\n            gasLimit = maxCallGas(gasLimit, runState.eei.getGasLeft());\n            data = Buffer.alloc(0);\n\n            if (!length.isZero()) {\n              data = runState.memory.read(offset.toNumber(), length.toNumber());\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.create(gasLimit, value, data)];\n\n          case 1:\n            ret = _b.sent();\n            runState.stack.push(ret);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  CREATE2: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, value, offset, length, salt, gasLimit, data, ret;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!runState._common.gteHardfork('constantinople')) {\n              trap(exceptions_1.ERROR.INVALID_OPCODE);\n            }\n\n            if (runState.eei.isStatic()) {\n              trap(exceptions_1.ERROR.STATIC_STATE_CHANGE);\n            }\n\n            _a = runState.stack.popN(4), value = _a[0], offset = _a[1], length = _a[2], salt = _a[3];\n            subMemUsage(runState, offset, length); // Deduct gas costs for hashing\n\n            runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sha3Word')).imul(divCeil(length, new BN(32))));\n            gasLimit = new BN(runState.eei.getGasLeft());\n            gasLimit = maxCallGas(gasLimit, runState.eei.getGasLeft());\n            data = Buffer.alloc(0);\n\n            if (!length.isZero()) {\n              data = runState.memory.read(offset.toNumber(), length.toNumber());\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.create2(gasLimit, value, data, salt.toArrayLike(Buffer, 'be', 32))];\n\n          case 1:\n            ret = _b.sent();\n            runState.stack.push(ret);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  CALL: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, gasLimit, toAddress, value, inOffset, inLength, outOffset, outLength, toAddressBuf, data, empty, ret;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = runState.stack.popN(7), gasLimit = _a[0], toAddress = _a[1], value = _a[2], inOffset = _a[3], inLength = _a[4], outOffset = _a[5], outLength = _a[6];\n            toAddressBuf = addressToBuffer(toAddress);\n\n            if (runState.eei.isStatic() && !value.isZero()) {\n              trap(exceptions_1.ERROR.STATIC_STATE_CHANGE);\n            }\n\n            subMemUsage(runState, inOffset, inLength);\n            subMemUsage(runState, outOffset, outLength);\n\n            if (!value.isZero()) {\n              runState.eei.useGas(new BN(runState._common.param('gasPrices', 'callValueTransfer')));\n            }\n\n            gasLimit = maxCallGas(gasLimit, runState.eei.getGasLeft());\n            data = Buffer.alloc(0);\n\n            if (!inLength.isZero()) {\n              data = runState.memory.read(inOffset.toNumber(), inLength.toNumber());\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.isAccountEmpty(toAddressBuf)];\n\n          case 1:\n            empty = _b.sent();\n\n            if (empty) {\n              if (!value.isZero()) {\n                runState.eei.useGas(new BN(runState._common.param('gasPrices', 'callNewAccount')));\n              }\n            }\n\n            if (!value.isZero()) {\n              // TODO: Don't use private attr directly\n              runState.eei._gasLeft.iaddn(runState._common.param('gasPrices', 'callStipend'));\n\n              gasLimit.iaddn(runState._common.param('gasPrices', 'callStipend'));\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.call(gasLimit, toAddressBuf, value, data) // Write return data to memory\n            ];\n\n          case 2:\n            ret = _b.sent(); // Write return data to memory\n\n            writeCallOutput(runState, outOffset, outLength);\n            runState.stack.push(ret);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  CALLCODE: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, gasLimit, toAddress, value, inOffset, inLength, outOffset, outLength, toAddressBuf, data, ret;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = runState.stack.popN(7), gasLimit = _a[0], toAddress = _a[1], value = _a[2], inOffset = _a[3], inLength = _a[4], outOffset = _a[5], outLength = _a[6];\n            toAddressBuf = addressToBuffer(toAddress);\n            subMemUsage(runState, inOffset, inLength);\n            subMemUsage(runState, outOffset, outLength);\n\n            if (!value.isZero()) {\n              runState.eei.useGas(new BN(runState._common.param('gasPrices', 'callValueTransfer')));\n            }\n\n            gasLimit = maxCallGas(gasLimit, runState.eei.getGasLeft());\n\n            if (!value.isZero()) {\n              // TODO: Don't use private attr directly\n              runState.eei._gasLeft.iaddn(runState._common.param('gasPrices', 'callStipend'));\n\n              gasLimit.iaddn(runState._common.param('gasPrices', 'callStipend'));\n            }\n\n            data = Buffer.alloc(0);\n\n            if (!inLength.isZero()) {\n              data = runState.memory.read(inOffset.toNumber(), inLength.toNumber());\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.callCode(gasLimit, toAddressBuf, value, data) // Write return data to memory\n            ];\n\n          case 1:\n            ret = _b.sent(); // Write return data to memory\n\n            writeCallOutput(runState, outOffset, outLength);\n            runState.stack.push(ret);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  DELEGATECALL: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var value, _a, gasLimit, toAddress, inOffset, inLength, outOffset, outLength, toAddressBuf, data, ret;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            value = runState.eei.getCallValue();\n            _a = runState.stack.popN(6), gasLimit = _a[0], toAddress = _a[1], inOffset = _a[2], inLength = _a[3], outOffset = _a[4], outLength = _a[5];\n            toAddressBuf = addressToBuffer(toAddress);\n            subMemUsage(runState, inOffset, inLength);\n            subMemUsage(runState, outOffset, outLength);\n            gasLimit = maxCallGas(gasLimit, runState.eei.getGasLeft());\n            data = Buffer.alloc(0);\n\n            if (!inLength.isZero()) {\n              data = runState.memory.read(inOffset.toNumber(), inLength.toNumber());\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.callDelegate(gasLimit, toAddressBuf, value, data) // Write return data to memory\n            ];\n\n          case 1:\n            ret = _b.sent(); // Write return data to memory\n\n            writeCallOutput(runState, outOffset, outLength);\n            runState.stack.push(ret);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  STATICCALL: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var value, _a, gasLimit, toAddress, inOffset, inLength, outOffset, outLength, toAddressBuf, data, ret;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            value = new BN(0);\n            _a = runState.stack.popN(6), gasLimit = _a[0], toAddress = _a[1], inOffset = _a[2], inLength = _a[3], outOffset = _a[4], outLength = _a[5];\n            toAddressBuf = addressToBuffer(toAddress);\n            subMemUsage(runState, inOffset, inLength);\n            subMemUsage(runState, outOffset, outLength);\n            gasLimit = maxCallGas(gasLimit, runState.eei.getGasLeft());\n            data = Buffer.alloc(0);\n\n            if (!inLength.isZero()) {\n              data = runState.memory.read(inOffset.toNumber(), inLength.toNumber());\n            }\n\n            return [4\n            /*yield*/\n            , runState.eei.callStatic(gasLimit, toAddressBuf, value, data) // Write return data to memory\n            ];\n\n          case 1:\n            ret = _b.sent(); // Write return data to memory\n\n            writeCallOutput(runState, outOffset, outLength);\n            runState.stack.push(ret);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  },\n  RETURN: function (runState) {\n    var _a = runState.stack.popN(2),\n        offset = _a[0],\n        length = _a[1];\n\n    subMemUsage(runState, offset, length);\n    var returnData = Buffer.alloc(0);\n\n    if (!length.isZero()) {\n      returnData = runState.memory.read(offset.toNumber(), length.toNumber());\n    }\n\n    runState.eei.finish(returnData);\n  },\n  REVERT: function (runState) {\n    var _a = runState.stack.popN(2),\n        offset = _a[0],\n        length = _a[1];\n\n    subMemUsage(runState, offset, length);\n    var returnData = Buffer.alloc(0);\n\n    if (!length.isZero()) {\n      returnData = runState.memory.read(offset.toNumber(), length.toNumber());\n    }\n\n    runState.eei.revert(returnData);\n  },\n  // '0x70', range - other\n  SELFDESTRUCT: function (runState) {\n    return __awaiter(this, void 0, void 0, function () {\n      var selfdestructToAddress, selfdestructToAddressBuf, balance, empty;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            selfdestructToAddress = runState.stack.pop();\n\n            if (runState.eei.isStatic()) {\n              trap(exceptions_1.ERROR.STATIC_STATE_CHANGE);\n            }\n\n            selfdestructToAddressBuf = addressToBuffer(selfdestructToAddress);\n            return [4\n            /*yield*/\n            , runState.eei.getExternalBalance(runState.eei.getAddress())];\n\n          case 1:\n            balance = _a.sent();\n            if (!balance.gtn(0)) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , runState.eei.isAccountEmpty(selfdestructToAddressBuf)];\n\n          case 2:\n            empty = _a.sent();\n\n            if (empty) {\n              runState.eei.useGas(new BN(runState._common.param('gasPrices', 'callNewAccount')));\n            }\n\n            _a.label = 3;\n\n          case 3:\n            return [2\n            /*return*/\n            , runState.eei.selfDestruct(selfdestructToAddressBuf)];\n        }\n      });\n    });\n  }\n};\n\nfunction describeLocation(runState) {\n  var hash = utils.keccak256(runState.eei.getCode()).toString('hex');\n  var address = runState.eei.getAddress().toString('hex');\n  var pc = runState.programCounter - 1;\n  return hash + '/' + address + ':' + pc;\n}\n\nfunction trap(err) {\n  // TODO: facilitate extra data along with errors\n  throw new exceptions_1.VmError(err);\n}\n/**\n * Subtracts the amount needed for memory usage from `runState.gasLeft`\n * @method subMemUsage\n * @param {Object} runState\n * @param {BN} offset\n * @param {BN} length\n * @returns {String}\n */\n\n\nfunction subMemUsage(runState, offset, length) {\n  // YP (225): access with zero length will not extend the memory\n  if (length.isZero()) return;\n  var newMemoryWordCount = divCeil(offset.add(length), new BN(32));\n  if (newMemoryWordCount.lte(runState.memoryWordCount)) return;\n  var words = newMemoryWordCount;\n  var fee = new BN(runState._common.param('gasPrices', 'memory'));\n  var quadCoeff = new BN(runState._common.param('gasPrices', 'quadCoeffDiv')); // words * 3 + words ^2 / 512\n\n  var cost = words.mul(fee).add(words.mul(words).div(quadCoeff));\n\n  if (cost.gt(runState.highestMemCost)) {\n    runState.eei.useGas(cost.sub(runState.highestMemCost));\n    runState.highestMemCost = cost;\n  }\n\n  runState.memoryWordCount = newMemoryWordCount;\n}\n/**\n * Returns an overflow-safe slice of an array. It right-pads\n * the data with zeros to `length`.\n * @param {BN} offset\n * @param {BN} length\n * @param {Buffer} data\n */\n\n\nfunction getDataSlice(data, offset, length) {\n  var len = new BN(data.length);\n\n  if (offset.gt(len)) {\n    offset = len;\n  }\n\n  var end = offset.add(length);\n\n  if (end.gt(len)) {\n    end = len;\n  }\n\n  data = data.slice(offset.toNumber(), end.toNumber()); // Right-pad with zeros to fill dataLength bytes\n\n  data = utils.setLengthRight(data, length.toNumber());\n  return data;\n} // checks if a jump is valid given a destination\n\n\nfunction jumpIsValid(runState, dest) {\n  return runState.validJumps.indexOf(dest) !== -1;\n}\n\nfunction maxCallGas(gasLimit, gasLeft) {\n  var gasAllowed = gasLeft.sub(gasLeft.divn(64));\n  return gasLimit.gt(gasAllowed) ? gasAllowed : gasLimit;\n}\n\nfunction getContractStorage(runState, address, key) {\n  return new Promise(function (resolve, reject) {\n    var cb = function (err, res) {\n      if (err) return reject(err);\n      resolve(res);\n    };\n\n    runState.stateManager.getContractStorage(address, key, function (err, current) {\n      if (err) return cb(err, null);\n\n      if (runState._common.hardfork() === 'constantinople' || runState._common.gteHardfork('istanbul')) {\n        runState.stateManager.getOriginalContractStorage(address, key, function (err, original) {\n          if (err) return cb(err, null);\n          cb(null, {\n            current: current,\n            original: original\n          });\n        });\n      } else {\n        cb(null, current);\n      }\n    });\n  });\n}\n\nfunction updateSstoreGas(runState, found, value) {\n  if (runState._common.hardfork() === 'constantinople') {\n    var original = found.original;\n    var current = found.current;\n\n    if (current.equals(value)) {\n      // If current value equals new value (this is a no-op), 200 gas is deducted.\n      runState.eei.useGas(new BN(runState._common.param('gasPrices', 'netSstoreNoopGas')));\n      return;\n    } // If current value does not equal new value\n\n\n    if (original.equals(current)) {\n      // If original value equals current value (this storage slot has not been changed by the current execution context)\n      if (original.length === 0) {\n        // If original value is 0, 20000 gas is deducted.\n        return runState.eei.useGas(new BN(runState._common.param('gasPrices', 'netSstoreInitGas')));\n      }\n\n      if (value.length === 0) {\n        // If new value is 0, add 15000 gas to refund counter.\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'netSstoreClearRefund')));\n      } // Otherwise, 5000 gas is deducted.\n\n\n      return runState.eei.useGas(new BN(runState._common.param('gasPrices', 'netSstoreCleanGas')));\n    } // If original value does not equal current value (this storage slot is dirty), 200 gas is deducted. Apply both of the following clauses.\n\n\n    if (original.length !== 0) {\n      // If original value is not 0\n      if (current.length === 0) {\n        // If current value is 0 (also means that new value is not 0), remove 15000 gas from refund counter. We can prove that refund counter will never go below 0.\n        runState.eei.subRefund(new BN(runState._common.param('gasPrices', 'netSstoreClearRefund')));\n      } else if (value.length === 0) {\n        // If new value is 0 (also means that current value is not 0), add 15000 gas to refund counter.\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'netSstoreClearRefund')));\n      }\n    }\n\n    if (original.equals(value)) {\n      // If original value equals new value (this storage slot is reset)\n      if (original.length === 0) {\n        // If original value is 0, add 19800 gas to refund counter.\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'netSstoreResetClearRefund')));\n      } else {\n        // Otherwise, add 4800 gas to refund counter.\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'netSstoreResetRefund')));\n      }\n    }\n\n    return runState.eei.useGas(new BN(runState._common.param('gasPrices', 'netSstoreDirtyGas')));\n  } else if (runState._common.gteHardfork('istanbul')) {\n    // EIP-2200\n    var original_1 = found.original;\n    var current_1 = found.current; // Fail if not enough gas is left\n\n    if (runState.eei.getGasLeft().lten(runState._common.param('gasPrices', 'sstoreSentryGasEIP2200'))) {\n      trap(exceptions_1.ERROR.OUT_OF_GAS);\n    } // Noop\n\n\n    if (current_1.equals(value)) {\n      return runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreNoopGasEIP2200')));\n    }\n\n    if (original_1.equals(current_1)) {\n      // Create slot\n      if (original_1.length === 0) {\n        return runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreInitGasEIP2200')));\n      } // Delete slot\n\n\n      if (value.length === 0) {\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'sstoreClearRefundEIP2200')));\n      } // Write existing slot\n\n\n      return runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreCleanGasEIP2200')));\n    }\n\n    if (original_1.length > 0) {\n      if (current_1.length === 0) {\n        // Recreate slot\n        runState.eei.subRefund(new BN(runState._common.param('gasPrices', 'sstoreClearRefundEIP2200')));\n      } else if (value.length === 0) {\n        // Delete slot\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'sstoreClearRefundEIP2200')));\n      }\n    }\n\n    if (original_1.equals(value)) {\n      if (original_1.length === 0) {\n        // Reset to original non-existent slot\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'sstoreInitRefundEIP2200')));\n      } else {\n        // Reset to original existing slot\n        runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'sstoreCleanRefundEIP2200')));\n      }\n    } // Dirty update\n\n\n    return runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreDirtyGasEIP2200')));\n  } else {\n    if (value.length === 0 && !found.length) {\n      runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreReset')));\n    } else if (value.length === 0 && found.length) {\n      runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreReset')));\n      runState.eei.refundGas(new BN(runState._common.param('gasPrices', 'sstoreRefund')));\n    } else if (value.length !== 0 && !found.length) {\n      runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreSet')));\n    } else if (value.length !== 0 && found.length) {\n      runState.eei.useGas(new BN(runState._common.param('gasPrices', 'sstoreReset')));\n    }\n  }\n}\n\nfunction writeCallOutput(runState, outOffset, outLength) {\n  var returnData = runState.eei.getReturnData();\n\n  if (returnData.length > 0) {\n    var memOffset = outOffset.toNumber();\n    var dataLength = outLength.toNumber();\n\n    if (returnData.length < dataLength) {\n      dataLength = returnData.length;\n    }\n\n    var data = getDataSlice(returnData, new BN(0), new BN(dataLength));\n    runState.memory.extend(memOffset, dataLength);\n    runState.memory.write(memOffset, dataLength, data);\n  }\n}","map":{"version":3,"mappings":"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","names":["MASK_160","BN","shln","subn","divCeil","a","b","div","mod","isZero","isNeg","isubn","iaddn","addressToBuffer","address","and","toArrayLike","Buffer","exports","STOP","runState","trap","exceptions_1","ADD","r","add","utils","TWO_POW256","stack","push","MUL","mul","SUB","sub","toTwos","DIV","SDIV","fromTwos","MOD","SMOD","abs","ineg","ADDMOD","c","MULMOD","EXP","base","exponent","byteLength","OUT_OF_RANGE","gasPrice","_common","param","amount","muln","eei","useGas","m","red","redBase","toRed","redPow","fromRed","SIGNEXTEND","k","val","ltn","signBit","toNumber","mask","ishln","testn","or","notn","LT","lt","GT","gt","SLT","SGT","EQ","eq","ISZERO","pop","AND","OR","XOR","xor","NOT","BYTE","pos","word","gten","shrn","andln","SHL","gteHardfork","INVALID_OPCODE","iand","MAX_INTEGER","SHR","SAR","isSigned","shiftedOutWidth","ior","SHA3","offset","length","subMemUsage","data","alloc","memory","read","imul","keccak256","ADDRESS","getAddress","BALANCE","addressBuf","getExternalBalance","balance","_a","ORIGIN","getTxOrigin","CALLER","getCaller","CALLVALUE","getCallValue","CALLDATALOAD","getCallDataSize","i","loaded","getCallData","slice","from","setLengthRight","CALLDATASIZE","CALLDATACOPY","memOffset","dataOffset","dataLength","getDataSlice","memOffsetNum","dataLengthNum","extend","write","CODESIZE","getCodeSize","CODECOPY","codeOffset","getCode","lengthNum","EXTCODESIZE","getExternalCodeSize","size","EXTCODECOPY","popN","getExternalCode","code","_b","EXTCODEHASH","isAccountEmpty","empty","KECCAK256_NULL","RETURNDATASIZE","getReturnDataSize","RETURNDATACOPY","returnDataOffset","OUT_OF_GAS","getReturnData","GASPRICE","getTxGasPrice","BLOCKHASH","number","diff","getBlockNumber","gtn","lten","getBlockHash","hash","COINBASE","getBlockCoinbase","TIMESTAMP","getBlockTimestamp","NUMBER","DIFFICULTY","getBlockDifficulty","GASLIMIT","getBlockGasLimit","CHAINID","getChainId","SELFBALANCE","getSelfBalance","POP","MLOAD","MSTORE","buf","offsetNum","MSTORE8","byte","SLOAD","key","keyBuf","storageLoad","value","valueBN","SSTORE","isStatic","STATIC_STATE_CHANGE","getContractStorage","found","updateSstoreGas","storageStore","JUMP","dest","INVALID_JUMP","describeLocation","destNum","jumpIsValid","programCounter","JUMPI","cond","PC","MSIZE","memoryWordCount","GAS","getGasLeft","JUMPDEST","PUSH","numToPush","opCode","toString","DUP","stackPos","dup","SWAP","swap","LOG","memLength","topicsCount","topics","topicsBuf","map","mem","imuln","iadd","log","CREATE","gasLimit","maxCallGas","create","ret","CREATE2","salt","create2","CALL","toAddress","inOffset","inLength","outOffset","outLength","toAddressBuf","_gasLeft","call","writeCallOutput","CALLCODE","callCode","DELEGATECALL","callDelegate","STATICCALL","callStatic","RETURN","returnData","finish","REVERT","revert","SELFDESTRUCT","selfdestructToAddress","selfdestructToAddressBuf","selfDestruct","pc","err","newMemoryWordCount","lte","words","fee","quadCoeff","cost","highestMemCost","len","end","validJumps","indexOf","gasLeft","gasAllowed","divn","Promise","resolve","reject","cb","res","stateManager","current","hardfork","getOriginalContractStorage","original","equals","refundGas","subRefund","original_1","current_1"],"sources":["../../lib/evm/opFns.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}