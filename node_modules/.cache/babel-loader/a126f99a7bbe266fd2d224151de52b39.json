{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BN = require(\"bn.js\");\n\nvar evm_1 = require(\"../evm\");\n\nvar assert = require('assert');\n\nvar bn128 = require('rustbn.js');\n\nfunction default_1(opts) {\n  assert(opts.data);\n  var inputData = opts.data;\n  var gasUsed = new BN(opts._common.param('gasPrices', 'ecMul'));\n\n  if (opts.gasLimit.lt(gasUsed)) {\n    return evm_1.OOGResult(opts.gasLimit);\n  }\n\n  var returnData = bn128.mul(inputData); // check ecmul success or failure by comparing the output length\n\n  if (returnData.length !== 64) {\n    return evm_1.OOGResult(opts.gasLimit);\n  }\n\n  return {\n    gasUsed: gasUsed,\n    returnValue: returnData\n  };\n}\n\nexports.default = default_1;","map":{"version":3,"mappings":";;;;;;AAAA;;AAEA;;AACA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,WAAD,CAArB;;AAEA,mBAAwBE,IAAxB,EAA6C;EAC3CH,MAAM,CAACG,IAAI,CAACC,IAAN,CAAN;EAEA,IAAMC,SAAS,GAAGF,IAAI,CAACC,IAAvB;EACA,IAAME,OAAO,GAAG,IAAIC,EAAJ,CAAOJ,IAAI,CAACK,OAAL,CAAaC,KAAb,CAAmB,WAAnB,EAAgC,OAAhC,CAAP,CAAhB;;EAEA,IAAIN,IAAI,CAACO,QAAL,CAAcC,EAAd,CAAiBL,OAAjB,CAAJ,EAA+B;IAC7B,OAAOM,gBAAUT,IAAI,CAACO,QAAf,CAAP;EACD;;EAED,IAAIG,UAAU,GAAGX,KAAK,CAACY,GAAN,CAAUT,SAAV,CAAjB,CAV2C,CAW3C;;EACA,IAAIQ,UAAU,CAACE,MAAX,KAAsB,EAA1B,EAA8B;IAC5B,OAAOH,gBAAUT,IAAI,CAACO,QAAf,CAAP;EACD;;EAED,OAAO;IACLJ,OAAO,SADF;IAELU,WAAW,EAAEH;EAFR,CAAP;AAID;;AApBDI","names":["assert","require","bn128","opts","data","inputData","gasUsed","BN","_common","param","gasLimit","lt","evm_1","returnData","mul","length","returnValue","exports"],"sources":["../../../lib/evm/precompiles/07-ecmul.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}